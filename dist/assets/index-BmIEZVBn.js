var gM=Object.defineProperty;var yM=(t,e,n)=>e in t?gM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var he=(t,e,n)=>yM(t,typeof e!="symbol"?e+"":e,n);function vM(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ex(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tx={exports:{}},Kh={},nx={exports:{}},sx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,k){var M=R.length;R.push(k);e:for(;0<M;){var B=M-1>>>1,z=R[B];if(0<i(z,k))R[B]=k,R[M]=z,M=B;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var k=R[0],M=R.pop();if(M!==k){R[0]=M;e:for(var B=0,z=R.length,X=z>>>1;B<X;){var ne=2*(B+1)-1,re=R[ne],ie=ne+1,K=R[ie];if(0>i(re,M))ie<z&&0>i(K,re)?(R[B]=K,R[ie]=M,B=ie):(R[B]=re,R[ne]=M,B=ne);else if(ie<z&&0>i(K,M))R[B]=K,R[ie]=M,B=ie;else break e}}return k}function i(R,k){var M=R.sortIndex-k.sortIndex;return M!==0?M:R.id-k.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var k=n(c);k!==null;){if(k.callback===null)s(c);else if(k.startTime<=R)s(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function w(R){if(g=!1,S(R),!p)if(n(l)!==null)p=!0,C||(C=!0,D());else{var k=n(c);k!==null&&L(w,k.startTime-R)}}var C=!1,E=-1,T=5,O=-1;function A(){return v?!0:!(t.unstable_now()-O<T)}function N(){if(v=!1,C){var R=t.unstable_now();O=R;var k=!0;try{e:{p=!1,g&&(g=!1,y(E),E=-1),f=!0;var M=d;try{t:{for(S(R),h=n(l);h!==null&&!(h.expirationTime>R&&A());){var B=h.callback;if(typeof B=="function"){h.callback=null,d=h.priorityLevel;var z=B(h.expirationTime<=R);if(R=t.unstable_now(),typeof z=="function"){h.callback=z,S(R),k=!0;break t}h===n(l)&&s(l),S(R)}else s(l);h=n(l)}if(h!==null)k=!0;else{var X=n(c);X!==null&&L(w,X.startTime-R),k=!1}}break e}finally{h=null,d=M,f=!1}k=void 0}}finally{k?D():C=!1}}}var D;if(typeof b=="function")D=function(){b(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=N,D=function(){V.postMessage(null)}}else D=function(){m(N,0)};function L(R,k){E=m(function(){R(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var M=d;d=k;try{return R()}finally{d=M}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(R,k){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=d;d=R;try{return k()}finally{d=M}},t.unstable_scheduleCallback=function(R,k,M){var B=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=M+z,R={id:u++,callback:k,priorityLevel:R,startTime:M,expirationTime:z,sortIndex:-1},M>B?(R.sortIndex=M,e(c,R),n(l)===null&&R===n(c)&&(g?(y(E),E=-1):g=!0,L(w,M-B))):(R.sortIndex=z,e(l,R),p||f||(p=!0,C||(C=!0,D()))),R},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(R){var k=d;return function(){var M=d;d=k;try{return R.apply(this,arguments)}finally{d=M}}}})(sx);nx.exports=sx;var bM=nx.exports,ix={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=Symbol.for("react.transitional.element"),_M=Symbol.for("react.portal"),xM=Symbol.for("react.fragment"),SM=Symbol.for("react.strict_mode"),wM=Symbol.for("react.profiler"),TM=Symbol.for("react.consumer"),EM=Symbol.for("react.context"),CM=Symbol.for("react.forward_ref"),AM=Symbol.for("react.suspense"),NM=Symbol.for("react.memo"),rx=Symbol.for("react.lazy"),MM=Symbol.for("react.activity"),qv=Symbol.iterator;function RM(t){return t===null||typeof t!="object"?null:(t=qv&&t[qv]||t["@@iterator"],typeof t=="function"?t:null)}var ax={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ox=Object.assign,lx={};function mo(t,e,n){this.props=t,this.context=e,this.refs=lx,this.updater=n||ax}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cx(){}cx.prototype=mo.prototype;function ug(t,e,n){this.props=t,this.context=e,this.refs=lx,this.updater=n||ax}var hg=ug.prototype=new cx;hg.constructor=ug;ox(hg,mo.prototype);hg.isPureReactComponent=!0;var Gv=Array.isArray;function gp(){}var Ze={H:null,A:null,T:null,S:null},ux=Object.prototype.hasOwnProperty;function dg(t,e,n){var s=n.ref;return{$$typeof:cg,type:t,key:e,ref:s!==void 0?s:null,props:n}}function kM(t,e){return dg(t.type,e,t.props)}function fg(t){return typeof t=="object"&&t!==null&&t.$$typeof===cg}function OM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yv=/\/+/g;function Jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OM(""+t.key):e.toString(36)}function DM(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(gp,gp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function da(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cg:case _M:a=!0;break;case rx:return a=t._init,da(a(t._payload),e,n,s,i)}}if(a)return i=i(t),a=s===""?"."+Jd(t,0):s,Gv(i)?(n="",a!=null&&(n=a.replace(Yv,"$&/")+"/"),da(i,e,n,"",function(c){return c})):i!=null&&(fg(i)&&(i=kM(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Yv,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=s===""?".":s+":";if(Gv(t))for(var l=0;l<t.length;l++)s=t[l],r=o+Jd(s,l),a+=da(s,e,n,r,i);else if(l=RM(t),typeof l=="function")for(t=l.call(t),l=0;!(s=t.next()).done;)s=s.value,r=o+Jd(s,l++),a+=da(s,e,n,r,i);else if(r==="object"){if(typeof t.then=="function")return da(DM(t),e,n,s,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Vc(t,e,n){if(t==null)return t;var s=[],i=0;return da(t,s,"","",function(r){return e.call(n,r,i++)}),s}function VM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},IM={map:Vc,forEach:function(t,e,n){Vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!fg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Activity=MM;pe.Children=IM;pe.Component=mo;pe.Fragment=xM;pe.Profiler=wM;pe.PureComponent=ug;pe.StrictMode=SM;pe.Suspense=AM;pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ze;pe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ze.H.useMemoCache(t)}};pe.cache=function(t){return function(){return t.apply(null,arguments)}};pe.cacheSignal=function(){return null};pe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=ox({},t.props),i=t.key;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)!ux.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(s[r]=e[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];s.children=a}return dg(t.type,i,s)};pe.createContext=function(t){return t={$$typeof:EM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:TM,_context:t},t};pe.createElement=function(t,e,n){var s,i={},r=null;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)ux.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return dg(t,r,i)};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:CM,render:t}};pe.isValidElement=fg;pe.lazy=function(t){return{$$typeof:rx,_payload:{_status:-1,_result:t},_init:VM}};pe.memo=function(t,e){return{$$typeof:NM,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Ze.T,n={};Ze.T=n;try{var s=t(),i=Ze.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(gp,Xv)}catch(r){Xv(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ze.T=e}};pe.unstable_useCacheRefresh=function(){return Ze.H.useCacheRefresh()};pe.use=function(t){return Ze.H.use(t)};pe.useActionState=function(t,e,n){return Ze.H.useActionState(t,e,n)};pe.useCallback=function(t,e){return Ze.H.useCallback(t,e)};pe.useContext=function(t){return Ze.H.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t,e){return Ze.H.useDeferredValue(t,e)};pe.useEffect=function(t,e){return Ze.H.useEffect(t,e)};pe.useEffectEvent=function(t){return Ze.H.useEffectEvent(t)};pe.useId=function(){return Ze.H.useId()};pe.useImperativeHandle=function(t,e,n){return Ze.H.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Ze.H.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Ze.H.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Ze.H.useMemo(t,e)};pe.useOptimistic=function(t,e){return Ze.H.useOptimistic(t,e)};pe.useReducer=function(t,e,n){return Ze.H.useReducer(t,e,n)};pe.useRef=function(t){return Ze.H.useRef(t)};pe.useState=function(t){return Ze.H.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Ze.H.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Ze.H.useTransition()};pe.version="19.2.4";ix.exports=pe;var _=ix.exports;const _t=ex(_),hx=vM({__proto__:null,default:_t},[_]);var dx={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM=_;function fx(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pi(){}var Gt={d:{f:pi,r:function(){throw Error(fx(522))},D:pi,C:pi,L:pi,m:pi,X:pi,S:pi,M:pi},p:0,findDOMNode:null},LM=Symbol.for("react.portal");function jM(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:LM,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var il=BM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Zh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gt;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(fx(299));return jM(t,e,null,n)};Zt.flushSync=function(t){var e=il.T,n=Gt.p;try{if(il.T=null,Gt.p=2,t)return t()}finally{il.T=e,Gt.p=n,Gt.d.f()}};Zt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Gt.d.C(t,e))};Zt.prefetchDNS=function(t){typeof t=="string"&&Gt.d.D(t)};Zt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Zh(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Gt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:r}):n==="script"&&Gt.d.X(t,{crossOrigin:s,integrity:i,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Zh(e.as,e.crossOrigin);Gt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Gt.d.M(t)};Zt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Zh(n,e.crossOrigin);Gt.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Zh(e.as,e.crossOrigin);Gt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Gt.d.m(t)};Zt.requestFormReset=function(t){Gt.d.r(t)};Zt.unstable_batchedUpdates=function(t,e){return t(e)};Zt.useFormState=function(t,e,n){return il.H.useFormState(t,e,n)};Zt.useFormStatus=function(){return il.H.useHostTransitionStatus()};Zt.version="19.2.4";function px(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(px)}catch(t){console.error(t)}}px(),dx.exports=Zt;var go=dx.exports;const PM=ex(go);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=bM,mx=_,zM=go;function F(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vx(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wv(t){if(Kl(t)!==t)throw Error(F(188))}function UM(t){var e=t.alternate;if(!e){if(e=Kl(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Wv(i),t;if(r===s)return Wv(i),e;r=r.sibling}throw Error(F(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==s)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function bx(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=bx(t),e!==null)return e;t=t.sibling}return null}var $e=Object.assign,FM=Symbol.for("react.element"),Ic=Symbol.for("react.transitional.element"),Zo=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),xx=Symbol.for("react.consumer"),Gs=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),mg=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),_p=Symbol.for("react.activity"),HM=Symbol.for("react.memo_cache_sentinel"),Kv=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=Kv&&t[Kv]||t["@@iterator"],typeof t=="function"?t:null)}var qM=Symbol.for("react.client.reference");function xp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===qM?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ya:return"Fragment";case yp:return"Profiler";case _x:return"StrictMode";case vp:return"Suspense";case bp:return"SuspenseList";case _p:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Zo:return"Portal";case Gs:return t.displayName||"Context";case xx:return(t._context.displayName||"Context")+".Consumer";case pg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mg:return e=t.displayName||null,e!==null?e:xp(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return xp(t(e))}catch{}}return null}var Qo=Array.isArray,ue=mx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke=zM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rr={pending:!1,data:null,method:null,action:null},Sp=[],va=-1;function Ns(t){return{current:t}}function At(t){0>va||(t.current=Sp[va],Sp[va]=null,va--)}function He(t,e){va++,Sp[va]=t.current,t.current=e}var ys=Ns(null),Sl=Ns(null),Bi=Ns(null),zu=Ns(null);function Uu(t,e){switch(He(Bi,e),He(Sl,t),He(ys,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?tb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=tb(e),t=Uw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}At(ys),He(ys,t)}function Wa(){At(ys),At(Sl),At(Bi)}function wp(t){t.memoizedState!==null&&He(zu,t);var e=ys.current,n=Uw(e,t.type);e!==n&&(He(Sl,t),He(ys,n))}function Fu(t){Sl.current===t&&(At(ys),At(Sl)),zu.current===t&&(At(zu),Dl._currentValue=Rr)}var ef,Zv;function _r(t){if(ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ef=e&&e[1]||"",Zv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ef+t+Zv}var tf=!1;function nf(t,e){if(!t||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var d=f}Reflect.construct(t,[],h)}else{try{h.call()}catch(f){d=f}t.call(h.prototype)}}else{try{throw Error()}catch(f){d=f}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&d&&typeof f.stack=="string")return[f.stack,d.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=s=0;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(s===l.length||i===c.length)for(s=l.length-1,i=c.length-1;1<=s&&0<=i&&l[s]!==c[i];)i--;for(;1<=s&&0<=i;s--,i--)if(l[s]!==c[i]){if(s!==1||i!==1)do if(s--,i--,0>i||l[s]!==c[i]){var u=`
`+l[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=i);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?_r(n):""}function GM(t,e){switch(t.tag){case 26:case 27:case 5:return _r(t.type);case 16:return _r("Lazy");case 13:return t.child!==e&&e!==null?_r("Suspense Fallback"):_r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return nf(t.type,!1);case 11:return nf(t.type.render,!1);case 1:return nf(t.type,!0);case 31:return _r("Activity");default:return""}}function Qv(t){try{var e="",n=null;do e+=GM(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Tp=Object.prototype.hasOwnProperty,gg=wt.unstable_scheduleCallback,sf=wt.unstable_cancelCallback,YM=wt.unstable_shouldYield,XM=wt.unstable_requestPaint,bn=wt.unstable_now,WM=wt.unstable_getCurrentPriorityLevel,Sx=wt.unstable_ImmediatePriority,wx=wt.unstable_UserBlockingPriority,Hu=wt.unstable_NormalPriority,KM=wt.unstable_LowPriority,Tx=wt.unstable_IdlePriority,ZM=wt.log,QM=wt.unstable_setDisableYieldValue,Zl=null,_n=null;function Ri(t){if(typeof ZM=="function"&&QM(t),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(Zl,t)}catch{}}var xn=Math.clz32?Math.clz32:e2,$M=Math.log,JM=Math.LN2;function e2(t){return t>>>=0,t===0?32:31-($M(t)/JM|0)|0}var Bc=256,Lc=262144,jc=4194304;function xr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qh(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~r,s!==0?i=xr(s):(a&=o,a!==0?i=xr(a):n||(n=o&~t,n!==0&&(i=xr(n))))):(o=s&~r,o!==0?i=xr(o):a!==0?i=xr(a):n||(n=s&~t,n!==0&&(i=xr(n)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:i}function Ql(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function t2(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ex(){var t=jc;return jc<<=1,!(jc&62914560)&&(jc=4194304),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $l(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function n2(t,e,n,s,i,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var u=31-xn(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(d!==null)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];f!==null&&(f.lane&=-536870913)}n&=~h}s!==0&&Cx(t,s,0),r!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function Cx(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-xn(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function Ax(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-xn(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}function Nx(t,e){var n=e&-e;return n=n&42?1:yg(n),n&(t.suspendedLanes|e)?0:n}function yg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Mx(){var t=ke.p;return t!==0?t:(t=window.event,t===void 0?32:$w(t.type))}function $v(t,e){var n=ke.p;try{return ke.p=t,e()}finally{ke.p=n}}var or=Math.random().toString(36).slice(2),Vt="__reactFiber$"+or,on="__reactProps$"+or,yo="__reactContainer$"+or,Ep="__reactEvents$"+or,s2="__reactListeners$"+or,i2="__reactHandles$"+or,Jv="__reactResources$"+or,Jl="__reactMarker$"+or;function bg(t){delete t[Vt],delete t[on],delete t[Ep],delete t[s2],delete t[i2]}function ba(t){var e=t[Vt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yo]||n[Vt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ab(t);t!==null;){if(n=t[Vt])return n;t=ab(t)}return e}t=n,n=t.parentNode}return null}function vo(t){if(t=t[Vt]||t[yo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function $o(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(F(33))}function La(t){var e=t[Jv];return e||(e=t[Jv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ct(t){t[Jl]=!0}var Rx=new Set,kx={};function Wr(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(kx[t]=e,t=0;t<e.length;t++)Rx.add(e[t])}var r2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),e0={},t0={};function a2(t){return Tp.call(t0,t)?!0:Tp.call(e0,t)?!1:r2.test(t)?t0[t]=!0:(e0[t]=!0,!1)}function pu(t,e,n){if(a2(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Pc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Is(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function Rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ox(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o2(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cp(t){if(!t._valueTracker){var e=Ox(t)?"checked":"value";t._valueTracker=o2(t,e,""+t[e])}}function Dx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Ox(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var l2=/[\n"\\]/g;function Dn(t){return t.replace(l2,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ap(t,e,n,s,i,r,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Rn(e)):t.value!==""+Rn(e)&&(t.value=""+Rn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Np(t,a,Rn(e)):n!=null?Np(t,a,Rn(n)):s!=null&&t.removeAttribute("value"),i==null&&r!=null&&(t.defaultChecked=!!r),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Rn(o):t.removeAttribute("name")}function Vx(t,e,n,s,i,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){Cp(t);return}n=n!=null?""+Rn(n):"",e=e!=null?""+Rn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Cp(t)}function Np(t,e,n){e==="number"&&qu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ja(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ix(t,e,n){if(e!=null&&(e=""+Rn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Rn(n):""}function Bx(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(F(92));if(Qo(s)){if(1<s.length)throw Error(F(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Rn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),Cp(t)}function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var c2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function n0(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||c2.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Lx(t,e,n){if(e!=null&&typeof e!="object")throw Error(F(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&n[i]!==s&&n0(t,i,s)}else for(var r in e)e.hasOwnProperty(r)&&n0(t,r,e[r])}function _g(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mu(t){return h2.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ys(){}var Mp=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _a=null,Pa=null;function s0(t){var e=vo(t);if(e&&(t=e.stateNode)){var n=t[on]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ap(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Dn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=s[on]||null;if(!i)throw Error(F(90));Ap(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&Dx(s)}break e;case"textarea":Ix(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}}}var af=!1;function jx(t,e,n){if(af)return t(e,n);af=!0;try{var s=t(e);return s}finally{if(af=!1,(_a!==null||Pa!==null)&&(cd(),_a&&(e=_a,t=Pa,Pa=_a=null,s0(e),t)))for(e=0;e<t.length;e++)s0(t[e])}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var s=n[on]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=!1;if($s)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Rp=!1}var ki=null,Sg=null,gu=null;function Px(){if(gu)return gu;var t,e=Sg,n=e.length,s,i="value"in ki?ki.value:ki.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===i[r-s];s++);return gu=i.slice(t,1<s?1-s:void 0)}function yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zc(){return!0}function i0(){return!1}function un(t){function e(n,s,i,r,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?zc:i0,this.isPropagationStopped=i0,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),e}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$h=un(Kr),ec=$e({},Kr,{view:0,detail:0}),d2=un(ec),of,lf,Fo,Jh=$e({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(of=t.screenX-Fo.screenX,lf=t.screenY-Fo.screenY):lf=of=0,Fo=t),of)},movementY:function(t){return"movementY"in t?t.movementY:lf}}),r0=un(Jh),f2=$e({},Jh,{dataTransfer:0}),p2=un(f2),m2=$e({},ec,{relatedTarget:0}),cf=un(m2),g2=$e({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),y2=un(g2),v2=$e({},Kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b2=un(v2),_2=$e({},Kr,{data:0}),a0=un(_2),x2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w2[t])?!!e[t]:!1}function wg(){return T2}var E2=$e({},ec,{key:function(t){if(t.key){var e=x2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(t){return t.type==="keypress"?yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C2=un(E2),A2=$e({},Jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o0=un(A2),N2=$e({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),M2=un(N2),R2=$e({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),k2=un(R2),O2=$e({},Jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D2=un(O2),V2=$e({},Kr,{newState:0,oldState:0}),I2=un(V2),B2=[9,13,27,32],Tg=$s&&"CompositionEvent"in window,rl=null;$s&&"documentMode"in document&&(rl=document.documentMode);var L2=$s&&"TextEvent"in window&&!rl,zx=$s&&(!Tg||rl&&8<rl&&11>=rl),l0=" ",c0=!1;function Ux(t,e){switch(t){case"keyup":return B2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function j2(t,e){switch(t){case"compositionend":return Fx(e);case"keypress":return e.which!==32?null:(c0=!0,l0);case"textInput":return t=e.data,t===l0&&c0?null:t;default:return null}}function P2(t,e){if(xa)return t==="compositionend"||!Tg&&Ux(t,e)?(t=Px(),gu=Sg=ki=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var z2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z2[t.type]:e==="textarea"}function Hx(t,e,n,s){_a?Pa?Pa.push(s):Pa=[s]:_a=s,e=lh(e,"onChange"),0<e.length&&(n=new $h("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var al=null,Tl=null;function U2(t){jw(t,0)}function ed(t){var e=$o(t);if(Dx(e))return t}function h0(t,e){if(t==="change")return e}var qx=!1;if($s){var uf;if($s){var hf="oninput"in document;if(!hf){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),hf=typeof d0.oninput=="function"}uf=hf}else uf=!1;qx=uf&&(!document.documentMode||9<document.documentMode)}function f0(){al&&(al.detachEvent("onpropertychange",Gx),Tl=al=null)}function Gx(t){if(t.propertyName==="value"&&ed(Tl)){var e=[];Hx(e,Tl,t,xg(t)),jx(U2,e)}}function F2(t,e,n){t==="focusin"?(f0(),al=e,Tl=n,al.attachEvent("onpropertychange",Gx)):t==="focusout"&&f0()}function H2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ed(Tl)}function q2(t,e){if(t==="click")return ed(e)}function G2(t,e){if(t==="input"||t==="change")return ed(e)}function Y2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:Y2;function El(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Tp.call(e,i)||!En(t[i],e[i]))return!1}return!0}function p0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m0(t,e){var n=p0(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p0(n)}}function Yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=qu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qu(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var X2=$s&&"documentMode"in document&&11>=document.documentMode,Sa=null,kp=null,ol=null,Op=!1;function g0(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Op||Sa==null||Sa!==qu(s)||(s=Sa,"selectionStart"in s&&Eg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ol&&El(ol,s)||(ol=s,s=lh(kp,"onSelect"),0<s.length&&(e=new $h("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Sa)))}function gr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wa={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},df={},Wx={};$s&&(Wx=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Zr(t){if(df[t])return df[t];if(!wa[t])return t;var e=wa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wx)return df[t]=e[n];return t}var Kx=Zr("animationend"),Zx=Zr("animationiteration"),Qx=Zr("animationstart"),W2=Zr("transitionrun"),K2=Zr("transitionstart"),Z2=Zr("transitioncancel"),$x=Zr("transitionend"),Jx=new Map,Dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dp.push("scrollEnd");function os(t,e){Jx.set(t,e),Wr(e,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Ta=0,Cg=0;function td(){for(var t=Ta,e=Cg=Ta=0;e<t;){var n=Nn[e];Nn[e++]=null;var s=Nn[e];Nn[e++]=null;var i=Nn[e];Nn[e++]=null;var r=Nn[e];if(Nn[e++]=null,s!==null&&i!==null){var a=s.pending;a===null?i.next=i:(i.next=a.next,a.next=i),s.pending=i}r!==0&&eS(n,i,r)}}function nd(t,e,n,s){Nn[Ta++]=t,Nn[Ta++]=e,Nn[Ta++]=n,Nn[Ta++]=s,Cg|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Ag(t,e,n,s){return nd(t,e,n,s),Yu(t)}function Qr(t,e){return nd(t,null,null,e),Yu(t)}function eS(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var i=!1,r=t.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(i=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,i&&e!==null&&(i=31-xn(n),t=r.hiddenUpdates,s=t[i],s===null?t[i]=[e]:s.push(e),e.lane=n|536870912),r):null}function Yu(t){if(50<gl)throw gl=0,em=null,Error(F(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ea={};function Q2(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,s){return new Q2(t,e,n,s)}function Ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ws(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function tS(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function vu(t,e,n,s,i,r){var a=0;if(s=t,typeof t=="function")Ng(t)&&(a=1);else if(typeof t=="string")a=nk(t,n,ys.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case _p:return t=mn(31,n,e,i),t.elementType=_p,t.lanes=r,t;case ya:return kr(n.children,i,r,e);case _x:a=8,i|=24;break;case yp:return t=mn(12,n,e,i|2),t.elementType=yp,t.lanes=r,t;case vp:return t=mn(13,n,e,i),t.elementType=vp,t.lanes=r,t;case bp:return t=mn(19,n,e,i),t.elementType=bp,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gs:a=10;break e;case xx:a=9;break e;case pg:a=11;break e;case mg:a=14;break e;case xi:a=16,s=null;break e}a=29,n=Error(F(130,t===null?"null":typeof t,"")),s=null}return e=mn(a,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function kr(t,e,n,s){return t=mn(7,t,s,e),t.lanes=n,t}function ff(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function nS(t){var e=mn(18,null,null,0);return e.stateNode=t,e}function pf(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var y0=new WeakMap;function Vn(t,e){if(typeof t=="object"&&t!==null){var n=y0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Qv(e)},y0.set(t,e),e)}return{value:t,source:e,stack:Qv(e)}}var Ca=[],Aa=0,Xu=null,Cl=0,kn=[],On=0,Wi=null,fs=1,ps="";function Hs(t,e){Ca[Aa++]=Cl,Ca[Aa++]=Xu,Xu=t,Cl=e}function sS(t,e,n){kn[On++]=fs,kn[On++]=ps,kn[On++]=Wi,Wi=t;var s=fs;t=ps;var i=32-xn(s)-1;s&=~(1<<i),n+=1;var r=32-xn(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,fs=1<<32-xn(e)+i|n<<i|s,ps=r+t}else fs=1<<r|n<<i|s,ps=t}function Mg(t){t.return!==null&&(Hs(t,1),sS(t,1,0))}function Rg(t){for(;t===Xu;)Xu=Ca[--Aa],Ca[Aa]=null,Cl=Ca[--Aa],Ca[Aa]=null;for(;t===Wi;)Wi=kn[--On],kn[On]=null,ps=kn[--On],kn[On]=null,fs=kn[--On],kn[On]=null}function iS(t,e){kn[On++]=fs,kn[On++]=ps,kn[On++]=Wi,fs=e.id,ps=e.overflow,Wi=t}var It=null,Ke=null,Se=!1,Li=null,In=!1,Vp=Error(F(519));function Ki(t){var e=Error(F(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Vn(e,t)),Vp}function v0(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[Vt]=t,e[on]=s,n){case"dialog":be("cancel",e),be("close",e);break;case"iframe":case"object":case"embed":be("load",e);break;case"video":case"audio":for(n=0;n<kl.length;n++)be(kl[n],e);break;case"source":be("error",e);break;case"img":case"image":case"link":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"input":be("invalid",e),Vx(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":be("invalid",e);break;case"textarea":be("invalid",e),Bx(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||zw(e.textContent,n)?(s.popover!=null&&(be("beforetoggle",e),be("toggle",e)),s.onScroll!=null&&be("scroll",e),s.onScrollEnd!=null&&be("scrollend",e),s.onClick!=null&&(e.onclick=Ys),e=!0):e=!1,e||Ki(t,!0)}function b0(t){for(It=t.return;It;)switch(It.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:It=It.return}}function ra(t){if(t!==It)return!1;if(!Se)return b0(t),Se=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||rm(t.type,t.memoizedProps)),n=!n),n&&Ke&&Ki(t),b0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));Ke=rb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));Ke=rb(t)}else e===27?(e=Ke,lr(t.type)?(t=cm,cm=null,Ke=t):Ke=e):Ke=It?Pn(t.stateNode.nextSibling):null;return!0}function Br(){Ke=It=null,Se=!1}function mf(){var t=Li;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),Li=null),t}function Al(t){Li===null?Li=[t]:Li.push(t)}var Ip=Ns(null),$r=null,Xs=null;function Ei(t,e,n){He(Ip,e._currentValue),e._currentValue=n}function Ks(t){t._currentValue=Ip.current,At(Ip)}function Bp(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Lp(t,e,n,s){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var r=i.dependencies;if(r!==null){var a=i.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Bp(r.return,n,t),s||(a=null);break e}r=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(F(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Bp(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function bo(t,e,n,s){t=null;for(var i=e,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(F(387));if(a=a.memoizedProps,a!==null){var o=i.type;En(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===zu.current){if(a=i.alternate,a===null)throw Error(F(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}i=i.return}t!==null&&Lp(e,t,n,s),e.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){$r=t,Xs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return rS($r,t)}function Uc(t,e){return $r===null&&Lr(t),rS(t,e)}function rS(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Xs===null){if(t===null)throw Error(F(308));Xs=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Xs=Xs.next=e;return n}var $2=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},J2=wt.unstable_scheduleCallback,eR=wt.unstable_NormalPriority,gt={$$typeof:Gs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kg(){return{controller:new $2,data:new Map,refCount:0}}function tc(t){t.refCount--,t.refCount===0&&J2(eR,function(){t.controller.abort()})}var ll=null,jp=0,Qa=0,za=null;function tR(t,e){if(ll===null){var n=ll=[];jp=0,Qa=ny(),za={status:"pending",value:void 0,then:function(s){n.push(s)}}}return jp++,e.then(_0,_0),e}function _0(){if(--jp===0&&ll!==null){za!==null&&(za.status="fulfilled");var t=ll;ll=null,Qa=0,za=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function nR(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var x0=ue.S;ue.S=function(t,e){bw=bn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&tR(t,e),x0!==null&&x0(t,e)};var Or=Ns(null);function Og(){var t=Or.current;return t!==null?t:Fe.pooledCache}function bu(t,e){e===null?He(Or,Or.current):He(Or,e.pool)}function aS(){var t=Og();return t===null?null:{parent:gt._currentValue,pool:t}}var _o=Error(F(460)),Dg=Error(F(474)),sd=Error(F(542)),Ku={then:function(){}};function S0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oS(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ys,Ys),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,T0(t),t;default:if(typeof e.status=="string")e.then(Ys,Ys);else{if(t=Fe,t!==null&&100<t.shellSuspendCounter)throw Error(F(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,T0(t),t}throw Dr=e,_o}}function Sr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Dr=n,_o):n}}var Dr=null;function w0(){if(Dr===null)throw Error(F(459));var t=Dr;return Dr=null,t}function T0(t){if(t===_o||t===sd)throw Error(F(483))}var Ua=null,Nl=0;function Fc(t){var e=Nl;return Nl+=1,Ua===null&&(Ua=[]),oS(Ua,t,e)}function Ho(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Hc(t,e){throw e.$$typeof===FM?Error(F(525)):(t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function lS(t){function e(m,y){if(t){var b=m.deletions;b===null?(m.deletions=[y],m.flags|=16):b.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function s(m){for(var y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(m,y){return m=Ws(m,y),m.index=0,m.sibling=null,m}function r(m,y,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<y?(m.flags|=67108866,y):b):(m.flags|=67108866,y)):(m.flags|=1048576,y)}function a(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function o(m,y,b,S){return y===null||y.tag!==6?(y=ff(b,m.mode,S),y.return=m,y):(y=i(y,b),y.return=m,y)}function l(m,y,b,S){var w=b.type;return w===ya?u(m,y,b.props.children,S,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xi&&Sr(w)===y.type)?(y=i(y,b.props),Ho(y,b),y.return=m,y):(y=vu(b.type,b.key,b.props,null,m.mode,S),Ho(y,b),y.return=m,y)}function c(m,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=pf(b,m.mode,S),y.return=m,y):(y=i(y,b.children||[]),y.return=m,y)}function u(m,y,b,S,w){return y===null||y.tag!==7?(y=kr(b,m.mode,S,w),y.return=m,y):(y=i(y,b),y.return=m,y)}function h(m,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=ff(""+y,m.mode,b),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ic:return b=vu(y.type,y.key,y.props,null,m.mode,b),Ho(b,y),b.return=m,b;case Zo:return y=pf(y,m.mode,b),y.return=m,y;case xi:return y=Sr(y),h(m,y,b)}if(Qo(y)||zo(y))return y=kr(y,m.mode,b,null),y.return=m,y;if(typeof y.then=="function")return h(m,Fc(y),b);if(y.$$typeof===Gs)return h(m,Uc(m,y),b);Hc(m,y)}return null}function d(m,y,b,S){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return w!==null?null:o(m,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:return b.key===w?l(m,y,b,S):null;case Zo:return b.key===w?c(m,y,b,S):null;case xi:return b=Sr(b),d(m,y,b,S)}if(Qo(b)||zo(b))return w!==null?null:u(m,y,b,S,null);if(typeof b.then=="function")return d(m,y,Fc(b),S);if(b.$$typeof===Gs)return d(m,y,Uc(m,b),S);Hc(m,b)}return null}function f(m,y,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return m=m.get(b)||null,o(y,m,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ic:return m=m.get(S.key===null?b:S.key)||null,l(y,m,S,w);case Zo:return m=m.get(S.key===null?b:S.key)||null,c(y,m,S,w);case xi:return S=Sr(S),f(m,y,b,S,w)}if(Qo(S)||zo(S))return m=m.get(b)||null,u(y,m,S,w,null);if(typeof S.then=="function")return f(m,y,b,Fc(S),w);if(S.$$typeof===Gs)return f(m,y,b,Uc(y,S),w);Hc(y,S)}return null}function p(m,y,b,S){for(var w=null,C=null,E=y,T=y=0,O=null;E!==null&&T<b.length;T++){E.index>T?(O=E,E=null):O=E.sibling;var A=d(m,E,b[T],S);if(A===null){E===null&&(E=O);break}t&&E&&A.alternate===null&&e(m,E),y=r(A,y,T),C===null?w=A:C.sibling=A,C=A,E=O}if(T===b.length)return n(m,E),Se&&Hs(m,T),w;if(E===null){for(;T<b.length;T++)E=h(m,b[T],S),E!==null&&(y=r(E,y,T),C===null?w=E:C.sibling=E,C=E);return Se&&Hs(m,T),w}for(E=s(E);T<b.length;T++)O=f(E,m,T,b[T],S),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?T:O.key),y=r(O,y,T),C===null?w=O:C.sibling=O,C=O);return t&&E.forEach(function(N){return e(m,N)}),Se&&Hs(m,T),w}function g(m,y,b,S){if(b==null)throw Error(F(151));for(var w=null,C=null,E=y,T=y=0,O=null,A=b.next();E!==null&&!A.done;T++,A=b.next()){E.index>T?(O=E,E=null):O=E.sibling;var N=d(m,E,A.value,S);if(N===null){E===null&&(E=O);break}t&&E&&N.alternate===null&&e(m,E),y=r(N,y,T),C===null?w=N:C.sibling=N,C=N,E=O}if(A.done)return n(m,E),Se&&Hs(m,T),w;if(E===null){for(;!A.done;T++,A=b.next())A=h(m,A.value,S),A!==null&&(y=r(A,y,T),C===null?w=A:C.sibling=A,C=A);return Se&&Hs(m,T),w}for(E=s(E);!A.done;T++,A=b.next())A=f(E,m,T,A.value,S),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?T:A.key),y=r(A,y,T),C===null?w=A:C.sibling=A,C=A);return t&&E.forEach(function(D){return e(m,D)}),Se&&Hs(m,T),w}function v(m,y,b,S){if(typeof b=="object"&&b!==null&&b.type===ya&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:e:{for(var w=b.key;y!==null;){if(y.key===w){if(w=b.type,w===ya){if(y.tag===7){n(m,y.sibling),S=i(y,b.props.children),S.return=m,m=S;break e}}else if(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xi&&Sr(w)===y.type){n(m,y.sibling),S=i(y,b.props),Ho(S,b),S.return=m,m=S;break e}n(m,y);break}else e(m,y);y=y.sibling}b.type===ya?(S=kr(b.props.children,m.mode,S,b.key),S.return=m,m=S):(S=vu(b.type,b.key,b.props,null,m.mode,S),Ho(S,b),S.return=m,m=S)}return a(m);case Zo:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(m,y.sibling),S=i(y,b.children||[]),S.return=m,m=S;break e}else{n(m,y);break}else e(m,y);y=y.sibling}S=pf(b,m.mode,S),S.return=m,m=S}return a(m);case xi:return b=Sr(b),v(m,y,b,S)}if(Qo(b))return p(m,y,b,S);if(zo(b)){if(w=zo(b),typeof w!="function")throw Error(F(150));return b=w.call(b),g(m,y,b,S)}if(typeof b.then=="function")return v(m,y,Fc(b),S);if(b.$$typeof===Gs)return v(m,y,Uc(m,b),S);Hc(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,y!==null&&y.tag===6?(n(m,y.sibling),S=i(y,b),S.return=m,m=S):(n(m,y),S=ff(b,m.mode,S),S.return=m,m=S),a(m)):n(m,y)}return function(m,y,b,S){try{Nl=0;var w=v(m,y,b,S);return Ua=null,w}catch(E){if(E===_o||E===sd)throw E;var C=mn(29,E,null,m.mode);return C.lanes=S,C.return=m,C}finally{}}}var jr=lS(!0),cS=lS(!1),Si=!1;function Vg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Re&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=Yu(t),eS(t,null,n),e}return nd(t,s,e,n),Yu(t)}function cl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ax(t,n)}}function gf(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var zp=!1;function ul(){if(zp){var t=za;if(t!==null)throw t}}function hl(t,e,n,s){zp=!1;var i=t.updateQueue;Si=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;a=0,u=c=l=null,o=r;do{var d=o.lane&-536870913,f=d!==o.lane;if(f?(xe&d)===d:(s&d)===d){d!==0&&d===Qa&&(zp=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=t,g=o;d=e;var v=n;switch(g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(v,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(v,h,d):p,d==null)break e;h=$e({},h,d);break e;case 2:Si=!0}}d=o.callback,d!==null&&(t.flags|=64,f&&(t.flags|=8192),f=i.callbacks,f===null?i.callbacks=[d]:f.push(d))}else f={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,r===null&&(i.shared.lanes=0),Qi|=a,t.lanes=a,t.memoizedState=h}}function uS(t,e){if(typeof t!="function")throw Error(F(191,t));t.call(e)}function hS(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)uS(n[t],e)}var $a=Ns(null),Zu=Ns(0);function E0(t,e){t=ni,He(Zu,t),He($a,e),ni=t|e.baseLanes}function Up(){He(Zu,ni),He($a,$a.current)}function Ig(){ni=Zu.current,At($a),At(Zu)}var Cn=Ns(null),jn=null;function Ci(t){var e=t.alternate;He(ct,ct.current&1),He(Cn,t),jn===null&&(e===null||$a.current!==null||e.memoizedState!==null)&&(jn=t)}function Fp(t){He(ct,ct.current),He(Cn,t),jn===null&&(jn=t)}function dS(t){t.tag===22?(He(ct,ct.current),He(Cn,t),jn===null&&(jn=t)):Ai()}function Ai(){He(ct,ct.current),He(Cn,Cn.current)}function dn(t){At(Cn),jn===t&&(jn=null),At(ct)}var ct=Ns(0);function Qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||om(n)||lm(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Js=0,ge=null,je=null,pt=null,$u=!1,Fa=!1,Pr=!1,Ju=0,Ml=0,Ha=null,sR=0;function st(){throw Error(F(321))}function Bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function Lg(t,e,n,s,i,r){return Js=r,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ue.H=t===null||t.memoizedState===null?HS:Wg,Pr=!1,r=n(s,i),Pr=!1,Fa&&(r=pS(e,n,s,i)),fS(t),r}function fS(t){ue.H=Rl;var e=je!==null&&je.next!==null;if(Js=0,pt=je=ge=null,$u=!1,Ml=0,Ha=null,e)throw Error(F(300));t===null||yt||(t=t.dependencies,t!==null&&Wu(t)&&(yt=!0))}function pS(t,e,n,s){ge=t;var i=0;do{if(Fa&&(Ha=null),Ml=0,Fa=!1,25<=i)throw Error(F(301));if(i+=1,pt=je=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ue.H=qS,r=e(n,s)}while(Fa);return r}function iR(){var t=ue.H,e=t.useState()[0];return e=typeof e.then=="function"?nc(e):e,t=t.useState()[0],(je!==null?je.memoizedState:null)!==t&&(ge.flags|=1024),e}function jg(){var t=Ju!==0;return Ju=0,t}function Pg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function zg(t){if($u){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$u=!1}Js=0,pt=je=ge=null,Fa=!1,Ml=Ju=0,Ha=null}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ge.memoizedState=pt=t:pt=pt.next=t,pt}function ut(){if(je===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=pt===null?ge.memoizedState:pt.next;if(e!==null)pt=e,je=t;else{if(t===null)throw ge.alternate===null?Error(F(467)):Error(F(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},pt===null?ge.memoizedState=pt=t:pt=pt.next=t}return pt}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(t){var e=Ml;return Ml+=1,Ha===null&&(Ha=[]),t=oS(Ha,t,e),e=ge,(pt===null?e.memoizedState:pt.next)===null&&(e=e.alternate,ue.H=e===null||e.memoizedState===null?HS:Wg),t}function rd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nc(t);if(t.$$typeof===Gs)return Bt(t)}throw Error(F(438,String(t)))}function Ug(t){var e=null,n=ge.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=id(),ge.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=HM;return e.index++,n}function ei(t,e){return typeof e=="function"?e(t):e}function _u(t){var e=ut();return Fg(e,je,t)}function Fg(t,e,n){var s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=n;var i=t.baseQueue,r=s.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}e.baseQueue=i=r,s.pending=null}if(r=t.baseState,i===null)t.memoizedState=r;else{e=i.next;var o=a=null,l=null,c=e,u=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(xe&h)===h:(Js&h)===h){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Qa&&(u=!0);else if((Js&d)===d){c=c.next,d===Qa&&(u=!0);continue}else h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,a=r):l=l.next=h,ge.lanes|=d,Qi|=d;h=c.action,Pr&&n(r,h),r=c.hasEagerState?c.eagerState:n(r,h)}else d={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=r):l=l.next=d,ge.lanes|=h,Qi|=h;c=c.next}while(c!==null&&c!==e);if(l===null?a=r:l.next=o,!En(r,t.memoizedState)&&(yt=!0,u&&(n=za,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=l,s.lastRenderedState=r}return i===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function yf(t){var e=ut(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do r=t(r,a.action),a=a.next;while(a!==i);En(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function mS(t,e,n){var s=ge,i=ut(),r=Se;if(r){if(n===void 0)throw Error(F(407));n=n()}else n=e();var a=!En((je||i).memoizedState,n);if(a&&(i.memoizedState=n,yt=!0),i=i.queue,Hg(vS.bind(null,s,i,t),[t]),i.getSnapshot!==e||a||pt!==null&&pt.memoizedState.tag&1){if(s.flags|=2048,Ja(9,{destroy:void 0},yS.bind(null,s,i,n,e),null),Fe===null)throw Error(F(349));r||Js&127||gS(s,e,n)}return n}function gS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e=id(),ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yS(t,e,n,s){e.value=n,e.getSnapshot=s,bS(e)&&_S(t)}function vS(t,e,n){return n(function(){bS(e)&&_S(t)})}function bS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function _S(t){var e=Qr(t,2);e!==null&&rn(e,t,2)}function Hp(t){var e=Ht();if(typeof t=="function"){var n=t;if(t=n(),Pr){Ri(!0);try{n()}finally{Ri(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},e}function xS(t,e,n,s){return t.baseState=n,Fg(t,je,typeof s=="function"?s:ei)}function rR(t,e,n,s,i){if(od(t))throw Error(F(485));if(t=e.action,t!==null){var r={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};ue.T!==null?n(!0):r.isTransition=!1,s(r),n=e.pending,n===null?(r.next=e.pending=r,SS(e,r)):(r.next=n.next,e.pending=n.next=r)}}function SS(t,e){var n=e.action,s=e.payload,i=t.state;if(e.isTransition){var r=ue.T,a={};ue.T=a;try{var o=n(i,s),l=ue.S;l!==null&&l(a,o),C0(t,e,o)}catch(c){qp(t,e,c)}finally{r!==null&&a.types!==null&&(r.types=a.types),ue.T=r}}else try{r=n(i,s),C0(t,e,r)}catch(c){qp(t,e,c)}}function C0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){A0(t,e,s)},function(s){return qp(t,e,s)}):A0(t,e,n)}function A0(t,e,n){e.status="fulfilled",e.value=n,wS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,SS(t,n)))}function qp(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,wS(e),e=e.next;while(e!==s)}t.action=null}function wS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function TS(t,e){return e}function N0(t,e){if(Se){var n=Fe.formState;if(n!==null){e:{var s=ge;if(Se){if(Ke){t:{for(var i=Ke,r=In;i.nodeType!==8;){if(!r){i=null;break t}if(i=Pn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Ke=Pn(i.nextSibling),s=i.data==="F!";break e}}Ki(s)}s=!1}s&&(e=n[0])}}return n=Ht(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TS,lastRenderedState:e},n.queue=s,n=zS.bind(null,ge,s),s.dispatch=n,s=Hp(!1),r=Xg.bind(null,ge,!1,s.queue),s=Ht(),i={state:e,dispatch:null,action:t,pending:null},s.queue=i,n=rR.bind(null,ge,i,r,n),i.dispatch=n,s.memoizedState=t,[e,n,!1]}function M0(t){var e=ut();return ES(e,je,t)}function ES(t,e,n){if(e=Fg(t,e,TS)[0],t=_u(ei)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=nc(e)}catch(a){throw a===_o?sd:a}else s=e;e=ut();var i=e.queue,r=i.dispatch;return n!==e.memoizedState&&(ge.flags|=2048,Ja(9,{destroy:void 0},aR.bind(null,i,n),null)),[s,r,t]}function aR(t,e){t.action=e}function R0(t){var e=ut(),n=je;if(n!==null)return ES(e,n,t);ut(),e=e.memoizedState,n=ut();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Ja(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=ge.updateQueue,e===null&&(e=id(),ge.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function CS(){return ut().memoizedState}function xu(t,e,n,s){var i=Ht();ge.flags|=t,i.memoizedState=Ja(1|e,{destroy:void 0},n,s===void 0?null:s)}function ad(t,e,n,s){var i=ut();s=s===void 0?null:s;var r=i.memoizedState.inst;je!==null&&s!==null&&Bg(s,je.memoizedState.deps)?i.memoizedState=Ja(e,r,n,s):(ge.flags|=t,i.memoizedState=Ja(1|e,r,n,s))}function k0(t,e){xu(8390656,8,t,e)}function Hg(t,e){ad(2048,8,t,e)}function oR(t){ge.flags|=4;var e=ge.updateQueue;if(e===null)e=id(),ge.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function AS(t){var e=ut().memoizedState;return oR({ref:e,nextImpl:t}),function(){if(Re&2)throw Error(F(440));return e.impl.apply(void 0,arguments)}}function NS(t,e){return ad(4,2,t,e)}function MS(t,e){return ad(4,4,t,e)}function RS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kS(t,e,n){n=n!=null?n.concat([t]):null,ad(4,4,RS.bind(null,e,t),n)}function qg(){}function OS(t,e){var n=ut();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&Bg(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function DS(t,e){var n=ut();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&Bg(e,s[1]))return s[0];if(s=t(),Pr){Ri(!0);try{t()}finally{Ri(!1)}}return n.memoizedState=[s,e],s}function Gg(t,e,n){return n===void 0||Js&1073741824&&!(xe&261930)?t.memoizedState=e:(t.memoizedState=n,t=xw(),ge.lanes|=t,Qi|=t,n)}function VS(t,e,n,s){return En(n,e)?n:$a.current!==null?(t=Gg(t,n,s),En(t,e)||(yt=!0),t):!(Js&42)||Js&1073741824&&!(xe&261930)?(yt=!0,t.memoizedState=n):(t=xw(),ge.lanes|=t,Qi|=t,e)}function IS(t,e,n,s,i){var r=ke.p;ke.p=r!==0&&8>r?r:8;var a=ue.T,o={};ue.T=o,Xg(t,!1,e,n);try{var l=i(),c=ue.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=nR(l,s);dl(t,e,u,Sn(t))}else dl(t,e,s,Sn(t))}catch(h){dl(t,e,{then:function(){},status:"rejected",reason:h},Sn())}finally{ke.p=r,a!==null&&o.types!==null&&(a.types=o.types),ue.T=a}}function lR(){}function Gp(t,e,n,s){if(t.tag!==5)throw Error(F(476));var i=BS(t).queue;IS(t,i,e,Rr,n===null?lR:function(){return LS(t),n(s)})}function BS(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Rr,baseState:Rr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:Rr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function LS(t){var e=BS(t);e.next===null&&(e=t.alternate.memoizedState),dl(t,e.next.queue,{},Sn())}function Yg(){return Bt(Dl)}function jS(){return ut().memoizedState}function PS(){return ut().memoizedState}function cR(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Sn();t=ji(n);var s=Pi(e,t,n);s!==null&&(rn(s,e,n),cl(s,e,n)),e={cache:kg()},t.payload=e;return}e=e.return}}function uR(t,e,n){var s=Sn();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},od(t)?US(e,n):(n=Ag(t,e,n,s),n!==null&&(rn(n,t,s),FS(n,e,s)))}function zS(t,e,n){var s=Sn();dl(t,e,n,s)}function dl(t,e,n,s){var i={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(od(t))US(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,n);if(i.hasEagerState=!0,i.eagerState=o,En(o,a))return nd(t,e,i,0),Fe===null&&td(),!1}catch{}finally{}if(n=Ag(t,e,i,s),n!==null)return rn(n,t,s),FS(n,e,s),!0}return!1}function Xg(t,e,n,s){if(s={lane:2,revertLane:ny(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},od(t)){if(e)throw Error(F(479))}else e=Ag(t,n,s,2),e!==null&&rn(e,t,2)}function od(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function US(t,e){Fa=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FS(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ax(t,n)}}var Rl={readContext:Bt,use:rd,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Rl.useEffectEvent=st;var HS={readContext:Bt,use:rd,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:Bt,useEffect:k0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,xu(4194308,4,RS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xu(4194308,4,t,e)},useInsertionEffect:function(t,e){xu(4,2,t,e)},useMemo:function(t,e){var n=Ht();e=e===void 0?null:e;var s=t();if(Pr){Ri(!0);try{t()}finally{Ri(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Ht();if(n!==void 0){var i=n(e);if(Pr){Ri(!0);try{n(e)}finally{Ri(!1)}}}else i=e;return s.memoizedState=s.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},s.queue=t,t=t.dispatch=uR.bind(null,ge,t),[s.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:function(t){t=Hp(t);var e=t.queue,n=zS.bind(null,ge,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:qg,useDeferredValue:function(t,e){var n=Ht();return Gg(n,t,e)},useTransition:function(){var t=Hp(!1);return t=IS.bind(null,ge,t.queue,!0,!1),Ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=ge,i=Ht();if(Se){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Fe===null)throw Error(F(349));xe&127||gS(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,k0(vS.bind(null,s,r,t),[t]),s.flags|=2048,Ja(9,{destroy:void 0},yS.bind(null,s,r,n,e),null),n},useId:function(){var t=Ht(),e=Fe.identifierPrefix;if(Se){var n=ps,s=fs;n=(s&~(1<<32-xn(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ju++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=sR++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Yg,useFormState:N0,useActionState:N0,useOptimistic:function(t){var e=Ht();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Xg.bind(null,ge,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ug,useCacheRefresh:function(){return Ht().memoizedState=cR.bind(null,ge)},useEffectEvent:function(t){var e=Ht(),n={impl:t};return e.memoizedState=n,function(){if(Re&2)throw Error(F(440));return n.impl.apply(void 0,arguments)}}},Wg={readContext:Bt,use:rd,useCallback:OS,useContext:Bt,useEffect:Hg,useImperativeHandle:kS,useInsertionEffect:NS,useLayoutEffect:MS,useMemo:DS,useReducer:_u,useRef:CS,useState:function(){return _u(ei)},useDebugValue:qg,useDeferredValue:function(t,e){var n=ut();return VS(n,je.memoizedState,t,e)},useTransition:function(){var t=_u(ei)[0],e=ut().memoizedState;return[typeof t=="boolean"?t:nc(t),e]},useSyncExternalStore:mS,useId:jS,useHostTransitionStatus:Yg,useFormState:M0,useActionState:M0,useOptimistic:function(t,e){var n=ut();return xS(n,je,t,e)},useMemoCache:Ug,useCacheRefresh:PS};Wg.useEffectEvent=AS;var qS={readContext:Bt,use:rd,useCallback:OS,useContext:Bt,useEffect:Hg,useImperativeHandle:kS,useInsertionEffect:NS,useLayoutEffect:MS,useMemo:DS,useReducer:yf,useRef:CS,useState:function(){return yf(ei)},useDebugValue:qg,useDeferredValue:function(t,e){var n=ut();return je===null?Gg(n,t,e):VS(n,je.memoizedState,t,e)},useTransition:function(){var t=yf(ei)[0],e=ut().memoizedState;return[typeof t=="boolean"?t:nc(t),e]},useSyncExternalStore:mS,useId:jS,useHostTransitionStatus:Yg,useFormState:R0,useActionState:R0,useOptimistic:function(t,e){var n=ut();return je!==null?xS(n,je,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ug,useCacheRefresh:PS};qS.useEffectEvent=AS;function vf(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yp={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Sn(),i=ji(s);i.payload=e,n!=null&&(i.callback=n),e=Pi(t,i,s),e!==null&&(rn(e,t,s),cl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Sn(),i=ji(s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Pi(t,i,s),e!==null&&(rn(e,t,s),cl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),s=ji(n);s.tag=2,e!=null&&(s.callback=e),e=Pi(t,s,n),e!==null&&(rn(e,t,n),cl(e,t,n))}};function O0(t,e,n,s,i,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!El(n,s)||!El(i,r):!0}function D0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Yp.enqueueReplaceState(e,e.state,null)}function zr(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=$e({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function GS(t){Gu(t)}function YS(t){console.error(t)}function XS(t){Gu(t)}function eh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function V0(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Xp(t,e,n){return n=ji(n),n.tag=3,n.payload={element:null},n.callback=function(){eh(t,e)},n}function WS(t){return t=ji(t),t.tag=3,t}function KS(t,e,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=s.value;t.payload=function(){return i(r)},t.callback=function(){V0(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){V0(e,n,s),typeof i!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function hR(t,e,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&bo(e,n,i,!0),n=Cn.current,n!==null){switch(n.tag){case 31:case 13:return jn===null?rh():n.alternate===null&&rt===0&&(rt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===Ku?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Mf(t,s,i)),!1;case 22:return n.flags|=65536,s===Ku?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Mf(t,s,i)),!1}throw Error(F(435,n.tag))}return Mf(t,s,i),rh(),!1}if(Se)return e=Cn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==Vp&&(t=Error(F(422),{cause:s}),Al(Vn(t,n)))):(s!==Vp&&(e=Error(F(423),{cause:s}),Al(Vn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,s=Vn(s,n),i=Xp(t.stateNode,s,i),gf(t,i),rt!==4&&(rt=2)),!1;var r=Error(F(520),{cause:s});if(r=Vn(r,n),ml===null?ml=[r]:ml.push(r),rt!==4&&(rt=2),e===null)return!0;s=Vn(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Xp(n.stateNode,s,t),gf(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(zi===null||!zi.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=WS(i),KS(i,t,n,s),gf(n,i),!1}n=n.return}while(n!==null);return!1}var Kg=Error(F(461)),yt=!1;function Ot(t,e,n,s){e.child=t===null?cS(e,null,n,s):jr(e,t.child,n,s)}function I0(t,e,n,s,i){n=n.render;var r=e.ref;if("ref"in s){var a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}else a=s;return Lr(e),s=Lg(t,e,n,a,r,i),o=jg(),t!==null&&!yt?(Pg(t,e,i),ti(t,e,i)):(Se&&o&&Mg(e),e.flags|=1,Ot(t,e,s,i),e.child)}function B0(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Ng(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,ZS(t,e,r,s,i)):(t=vu(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Zg(t,i)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(a,s)&&t.ref===e.ref)return ti(t,e,i)}return e.flags|=1,t=Ws(r,s),t.ref=e.ref,t.return=e,e.child=t}function ZS(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(El(r,s)&&t.ref===e.ref)if(yt=!1,e.pendingProps=s=r,Zg(t,i))t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,ti(t,e,i)}return Wp(t,e,n,s,i)}function QS(t,e,n,s){var i=s.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;s=i&~r}else s=0,e.child=null;return L0(t,e,r,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&bu(e,r!==null?r.cachePool:null),r!==null?E0(e,r):Up(),dS(e);else return s=e.lanes=536870912,L0(t,e,r!==null?r.baseLanes|n:n,n,s)}else r!==null?(bu(e,r.cachePool),E0(e,r),Ai(),e.memoizedState=null):(t!==null&&bu(e,null),Up(),Ai());return Ot(t,e,i,n),e.child}function Jo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function L0(t,e,n,s,i){var r=Og();return r=r===null?null:{parent:gt._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&bu(e,null),Up(),dS(e),t!==null&&bo(t,e,s,!0),e.childLanes=i,null}function Su(t,e){return e=th({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function j0(t,e,n){return jr(e,t.child,null,n),t=Su(e,e.pendingProps),t.flags|=2,dn(e),e.memoizedState=null,t}function dR(t,e,n){var s=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Se){if(s.mode==="hidden")return t=Su(e,s),e.lanes=536870912,Jo(null,t);if(Fp(e),(t=Ke)?(t=Hw(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:fs,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},n=nS(t),n.return=e,e.child=n,It=e,Ke=null)):t=null,t===null)throw Ki(e);return e.lanes=536870912,null}return Su(e,s)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(Fp(e),i)if(e.flags&256)e.flags&=-257,e=j0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(F(558));else if(yt||bo(t,e,n,!1),i=(n&t.childLanes)!==0,yt||i){if(s=Fe,s!==null&&(a=Nx(s,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,Qr(t,a),rn(s,t,a),Kg;rh(),e=j0(t,e,n)}else t=r.treeContext,Ke=Pn(a.nextSibling),It=e,Se=!0,Li=null,In=!1,t!==null&&iS(e,t),e=Su(e,s),e.flags|=4096;return e}return t=Ws(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function wu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(F(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Wp(t,e,n,s,i){return Lr(e),n=Lg(t,e,n,s,void 0,i),s=jg(),t!==null&&!yt?(Pg(t,e,i),ti(t,e,i)):(Se&&s&&Mg(e),e.flags|=1,Ot(t,e,n,i),e.child)}function P0(t,e,n,s,i,r){return Lr(e),e.updateQueue=null,n=pS(e,s,n,i),fS(t),s=jg(),t!==null&&!yt?(Pg(t,e,r),ti(t,e,r)):(Se&&s&&Mg(e),e.flags|=1,Ot(t,e,n,r),e.child)}function z0(t,e,n,s,i){if(Lr(e),e.stateNode===null){var r=Ea,a=n.contextType;typeof a=="object"&&a!==null&&(r=Bt(a)),r=new n(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Yp,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},Vg(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?Bt(a):Ea,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(vf(e,n,a,s),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Yp.enqueueReplaceState(r,r.state,null),hl(e,s,r,i),ul(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){r=e.stateNode;var o=e.memoizedProps,l=zr(n,o);r.props=l;var c=r.context,u=n.contextType;a=Ea,typeof u=="object"&&u!==null&&(a=Bt(u));var h=n.getDerivedStateFromProps;u=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&D0(e,r,s,a),Si=!1;var d=e.memoizedState;r.state=d,hl(e,s,r,i),ul(),c=e.memoizedState,o||d!==c||Si?(typeof h=="function"&&(vf(e,n,h,s),c=e.memoizedState),(l=Si||O0(e,n,l,s,d,c,a))?(u||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),r.props=s,r.state=c,r.context=a,s=l):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,Pp(t,e),a=e.memoizedProps,u=zr(n,a),r.props=u,h=e.pendingProps,d=r.context,c=n.contextType,l=Ea,typeof c=="object"&&c!==null&&(l=Bt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==h||d!==l)&&D0(e,r,s,l),Si=!1,d=e.memoizedState,r.state=d,hl(e,s,r,i),ul();var f=e.memoizedState;a!==h||d!==f||Si||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof o=="function"&&(vf(e,n,o,s),f=e.memoizedState),(u=Si||O0(e,n,u,s,d,f,l)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,f,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,f,l)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=f),r.props=s,r.state=f,r.context=l,s=u):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return r=s,wu(t,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&s?(e.child=jr(e,t.child,null,i),e.child=jr(e,null,n,i)):Ot(t,e,n,i),e.memoizedState=r.state,t=e.child):t=ti(t,e,i),t}function U0(t,e,n,s){return Br(),e.flags|=256,Ot(t,e,n,s),e.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(t){return{baseLanes:t,cachePool:aS()}}function xf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=gn),t}function $S(t,e,n){var s=e.pendingProps,i=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(ct.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Se){if(i?Ci(e):Ai(),(t=Ke)?(t=Hw(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:fs,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},n=nS(t),n.return=e,e.child=n,It=e,Ke=null)):t=null,t===null)throw Ki(e);return lm(t)?e.lanes=32:e.lanes=536870912,null}var o=s.children;return s=s.fallback,i?(Ai(),i=e.mode,o=th({mode:"hidden",children:o},i),s=kr(s,i,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,s=e.child,s.memoizedState=_f(n),s.childLanes=xf(t,a,n),e.memoizedState=bf,Jo(null,s)):(Ci(e),Kp(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(r)e.flags&256?(Ci(e),e.flags&=-257,e=Sf(t,e,n)):e.memoizedState!==null?(Ai(),e.child=t.child,e.flags|=128,e=null):(Ai(),o=s.fallback,i=e.mode,s=th({mode:"visible",children:s.children},i),o=kr(o,i,n,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,jr(e,t.child,null,n),s=e.child,s.memoizedState=_f(n),s.childLanes=xf(t,a,n),e.memoizedState=bf,e=Jo(null,s));else if(Ci(e),lm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,s=Error(F(419)),s.stack="",s.digest=a,Al({value:s,source:null,stack:null}),e=Sf(t,e,n)}else if(yt||bo(t,e,n,!1),a=(n&t.childLanes)!==0,yt||a){if(a=Fe,a!==null&&(s=Nx(a,n),s!==0&&s!==l.retryLane))throw l.retryLane=s,Qr(t,s),rn(a,t,s),Kg;om(o)||rh(),e=Sf(t,e,n)}else om(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Ke=Pn(o.nextSibling),It=e,Se=!0,Li=null,In=!1,t!==null&&iS(e,t),e=Kp(e,s.children),e.flags|=4096);return e}return i?(Ai(),o=s.fallback,i=e.mode,l=t.child,c=l.sibling,s=Ws(l,{mode:"hidden",children:s.children}),s.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=Ws(c,o):(o=kr(o,i,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,Jo(null,s),s=e.child,o=t.child.memoizedState,o===null?o=_f(n):(i=o.cachePool,i!==null?(l=gt._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=aS(),o={baseLanes:o.baseLanes|n,cachePool:i}),s.memoizedState=o,s.childLanes=xf(t,a,n),e.memoizedState=bf,Jo(t.child,s)):(Ci(e),n=t.child,t=n.sibling,n=Ws(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Kp(t,e){return e=th({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function th(t,e){return t=mn(22,t,null,e),t.lanes=0,t}function Sf(t,e,n){return jr(e,t.child,null,n),t=Kp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Bp(t.return,e,n)}function wf(t,e,n,s,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i,a.treeForkCount=r)}function JS(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;s=s.children;var a=ct.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,He(ct,a),Ot(t,e,s,n),s=Se?Cl:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F0(t,n,e);else if(t.tag===19)F0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wf(e,!1,i,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wf(e,!0,n,null,r,s);break;case"together":wf(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))if(t!==null){if(bo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function fR(t,e,n){switch(e.tag){case 3:Uu(e,e.stateNode.containerInfo),Ei(e,gt,t.memoizedState.cache),Br();break;case 27:case 5:wp(e);break;case 4:Uu(e,e.stateNode.containerInfo);break;case 10:Ei(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Fp(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Ci(e),e.flags|=128,null):n&e.child.childLanes?$S(t,e,n):(Ci(e),t=ti(t,e,n),t!==null?t.sibling:null);Ci(e);break;case 19:var i=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(bo(t,e,n,!1),s=(n&e.childLanes)!==0),i){if(s)return JS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(ct,ct.current),s)break;return null;case 22:return e.lanes=0,QS(t,e,n,e.pendingProps);case 24:Ei(e,gt,t.memoizedState.cache)}return ti(t,e,n)}function ew(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)yt=!0;else{if(!Zg(t,n)&&!(e.flags&128))return yt=!1,fR(t,e,n);yt=!!(t.flags&131072)}else yt=!1,Se&&e.flags&1048576&&sS(e,Cl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Sr(e.elementType),e.type=t,typeof t=="function")Ng(t)?(s=zr(t,s),e.tag=1,e=z0(null,e,t,s,n)):(e.tag=0,e=Wp(null,e,t,s,n));else{if(t!=null){var i=t.$$typeof;if(i===pg){e.tag=11,e=I0(null,e,t,s,n);break e}else if(i===mg){e.tag=14,e=B0(null,e,t,s,n);break e}}throw e=xp(t)||t,Error(F(306,e,""))}}return e;case 0:return Wp(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,i=zr(s,e.pendingProps),z0(t,e,s,i,n);case 3:e:{if(Uu(e,e.stateNode.containerInfo),t===null)throw Error(F(387));s=e.pendingProps;var r=e.memoizedState;i=r.element,Pp(t,e),hl(e,s,null,n);var a=e.memoizedState;if(s=a.cache,Ei(e,gt,s),s!==r.cache&&Lp(e,[gt],n,!0),ul(),s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=U0(t,e,s,n);break e}else if(s!==i){i=Vn(Error(F(424)),e),Al(i),e=U0(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ke=Pn(t.firstChild),It=e,Se=!0,Li=null,In=!0,n=cS(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Br(),s===i){e=ti(t,e,n);break e}Ot(t,e,s,n)}e=e.child}return e;case 26:return wu(t,e),t===null?(n=lb(e.type,null,e.pendingProps,null))?e.memoizedState=n:Se||(n=e.type,t=e.pendingProps,s=ch(Bi.current).createElement(n),s[Vt]=e,s[on]=t,Lt(s,n,t),Ct(s),e.stateNode=s):e.memoizedState=lb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return wp(e),t===null&&Se&&(s=e.stateNode=qw(e.type,e.pendingProps,Bi.current),It=e,In=!0,i=Ke,lr(e.type)?(cm=i,Ke=Pn(s.firstChild)):Ke=i),Ot(t,e,e.pendingProps.children,n),wu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Se&&((i=s=Ke)&&(s=HR(s,e.type,e.pendingProps,In),s!==null?(e.stateNode=s,It=e,Ke=Pn(s.firstChild),In=!1,i=!0):i=!1),i||Ki(e)),wp(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,rm(i,r)?s=null:a!==null&&rm(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=Lg(t,e,iR,null,null,n),Dl._currentValue=i),wu(t,e),Ot(t,e,s,n),e.child;case 6:return t===null&&Se&&((t=n=Ke)&&(n=qR(n,e.pendingProps,In),n!==null?(e.stateNode=n,It=e,Ke=null,t=!0):t=!1),t||Ki(e)),null;case 13:return $S(t,e,n);case 4:return Uu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=jr(e,null,s,n):Ot(t,e,s,n),e.child;case 11:return I0(t,e,e.type,e.pendingProps,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Ei(e,e.type,s.value),Ot(t,e,s.children,n),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,Lr(e),i=Bt(i),s=s(i),e.flags|=1,Ot(t,e,s,n),e.child;case 14:return B0(t,e,e.type,e.pendingProps,n);case 15:return ZS(t,e,e.type,e.pendingProps,n);case 19:return JS(t,e,n);case 31:return dR(t,e,n);case 22:return QS(t,e,n,e.pendingProps);case 24:return Lr(e),s=Bt(gt),t===null?(i=Og(),i===null&&(i=Fe,r=kg(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),e.memoizedState={parent:s,cache:i},Vg(e),Ei(e,gt,i)):(t.lanes&n&&(Pp(t,e),hl(e,null,null,n),ul()),i=t.memoizedState,r=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ei(e,gt,s)):(s=r.cache,Ei(e,gt,s),s!==i.cache&&Lp(e,[gt],n,!0))),Ot(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(F(156,e.tag))}function Bs(t){t.flags|=4}function Tf(t,e,n,s,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(Tw())t.flags|=8192;else throw Dr=Ku,Dg}else t.flags&=-16777217}function H0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Xw(e))if(Tw())t.flags|=8192;else throw Dr=Ku,Dg}function qc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ex():536870912,t.lanes|=e,eo|=e)}function qo(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function pR(t,e,n){var s=e.pendingProps;switch(Rg(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return We(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Ks(gt),Wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ra(e)?Bs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mf())),We(e),null;case 26:var i=e.type,r=e.memoizedState;return t===null?(Bs(e),r!==null?(We(e),H0(e,r)):(We(e),Tf(e,i,null,s,n))):r?r!==t.memoizedState?(Bs(e),We(e),H0(e,r)):(We(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Bs(e),We(e),Tf(e,i,t,s,n)),null;case 27:if(Fu(e),n=Bi.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Bs(e);else{if(!s){if(e.stateNode===null)throw Error(F(166));return We(e),null}t=ys.current,ra(e)?v0(e):(t=qw(i,s,n),e.stateNode=t,Bs(e))}return We(e),null;case 5:if(Fu(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Bs(e);else{if(!s){if(e.stateNode===null)throw Error(F(166));return We(e),null}if(r=ys.current,ra(e))v0(e);else{var a=ch(Bi.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?a.createElement(i,{is:s.is}):a.createElement(i)}}r[Vt]=e,r[on]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(Lt(r,i,s),i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Bs(e)}}return We(e),Tf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Bs(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(F(166));if(t=Bi.current,ra(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,i=It,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}t[Vt]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||zw(t.nodeValue,n)),t||Ki(e,!0)}else t=ch(t).createTextNode(s),t[Vt]=e,e.stateNode=t}return We(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=ra(e),n!==null){if(t===null){if(!s)throw Error(F(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(557));t[Vt]=e}else Br(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),t=!1}else n=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(dn(e),e):(dn(e),null);if(e.flags&128)throw Error(F(558))}return We(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ra(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Vt]=e}else Br(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),i=!1}else i=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(dn(e),e):(dn(e),null)}return dn(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==i&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),qc(e,e.updateQueue),We(e),null);case 4:return Wa(),t===null&&sy(e.stateNode.containerInfo),We(e),null;case 10:return Ks(e.type),We(e),null;case 19:if(At(ct),s=e.memoizedState,s===null)return We(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)qo(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Qu(t),r!==null){for(e.flags|=128,qo(s,!1),t=r.updateQueue,e.updateQueue=t,qc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)tS(n,t),n=n.sibling;return He(ct,ct.current&1|2),Se&&Hs(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&bn()>sh&&(e.flags|=128,i=!0,qo(s,!1),e.lanes=4194304)}else{if(!i)if(t=Qu(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,qc(e,t),qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Se)return We(e),null}else 2*bn()-s.renderingStartTime>sh&&n!==536870912&&(e.flags|=128,i=!0,qo(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bn(),t.sibling=null,n=ct.current,He(ct,i?n&1|2:n&1),Se&&Hs(e,s.treeForkCount),t):(We(e),null);case 22:case 23:return dn(e),Ig(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),n=e.updateQueue,n!==null&&qc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&At(Or),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ks(gt),We(e),null;case 25:return null;case 30:return null}throw Error(F(156,e.tag))}function mR(t,e){switch(Rg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ks(gt),Wa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Fu(e),null;case 31:if(e.memoizedState!==null){if(dn(e),e.alternate===null)throw Error(F(340));Br()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(dn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Br()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(ct),null;case 4:return Wa(),null;case 10:return Ks(e.type),null;case 22:case 23:return dn(e),Ig(),t!==null&&At(Or),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ks(gt),null;case 25:return null;default:return null}}function tw(t,e){switch(Rg(e),e.tag){case 3:Ks(gt),Wa();break;case 26:case 27:case 5:Fu(e);break;case 4:Wa();break;case 31:e.memoizedState!==null&&dn(e);break;case 13:dn(e);break;case 19:At(ct);break;case 10:Ks(e.type);break;case 22:case 23:dn(e),Ig(),t!==null&&At(Or);break;case 24:Ks(gt)}}function sc(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&t)===t){s=void 0;var r=n.create,a=n.inst;s=r(),a.destroy=s}n=n.next}while(n!==i)}}catch(o){Ie(e,e.return,o)}}function Zi(t,e,n){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&t)===t){var a=s.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(u){Ie(i,l,u)}}}s=s.next}while(s!==r)}}catch(u){Ie(e,e.return,u)}}function nw(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{hS(e,n)}catch(s){Ie(t,t.return,s)}}}function sw(t,e,n){n.props=zr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){Ie(t,e,s)}}function fl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(i){Ie(t,e,i)}}function ms(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){Ie(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ie(t,e,i)}else n.current=null}function iw(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){Ie(t,t.return,i)}}function Ef(t,e,n){try{var s=t.stateNode;LR(s,t.type,n,e),s[on]=e}catch(i){Ie(t,t.return,i)}}function rw(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zp(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ys));else if(s!==4&&(s===27&&lr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}function nh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&lr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(nh(t,e,n),t=t.sibling;t!==null;)nh(t,e,n),t=t.sibling}function aw(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Lt(e,s,n),e[Vt]=t,e[on]=n}catch(r){Ie(t,t.return,r)}}var qs=!1,mt=!1,Af=!1,q0=typeof WeakSet=="function"?WeakSet:Set,Et=null;function gR(t,e){if(t=t.containerInfo,sm=fh,t=Xx(t),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==r||s!==0&&h.nodeType!==3||(l=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===i&&(o=a),d===r&&++u===s&&(l=a),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(im={focusedElem:t,selectionRange:n},fh=!1,Et=e;Et!==null;)if(e=Et,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Et=t;else for(;Et!==null;){switch(e=Et,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,i=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var p=zr(n.type,i);t=s.getSnapshotBeforeUpdate(p,r),s.__reactInternalSnapshotBeforeUpdate=t}catch(g){Ie(n,n.return,g)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)am(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(F(163))}if(t=e.sibling,t!==null){t.return=e.return,Et=t;break}Et=e.return}}function ow(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:js(t,n),s&4&&sc(5,n);break;case 1:if(js(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ie(n,n.return,a)}else{var i=zr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ie(n,n.return,a)}}s&64&&nw(n),s&512&&fl(n,n.return);break;case 3:if(js(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{hS(t,e)}catch(a){Ie(n,n.return,a)}}break;case 27:e===null&&s&4&&aw(n);case 26:case 5:js(t,n),e===null&&s&4&&iw(n),s&512&&fl(n,n.return);break;case 12:js(t,n);break;case 31:js(t,n),s&4&&uw(t,n);break;case 13:js(t,n),s&4&&hw(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=ER.bind(null,n),GR(t,n))));break;case 22:if(s=n.memoizedState!==null||qs,!s){e=e!==null&&e.memoizedState!==null||mt,i=qs;var r=mt;qs=s,(mt=e)&&!r?Us(t,n,(n.subtreeFlags&8772)!==0):js(t,n),qs=i,mt=r}break;case 30:break;default:js(t,n)}}function lw(t){var e=t.alternate;e!==null&&(t.alternate=null,lw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&bg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,tn=!1;function Ls(t,e,n){for(n=n.child;n!==null;)cw(t,e,n),n=n.sibling}function cw(t,e,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Zl,n)}catch{}switch(n.tag){case 26:mt||ms(n,e),Ls(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:mt||ms(n,e);var s=Je,i=tn;lr(n.type)&&(Je=n.stateNode,tn=!1),Ls(t,e,n),yl(n.stateNode),Je=s,tn=i;break;case 5:mt||ms(n,e);case 6:if(s=Je,i=tn,Je=null,Ls(t,e,n),Je=s,tn=i,Je!==null)if(tn)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(r){Ie(n,e,r)}else try{Je.removeChild(n.stateNode)}catch(r){Ie(n,e,r)}break;case 18:Je!==null&&(tn?(t=Je,sb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),io(t)):sb(Je,n.stateNode));break;case 4:s=Je,i=tn,Je=n.stateNode.containerInfo,tn=!0,Ls(t,e,n),Je=s,tn=i;break;case 0:case 11:case 14:case 15:Zi(2,n,e),mt||Zi(4,n,e),Ls(t,e,n);break;case 1:mt||(ms(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&sw(n,e,s)),Ls(t,e,n);break;case 21:Ls(t,e,n);break;case 22:mt=(s=mt)||n.memoizedState!==null,Ls(t,e,n),mt=s;break;default:Ls(t,e,n)}}function uw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(n){Ie(e,e.return,n)}}}function hw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(n){Ie(e,e.return,n)}}function yR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new q0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new q0),e;default:throw Error(F(435,t.tag))}}function Gc(t,e){var n=yR(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var i=CR.bind(null,t,s);s.then(i,i)}})}function Jt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],r=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(lr(o.type)){Je=o.stateNode,tn=!1;break e}break;case 5:Je=o.stateNode,tn=!1;break e;case 3:case 4:Je=o.stateNode.containerInfo,tn=!0;break e}o=o.return}if(Je===null)throw Error(F(160));cw(r,a,i),Je=null,tn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)dw(e,t),e=e.sibling}var Kn=null;function dw(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jt(e,t),en(t),s&4&&(Zi(3,t,t.return),sc(3,t),Zi(5,t,t.return));break;case 1:Jt(e,t),en(t),s&512&&(mt||n===null||ms(n,n.return)),s&64&&qs&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=Kn;if(Jt(e,t),en(t),s&512&&(mt||n===null||ms(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Jl]||r[Vt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(s),i.head.insertBefore(r,i.querySelector("head > title"))),Lt(r,s,n),r[Vt]=t,Ct(r),s=r;break e;case"link":var a=ub("link","href",i).get(s+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}r=i.createElement(s),Lt(r,s,n),i.head.appendChild(r);break;case"meta":if(a=ub("meta","content",i).get(s+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}r=i.createElement(s),Lt(r,s,n),i.head.appendChild(r);break;default:throw Error(F(468,s))}r[Vt]=t,Ct(r),s=r}t.stateNode=s}else hb(i,t.type,t.stateNode);else t.stateNode=cb(i,s,t.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?hb(i,t.type,t.stateNode):cb(i,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Ef(t,t.memoizedProps,n.memoizedProps)}break;case 27:Jt(e,t),en(t),s&512&&(mt||n===null||ms(n,n.return)),n!==null&&s&4&&Ef(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Jt(e,t),en(t),s&512&&(mt||n===null||ms(n,n.return)),t.flags&32){i=t.stateNode;try{Za(i,"")}catch(p){Ie(t,t.return,p)}}s&4&&t.stateNode!=null&&(i=t.memoizedProps,Ef(t,i,n!==null?n.memoizedProps:i)),s&1024&&(Af=!0);break;case 6:if(Jt(e,t),en(t),s&4){if(t.stateNode===null)throw Error(F(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(p){Ie(t,t.return,p)}}break;case 3:if(Cu=null,i=Kn,Kn=uh(e.containerInfo),Jt(e,t),Kn=i,en(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{io(e.containerInfo)}catch(p){Ie(t,t.return,p)}Af&&(Af=!1,fw(t));break;case 4:s=Kn,Kn=uh(t.stateNode.containerInfo),Jt(e,t),en(t),Kn=s;break;case 12:Jt(e,t),en(t);break;case 31:Jt(e,t),en(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Gc(t,s)));break;case 13:Jt(e,t),en(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ld=bn()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Gc(t,s)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=qs,u=mt;if(qs=c||i,mt=u||l,Jt(e,t),mt=u,qs=c,en(t),s&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||qs||mt||wr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(r=l.stateNode,i)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){Ie(l,l.return,p)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(p){Ie(l,l.return,p)}}}else if(e.tag===18){if(n===null){l=e;try{var f=l.stateNode;i?ib(f,!0):ib(l.stateNode,!1)}catch(p){Ie(l,l.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Gc(t,n))));break;case 19:Jt(e,t),en(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Gc(t,s)));break;case 30:break;case 21:break;default:Jt(e,t),en(t)}}function en(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(rw(s)){n=s;break}s=s.return}if(n==null)throw Error(F(160));switch(n.tag){case 27:var i=n.stateNode,r=Cf(t);nh(t,r,i);break;case 5:var a=n.stateNode;n.flags&32&&(Za(a,""),n.flags&=-33);var o=Cf(t);nh(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Cf(t);Zp(t,c,l);break;default:throw Error(F(161))}}catch(u){Ie(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;fw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function js(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ow(t,e.alternate,e),e=e.sibling}function wr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Zi(4,e,e.return),wr(e);break;case 1:ms(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&sw(e,e.return,n),wr(e);break;case 27:yl(e.stateNode);case 26:case 5:ms(e,e.return),wr(e);break;case 22:e.memoizedState===null&&wr(e);break;case 30:wr(e);break;default:wr(e)}t=t.sibling}}function Us(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:Us(i,r,n),sc(4,r);break;case 1:if(Us(i,r,n),s=r,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ie(s,s.return,c)}if(s=r,i=s.updateQueue,i!==null){var o=s.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)uS(l[i],o)}catch(c){Ie(s,s.return,c)}}n&&a&64&&nw(r),fl(r,r.return);break;case 27:aw(r);case 26:case 5:Us(i,r,n),n&&s===null&&a&4&&iw(r),fl(r,r.return);break;case 12:Us(i,r,n);break;case 31:Us(i,r,n),n&&a&4&&uw(i,r);break;case 13:Us(i,r,n),n&&a&4&&hw(i,r);break;case 22:r.memoizedState===null&&Us(i,r,n),fl(r,r.return);break;case 30:break;default:Us(i,r,n)}e=e.sibling}}function Qg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&tc(n))}function $g(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tc(t))}function qn(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pw(t,e,n,s),e=e.sibling}function pw(t,e,n,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:qn(t,e,n,s),i&2048&&sc(9,e);break;case 1:qn(t,e,n,s);break;case 3:qn(t,e,n,s),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tc(t)));break;case 12:if(i&2048){qn(t,e,n,s),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Ie(e,e.return,l)}}else qn(t,e,n,s);break;case 31:qn(t,e,n,s);break;case 13:qn(t,e,n,s);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?qn(t,e,n,s):pl(t,e):r._visibility&2?qn(t,e,n,s):(r._visibility|=2,fa(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Qg(a,e);break;case 24:qn(t,e,n,s),i&2048&&$g(e.alternate,e);break;default:qn(t,e,n,s)}}function fa(t,e,n,s,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,o=n,l=s,c=a.flags;switch(a.tag){case 0:case 11:case 15:fa(r,a,o,l,i),sc(8,a);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&2?fa(r,a,o,l,i):pl(r,a):(u._visibility|=2,fa(r,a,o,l,i)),i&&c&2048&&Qg(a.alternate,a);break;case 24:fa(r,a,o,l,i),i&&c&2048&&$g(a.alternate,a);break;default:fa(r,a,o,l,i)}e=e.sibling}}function pl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,i=s.flags;switch(s.tag){case 22:pl(n,s),i&2048&&Qg(s.alternate,s);break;case 24:pl(n,s),i&2048&&$g(s.alternate,s);break;default:pl(n,s)}e=e.sibling}}var el=8192;function aa(t,e,n){if(t.subtreeFlags&el)for(t=t.child;t!==null;)mw(t,e,n),t=t.sibling}function mw(t,e,n){switch(t.tag){case 26:aa(t,e,n),t.flags&el&&t.memoizedState!==null&&sk(n,Kn,t.memoizedState,t.memoizedProps);break;case 5:aa(t,e,n);break;case 3:case 4:var s=Kn;Kn=uh(t.stateNode.containerInfo),aa(t,e,n),Kn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=el,el=16777216,aa(t,e,n),el=s):aa(t,e,n));break;default:aa(t,e,n)}}function gw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Go(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Et=s,vw(s,t)}gw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yw(t),t=t.sibling}function yw(t){switch(t.tag){case 0:case 11:case 15:Go(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Go(t);break;case 12:Go(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Tu(t)):Go(t);break;default:Go(t)}}function Tu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Et=s,vw(s,t)}gw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Zi(8,e,e.return),Tu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Tu(e));break;default:Tu(e)}t=t.sibling}}function vw(t,e){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Zi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:tc(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Et=s;else e:for(n=t;Et!==null;){s=Et;var i=s.sibling,r=s.return;if(lw(s),s===n){Et=null;break e}if(i!==null){i.return=r,Et=i;break e}Et=r}}}var vR={getCacheForType:function(t){var e=Bt(gt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Bt(gt).controller.signal}},bR=typeof WeakMap=="function"?WeakMap:Map,Re=0,Fe=null,_e=null,xe=0,Ve=0,hn=null,Oi=!1,xo=!1,Jg=!1,ni=0,rt=0,Qi=0,Vr=0,ey=0,gn=0,eo=0,ml=null,nn=null,Qp=!1,ld=0,bw=0,sh=1/0,ih=null,zi=null,St=0,Ui=null,to=null,Zs=0,$p=0,Jp=null,_w=null,gl=0,em=null;function Sn(){return Re&2&&xe!==0?xe&-xe:ue.T!==null?ny():Mx()}function xw(){if(gn===0)if(!(xe&536870912)||Se){var t=Lc;Lc<<=1,!(Lc&3932160)&&(Lc=262144),gn=t}else gn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),gn}function rn(t,e,n){(t===Fe&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(no(t,0),Di(t,xe,gn,!1)),$l(t,n),(!(Re&2)||t!==Fe)&&(t===Fe&&(!(Re&2)&&(Vr|=n),rt===4&&Di(t,xe,gn,!1)),Ms(t))}function Sw(t,e,n){if(Re&6)throw Error(F(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ql(t,e),i=s?SR(t,e):Nf(t,e,!0),r=s;do{if(i===0){xo&&!s&&Di(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!_R(n)){i=Nf(t,e,!1),r=!1;continue}if(i===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=ml;var l=o.current.memoizedState.isDehydrated;if(l&&(no(o,a).flags|=256),a=Nf(o,a,!1),a!==2){if(Jg&&!l){o.errorRecoveryDisabledLanes|=r,Vr|=r,i=4;break e}r=nn,nn=i,r!==null&&(nn===null?nn=r:nn.push.apply(nn,r))}i=a}if(r=!1,i!==2)continue}}if(i===1){no(t,0),Di(t,e,0,!0);break}e:{switch(s=t,r=i,r){case 0:case 1:throw Error(F(345));case 4:if((e&4194048)!==e)break;case 6:Di(s,e,gn,!Oi);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(F(329))}if((e&62914560)===e&&(i=ld+300-bn(),10<i)){if(Di(s,e,gn,!Oi),Qh(s,0,!0)!==0)break e;Zs=e,s.timeoutHandle=Fw(G0.bind(null,s,n,nn,ih,Qp,e,gn,Vr,eo,Oi,r,"Throttled",-0,0),i);break e}G0(s,n,nn,ih,Qp,e,gn,Vr,eo,Oi,r,null,-0,0)}}break}while(!0);Ms(t)}function G0(t,e,n,s,i,r,a,o,l,c,u,h,d,f){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ys},mw(e,r,h);var p=(r&62914560)===r?ld-bn():(r&4194048)===r?bw-bn():0;if(p=ik(h,p),p!==null){Zs=r,t.cancelPendingCommit=p(X0.bind(null,t,e,r,n,s,i,a,o,l,u,h,null,d,f)),Di(t,r,a,!c);return}}X0(t,e,r,n,s,i,a,o,l)}function _R(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!En(r(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e,n,s){e&=~ey,e&=~Vr,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var i=e;0<i;){var r=31-xn(i),a=1<<r;s[r]=-1,i&=~a}n!==0&&Cx(t,n,e)}function cd(){return Re&6?!0:(ic(0),!1)}function ty(){if(_e!==null){if(Ve===0)var t=_e.return;else t=_e,Xs=$r=null,zg(t),Ua=null,Nl=0,t=_e;for(;t!==null;)tw(t.alternate,t),t=t.return;_e=null}}function no(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,zR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Zs=0,ty(),Fe=t,_e=n=Ws(t.current,null),xe=e,Ve=0,hn=null,Oi=!1,xo=Ql(t,e),Jg=!1,eo=gn=ey=Vr=Qi=rt=0,nn=ml=null,Qp=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var i=31-xn(s),r=1<<i;e|=t[i],s&=~r}return ni=e,td(),n}function ww(t,e){ge=null,ue.H=Rl,e===_o||e===sd?(e=w0(),Ve=3):e===Dg?(e=w0(),Ve=4):Ve=e===Kg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,hn=e,_e===null&&(rt=1,eh(t,Vn(e,t.current)))}function Tw(){var t=Cn.current;return t===null?!0:(xe&4194048)===xe?jn===null:(xe&62914560)===xe||xe&536870912?t===jn:!1}function Ew(){var t=ue.H;return ue.H=Rl,t===null?Rl:t}function Cw(){var t=ue.A;return ue.A=vR,t}function rh(){rt=4,Oi||(xe&4194048)!==xe&&Cn.current!==null||(xo=!0),!(Qi&134217727)&&!(Vr&134217727)||Fe===null||Di(Fe,xe,gn,!1)}function Nf(t,e,n){var s=Re;Re|=2;var i=Ew(),r=Cw();(Fe!==t||xe!==e)&&(ih=null,no(t,e)),e=!1;var a=rt;e:do try{if(Ve!==0&&_e!==null){var o=_e,l=hn;switch(Ve){case 8:ty(),a=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(e=!0);var c=Ve;if(Ve=0,hn=null,Na(t,o,l,c),n&&xo){a=0;break e}break;default:c=Ve,Ve=0,hn=null,Na(t,o,l,c)}}xR(),a=rt;break}catch(u){ww(t,u)}while(!0);return e&&t.shellSuspendCounter++,Xs=$r=null,Re=s,ue.H=i,ue.A=r,_e===null&&(Fe=null,xe=0,td()),a}function xR(){for(;_e!==null;)Aw(_e)}function SR(t,e){var n=Re;Re|=2;var s=Ew(),i=Cw();Fe!==t||xe!==e?(ih=null,sh=bn()+500,no(t,e)):xo=Ql(t,e);e:do try{if(Ve!==0&&_e!==null){e=_e;var r=hn;t:switch(Ve){case 1:Ve=0,hn=null,Na(t,e,r,1);break;case 2:case 9:if(S0(r)){Ve=0,hn=null,Y0(e);break}e=function(){Ve!==2&&Ve!==9||Fe!==t||(Ve=7),Ms(t)},r.then(e,e);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:S0(r)?(Ve=0,hn=null,Y0(e)):(Ve=0,hn=null,Na(t,e,r,7));break;case 5:var a=null;switch(_e.tag){case 26:a=_e.memoizedState;case 5:case 27:var o=_e;if(a?Xw(a):o.stateNode.complete){Ve=0,hn=null;var l=o.sibling;if(l!==null)_e=l;else{var c=o.return;c!==null?(_e=c,ud(c)):_e=null}break t}}Ve=0,hn=null,Na(t,e,r,5);break;case 6:Ve=0,hn=null,Na(t,e,r,6);break;case 8:ty(),rt=6;break e;default:throw Error(F(462))}}wR();break}catch(u){ww(t,u)}while(!0);return Xs=$r=null,ue.H=s,ue.A=i,Re=n,_e!==null?0:(Fe=null,xe=0,td(),rt)}function wR(){for(;_e!==null&&!YM();)Aw(_e)}function Aw(t){var e=ew(t.alternate,t,ni);t.memoizedProps=t.pendingProps,e===null?ud(t):_e=e}function Y0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=P0(n,e,e.pendingProps,e.type,void 0,xe);break;case 11:e=P0(n,e,e.pendingProps,e.type.render,e.ref,xe);break;case 5:zg(e);default:tw(n,e),e=_e=tS(e,ni),e=ew(n,e,ni)}t.memoizedProps=t.pendingProps,e===null?ud(t):_e=e}function Na(t,e,n,s){Xs=$r=null,zg(e),Ua=null,Nl=0;var i=e.return;try{if(hR(t,i,e,n,xe)){rt=1,eh(t,Vn(n,t.current)),_e=null;return}}catch(r){if(i!==null)throw _e=i,r;rt=1,eh(t,Vn(n,t.current)),_e=null;return}e.flags&32768?(Se||s===1?t=!0:xo||xe&536870912?t=!1:(Oi=t=!0,(s===2||s===9||s===3||s===6)&&(s=Cn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Nw(e,t)):ud(e)}function ud(t){var e=t;do{if(e.flags&32768){Nw(e,Oi);return}t=e.return;var n=pR(e.alternate,e,ni);if(n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);rt===0&&(rt=5)}function Nw(t,e){do{var n=mR(t.alternate,t);if(n!==null){n.flags&=32767,_e=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){_e=t;return}_e=t=n}while(t!==null);rt=6,_e=null}function X0(t,e,n,s,i,r,a,o,l){t.cancelPendingCommit=null;do hd();while(St!==0);if(Re&6)throw Error(F(327));if(e!==null){if(e===t.current)throw Error(F(177));if(r=e.lanes|e.childLanes,r|=Cg,n2(t,n,r,a,o,l),t===Fe&&(_e=Fe=null,xe=0),to=e,Ui=t,Zs=n,$p=r,Jp=i,_w=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,AR(Hu,function(){return Dw(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=ue.T,ue.T=null,i=ke.p,ke.p=2,a=Re,Re|=4;try{gR(t,e,n)}finally{Re=a,ke.p=i,ue.T=s}}St=1,Mw(),Rw(),kw()}}function Mw(){if(St===1){St=0;var t=Ui,e=to,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ue.T,ue.T=null;var s=ke.p;ke.p=2;var i=Re;Re|=4;try{dw(e,t);var r=im,a=Xx(t.containerInfo),o=r.focusedElem,l=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&Yx(o.ownerDocument.documentElement,o)){if(l!==null&&Eg(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,g=Math.min(l.start,p),v=l.end===void 0?g:Math.min(l.end,p);!f.extend&&g>v&&(a=v,v=g,g=a);var m=m0(o,g),y=m0(o,v);if(m&&y&&(f.rangeCount!==1||f.anchorNode!==m.node||f.anchorOffset!==m.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=h.createRange();b.setStart(m.node,m.offset),f.removeAllRanges(),g>v?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var S=h[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}fh=!!sm,im=sm=null}finally{Re=i,ke.p=s,ue.T=n}}t.current=e,St=2}}function Rw(){if(St===2){St=0;var t=Ui,e=to,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ue.T,ue.T=null;var s=ke.p;ke.p=2;var i=Re;Re|=4;try{ow(t,e.alternate,e)}finally{Re=i,ke.p=s,ue.T=n}}St=3}}function kw(){if(St===4||St===3){St=0,XM();var t=Ui,e=to,n=Zs,s=_w;e.subtreeFlags&10256||e.flags&10256?St=5:(St=0,to=Ui=null,Ow(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(zi=null),vg(n),e=e.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Zl,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=ue.T,i=ke.p,ke.p=2,ue.T=null;try{for(var r=t.onRecoverableError,a=0;a<s.length;a++){var o=s[a];r(o.value,{componentStack:o.stack})}}finally{ue.T=e,ke.p=i}}Zs&3&&hd(),Ms(t),i=t.pendingLanes,n&261930&&i&42?t===em?gl++:(gl=0,em=t):gl=0,ic(0)}}function Ow(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,tc(e)))}function hd(){return Mw(),Rw(),kw(),Dw()}function Dw(){if(St!==5)return!1;var t=Ui,e=$p;$p=0;var n=vg(Zs),s=ue.T,i=ke.p;try{ke.p=32>n?32:n,ue.T=null,n=Jp,Jp=null;var r=Ui,a=Zs;if(St=0,to=Ui=null,Zs=0,Re&6)throw Error(F(331));var o=Re;if(Re|=4,yw(r.current),pw(r,r.current,a,n),Re=o,ic(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Zl,r)}catch{}return!0}finally{ke.p=i,ue.T=s,Ow(t,e)}}function W0(t,e,n){e=Vn(n,e),e=Xp(t.stateNode,e,2),t=Pi(t,e,2),t!==null&&($l(t,2),Ms(t))}function Ie(t,e,n){if(t.tag===3)W0(t,t,n);else for(;e!==null;){if(e.tag===3){W0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zi===null||!zi.has(s))){t=Vn(n,t),n=WS(2),s=Pi(e,n,2),s!==null&&(KS(n,s,e,t),$l(s,2),Ms(s));break}}e=e.return}}function Mf(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new bR;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(Jg=!0,i.add(n),t=TR.bind(null,t,e,n),e.then(t,t))}function TR(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Fe===t&&(xe&n)===n&&(rt===4||rt===3&&(xe&62914560)===xe&&300>bn()-ld?!(Re&2)&&no(t,0):ey|=n,eo===xe&&(eo=0)),Ms(t)}function Vw(t,e){e===0&&(e=Ex()),t=Qr(t,e),t!==null&&($l(t,e),Ms(t))}function ER(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vw(t,n)}function CR(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(F(314))}s!==null&&s.delete(e),Vw(t,n)}function AR(t,e){return gg(t,e)}var ah=null,pa=null,tm=!1,oh=!1,Rf=!1,Vi=0;function Ms(t){t!==pa&&t.next===null&&(pa===null?ah=pa=t:pa=pa.next=t),oh=!0,tm||(tm=!0,MR())}function ic(t,e){if(!Rf&&oh){Rf=!0;do for(var n=!1,s=ah;s!==null;){if(t!==0){var i=s.pendingLanes;if(i===0)var r=0;else{var a=s.suspendedLanes,o=s.pingedLanes;r=(1<<31-xn(42|t)+1)-1,r&=i&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,K0(s,r))}else r=xe,r=Qh(s,s===Fe?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Ql(s,r)||(n=!0,K0(s,r));s=s.next}while(n);Rf=!1}}function NR(){Iw()}function Iw(){oh=tm=!1;var t=0;Vi!==0&&PR()&&(t=Vi);for(var e=bn(),n=null,s=ah;s!==null;){var i=s.next,r=Bw(s,e);r===0?(s.next=null,n===null?ah=i:n.next=i,i===null&&(pa=n)):(n=s,(t!==0||r&3)&&(oh=!0)),s=i}St!==0&&St!==5||ic(t),Vi!==0&&(Vi=0)}function Bw(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-xn(r),o=1<<a,l=i[a];l===-1?(!(o&n)||o&s)&&(i[a]=t2(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}if(e=Fe,n=xe,n=Qh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&sf(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ql(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&sf(s),vg(n)){case 2:case 8:n=wx;break;case 32:n=Hu;break;case 268435456:n=Tx;break;default:n=Hu}return s=Lw.bind(null,t),n=gg(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&sf(s),t.callbackPriority=2,t.callbackNode=null,2}function Lw(t,e){if(St!==0&&St!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(hd()&&t.callbackNode!==n)return null;var s=xe;return s=Qh(t,t===Fe?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Sw(t,s,e),Bw(t,bn()),t.callbackNode!=null&&t.callbackNode===n?Lw.bind(null,t):null)}function K0(t,e){if(hd())return null;Sw(t,e,!0)}function MR(){UR(function(){Re&6?gg(Sx,NR):Iw()})}function ny(){if(Vi===0){var t=Qa;t===0&&(t=Bc,Bc<<=1,!(Bc&261888)&&(Bc=256)),Vi=t}return Vi}function Z0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mu(""+t)}function Q0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function RR(t,e,n,s,i){if(e==="submit"&&n&&n.stateNode===i){var r=Z0((i[on]||null).action),a=s.submitter;a&&(e=(e=a[on]||null)?Z0(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var o=new $h("action","action",null,s,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vi!==0){var l=a?Q0(i,a):new FormData(i);Gp(n,{pending:!0,data:l,method:i.method,action:r},null,l)}}else typeof r=="function"&&(o.preventDefault(),l=a?Q0(i,a):new FormData(i),Gp(n,{pending:!0,data:l,method:i.method,action:r},r,l))},currentTarget:i}]})}}for(var kf=0;kf<Dp.length;kf++){var Of=Dp[kf],kR=Of.toLowerCase(),OR=Of[0].toUpperCase()+Of.slice(1);os(kR,"on"+OR)}os(Kx,"onAnimationEnd");os(Zx,"onAnimationIteration");os(Qx,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(W2,"onTransitionRun");os(K2,"onTransitionStart");os(Z2,"onTransitionCancel");os($x,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function jw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;r=o,i.currentTarget=c;try{r(i)}catch(u){Gu(u)}i.currentTarget=null,r=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;r=o,i.currentTarget=c;try{r(i)}catch(u){Gu(u)}i.currentTarget=null,r=l}}}}function be(t,e){var n=e[Ep];n===void 0&&(n=e[Ep]=new Set);var s=t+"__bubble";n.has(s)||(Pw(e,t,2,!1),n.add(s))}function Df(t,e,n){var s=0;e&&(s|=4),Pw(n,t,s,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function sy(t){if(!t[Yc]){t[Yc]=!0,Rx.forEach(function(n){n!=="selectionchange"&&(DR.has(n)||Df(n,!1,t),Df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,Df("selectionchange",!1,e))}}function Pw(t,e,n,s){switch($w(e)){case 2:var i=ok;break;case 8:i=lk;break;default:i=oy}n=i.bind(null,e,n,t),i=void 0,!Rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vf(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=ba(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){s=r=a;continue e}o=o.parentNode}}s=s.return}jx(function(){var c=r,u=xg(n),h=[];e:{var d=Jx.get(t);if(d!==void 0){var f=$h,p=t;switch(t){case"keypress":if(yu(n)===0)break e;case"keydown":case"keyup":f=C2;break;case"focusin":p="focus",f=cf;break;case"focusout":p="blur",f=cf;break;case"beforeblur":case"afterblur":f=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=r0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=p2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=M2;break;case Kx:case Zx:case Qx:f=y2;break;case $x:f=k2;break;case"scroll":case"scrollend":f=d2;break;case"wheel":f=D2;break;case"copy":case"cut":case"paste":f=b2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=o0;break;case"toggle":case"beforetoggle":f=I2}var g=(e&4)!==0,v=!g&&(t==="scroll"||t==="scrollend"),m=g?d!==null?d+"Capture":null:d;g=[];for(var y=c,b;y!==null;){var S=y;if(b=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||b===null||m===null||(S=wl(y,m),S!=null&&g.push(Ol(y,S,b))),v)break;y=y.return}0<g.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Mp&&(p=n.relatedTarget||n.fromElement)&&(ba(p)||p[yo]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?ba(p):null,p!==null&&(v=Kl(p),g=p.tag,p!==v||g!==5&&g!==27&&g!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=r0,S="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=o0,S="onPointerLeave",m="onPointerEnter",y="pointer"),v=f==null?d:$o(f),b=p==null?d:$o(p),d=new g(S,y+"leave",f,n,u),d.target=v,d.relatedTarget=b,S=null,ba(u)===c&&(g=new g(m,y+"enter",p,n,u),g.target=b,g.relatedTarget=v,S=g),v=S,f&&p)t:{for(g=VR,m=f,y=p,b=0,S=m;S;S=g(S))b++;S=0;for(var w=y;w;w=g(w))S++;for(;0<b-S;)m=g(m),b--;for(;0<S-b;)y=g(y),S--;for(;b--;){if(m===y||y!==null&&m===y.alternate){g=m;break t}m=g(m),y=g(y)}g=null}else g=null;f!==null&&$0(h,d,f,g,!1),p!==null&&v!==null&&$0(h,v,p,g,!0)}}e:{if(d=c?$o(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var C=h0;else if(u0(d))if(qx)C=G2;else{C=H2;var E=F2}else f=d.nodeName,!f||f.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&_g(c.elementType)&&(C=h0):C=q2;if(C&&(C=C(t,c))){Hx(h,C,n,u);break e}E&&E(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Np(d,"number",d.value)}switch(E=c?$o(c):window,t){case"focusin":(u0(E)||E.contentEditable==="true")&&(Sa=E,kp=c,ol=null);break;case"focusout":ol=kp=Sa=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,g0(h,n,u);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":g0(h,n,u)}var T;if(Tg)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else xa?Ux(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(zx&&n.locale!=="ko"&&(xa||O!=="onCompositionStart"?O==="onCompositionEnd"&&xa&&(T=Px()):(ki=u,Sg="value"in ki?ki.value:ki.textContent,xa=!0)),E=lh(c,O),0<E.length&&(O=new a0(O,t,null,n,u),h.push({event:O,listeners:E}),T?O.data=T:(T=Fx(n),T!==null&&(O.data=T)))),(T=L2?j2(t,n):P2(t,n))&&(O=lh(c,"onBeforeInput"),0<O.length&&(E=new a0("onBeforeInput","beforeinput",null,n,u),h.push({event:E,listeners:O}),E.data=T)),RR(h,t,c,n,u)}jw(h,e)})}function Ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lh(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=wl(t,n),i!=null&&s.unshift(Ol(t,i,r)),i=wl(t,e),i!=null&&s.push(Ol(t,i,r))),t.tag===3)return s;t=t.return}return[]}function VR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $0(t,e,n,s,i){for(var r=e._reactName,a=[];n!==null&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===s)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=wl(n,r),c!=null&&a.unshift(Ol(n,c,l))):i||(c=wl(n,r),c!=null&&a.push(Ol(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var IR=/\r\n?/g,BR=/\u0000|\uFFFD/g;function J0(t){return(typeof t=="string"?t:""+t).replace(IR,`
`).replace(BR,"")}function zw(t,e){return e=J0(e),J0(t)===e}function Le(t,e,n,s,i,r){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Za(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Za(t,""+s);break;case"className":Pc(t,"class",s);break;case"tabIndex":Pc(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Pc(t,n,s);break;case"style":Lx(t,s,r);break;case"data":if(e!=="object"){Pc(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=mu(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Le(t,e,"name",i.name,i,null),Le(t,e,"formEncType",i.formEncType,i,null),Le(t,e,"formMethod",i.formMethod,i,null),Le(t,e,"formTarget",i.formTarget,i,null)):(Le(t,e,"encType",i.encType,i,null),Le(t,e,"method",i.method,i,null),Le(t,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=mu(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Ys);break;case"onScroll":s!=null&&be("scroll",t);break;case"onScrollEnd":s!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(F(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=mu(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":be("beforetoggle",t),be("toggle",t),pu(t,"popover",s);break;case"xlinkActuate":Is(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Is(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Is(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Is(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Is(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Is(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Is(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Is(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Is(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":pu(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=u2.get(n)||n,pu(t,n,s))}}function nm(t,e,n,s,i,r){switch(n){case"style":Lx(t,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(F(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Za(t,s):(typeof s=="number"||typeof s=="bigint")&&Za(t,""+s);break;case"onScroll":s!=null&&be("scroll",t);break;case"onScrollEnd":s!=null&&be("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),r=t[on]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,i),typeof s=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,i);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):pu(t,n,s)}}}function Lt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var s=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Le(t,e,r,a,n,null)}}i&&Le(t,e,"srcSet",n.srcSet,n,null),s&&Le(t,e,"src",n.src,n,null);return;case"input":be("invalid",t);var o=r=a=i=null,l=null,c=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"name":i=u;break;case"type":a=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":r=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(F(137,e));break;default:Le(t,e,s,u,n,null)}}Vx(t,r,o,l,c,a,i,!1);return;case"select":be("invalid",t),s=a=r=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:Le(t,e,i,o,n,null)}e=r,n=a,t.multiple=!!s,e!=null?ja(t,!!s,e,!1):n!=null&&ja(t,!!s,n,!0);return;case"textarea":be("invalid",t),r=i=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":i=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(F(91));break;default:Le(t,e,a,o,n,null)}Bx(t,s,i,r);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(s=n[l],s!=null))switch(l){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(t,e,l,s,n,null)}return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(s=0;s<kl.length;s++)be(kl[s],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Le(t,e,c,s,n,null)}return;default:if(_g(e)){for(u in n)n.hasOwnProperty(u)&&(s=n[u],s!==void 0&&nm(t,e,u,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&Le(t,e,o,s,n,null))}function LR(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,a=null,o=null,l=null,c=null,u=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=h;default:s.hasOwnProperty(f)||Le(t,e,f,null,s,h)}}for(var d in s){var f=s[d];if(h=n[d],s.hasOwnProperty(d)&&(f!=null||h!=null))switch(d){case"type":r=f;break;case"name":i=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":a=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(F(137,e));break;default:f!==h&&Le(t,e,d,f,s,h)}}Ap(t,a,o,l,c,u,r,i);return;case"select":f=a=o=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null)switch(r){case"value":break;case"multiple":f=l;default:s.hasOwnProperty(r)||Le(t,e,r,null,s,l)}for(i in s)if(r=s[i],l=n[i],s.hasOwnProperty(i)&&(r!=null||l!=null))switch(i){case"value":d=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==l&&Le(t,e,i,r,s,l)}e=o,n=a,s=f,d!=null?ja(t,!!n,d,!1):!!s!=!!n&&(e!=null?ja(t,!!n,e,!0):ja(t,!!n,n?[]:"",!1));return;case"textarea":f=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Le(t,e,o,null,s,i)}for(a in s)if(i=s[a],r=n[a],s.hasOwnProperty(a)&&(i!=null||r!=null))switch(a){case"value":d=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(F(91));break;default:i!==r&&Le(t,e,a,i,s,r)}Ix(t,d,f);return;case"option":for(var p in n)if(d=n[p],n.hasOwnProperty(p)&&d!=null&&!s.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:Le(t,e,p,null,s,d)}for(l in s)if(d=s[l],f=n[l],s.hasOwnProperty(l)&&d!==f&&(d!=null||f!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Le(t,e,l,d,s,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!s.hasOwnProperty(g)&&Le(t,e,g,null,s,d);for(c in s)if(d=s[c],f=n[c],s.hasOwnProperty(c)&&d!==f&&(d!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(F(137,e));break;default:Le(t,e,c,d,s,f)}return;default:if(_g(e)){for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!==void 0&&!s.hasOwnProperty(v)&&nm(t,e,v,void 0,s,d);for(u in s)d=s[u],f=n[u],!s.hasOwnProperty(u)||d===f||d===void 0&&f===void 0||nm(t,e,u,d,s,f);return}}for(var m in n)d=n[m],n.hasOwnProperty(m)&&d!=null&&!s.hasOwnProperty(m)&&Le(t,e,m,null,s,d);for(h in s)d=s[h],f=n[h],!s.hasOwnProperty(h)||d===f||d==null&&f==null||Le(t,e,h,d,s,f)}function eb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var i=n[s],r=i.transferSize,a=i.initiatorType,o=i.duration;if(r&&o&&eb(a)){for(a=0,o=i.responseEnd,s+=1;s<n.length;s++){var l=n[s],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&eb(h)&&(l=l.responseEnd,a+=u*(l<o?1:(o-c)/(l-c)))}if(--s,e+=8*(r+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,im=null;function ch(t){return t.nodeType===9?t:t.ownerDocument}function tb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function rm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var If=null;function PR(){var t=window.event;return t&&t.type==="popstate"?t===If?!1:(If=t,!0):(If=null,!1)}var Fw=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,UR=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(t){return nb.resolve(null).then(t).catch(FR)}:Fw;function FR(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function sb(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(i),io(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")yl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,yl(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[Jl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&yl(t.ownerDocument.body);n=i}while(n);io(e)}function ib(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function am(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":am(n),bg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function HR(t,e,n,s){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Jl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function qR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pn(t.nextSibling),t===null))return null;return t}function Hw(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Pn(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$?"||t.data==="$~"}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var cm=null;function rb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Pn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function qw(t,e,n){switch(e=ch(n),t){case"html":if(t=e.documentElement,!t)throw Error(F(452));return t;case"head":if(t=e.head,!t)throw Error(F(453));return t;case"body":if(t=e.body,!t)throw Error(F(454));return t;default:throw Error(F(451))}}function yl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);bg(t)}var Hn=new Map,ob=new Set;function uh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ci=ke.d;ke.d={f:YR,r:XR,D:WR,C:KR,L:ZR,m:QR,X:JR,S:$R,M:ek};function YR(){var t=ci.f(),e=cd();return t||e}function XR(t){var e=vo(t);e!==null&&e.tag===5&&e.type==="form"?LS(e):ci.r(t)}var So=typeof document>"u"?null:document;function Gw(t,e,n){var s=So;if(s&&typeof e=="string"&&e){var i=Dn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),ob.has(i)||(ob.add(i),t={rel:t,crossOrigin:n,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),Lt(e,"link",t),Ct(e),s.head.appendChild(e)))}}function WR(t){ci.D(t),Gw("dns-prefetch",t,null)}function KR(t,e){ci.C(t,e),Gw("preconnect",t,e)}function ZR(t,e,n){ci.L(t,e,n);var s=So;if(s&&t&&e){var i='link[rel="preload"][as="'+Dn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Dn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Dn(n.imageSizes)+'"]')):i+='[href="'+Dn(t)+'"]';var r=i;switch(e){case"style":r=so(t);break;case"script":r=wo(t)}Hn.has(r)||(t=$e({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Hn.set(r,t),s.querySelector(i)!==null||e==="style"&&s.querySelector(rc(r))||e==="script"&&s.querySelector(ac(r))||(e=s.createElement("link"),Lt(e,"link",t),Ct(e),s.head.appendChild(e)))}}function QR(t,e){ci.m(t,e);var n=So;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Dn(s)+'"][href="'+Dn(t)+'"]',r=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=wo(t)}if(!Hn.has(r)&&(t=$e({rel:"modulepreload",href:t},e),Hn.set(r,t),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ac(r)))return}s=n.createElement("link"),Lt(s,"link",t),Ct(s),n.head.appendChild(s)}}}function $R(t,e,n){ci.S(t,e,n);var s=So;if(s&&t){var i=La(s).hoistableStyles,r=so(t);e=e||"default";var a=i.get(r);if(!a){var o={loading:0,preload:null};if(a=s.querySelector(rc(r)))o.loading=5;else{t=$e({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Hn.get(r))&&iy(t,n);var l=a=s.createElement("link");Ct(l),Lt(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Eu(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(r,a)}}}function JR(t,e){ci.X(t,e);var n=So;if(n&&t){var s=La(n).hoistableScripts,i=wo(t),r=s.get(i);r||(r=n.querySelector(ac(i)),r||(t=$e({src:t,async:!0},e),(e=Hn.get(i))&&ry(t,e),r=n.createElement("script"),Ct(r),Lt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function ek(t,e){ci.M(t,e);var n=So;if(n&&t){var s=La(n).hoistableScripts,i=wo(t),r=s.get(i);r||(r=n.querySelector(ac(i)),r||(t=$e({src:t,async:!0,type:"module"},e),(e=Hn.get(i))&&ry(t,e),r=n.createElement("script"),Ct(r),Lt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function lb(t,e,n,s){var i=(i=Bi.current)?uh(i):null;if(!i)throw Error(F(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=so(n.href),n=La(i).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=so(n.href);var r=La(i).hoistableStyles,a=r.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=i.querySelector(rc(t)))&&!r._p&&(a.instance=r,a.state.loading=5),Hn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Hn.set(t,n),r||tk(i,t,n,a.state))),e&&s===null)throw Error(F(528,""));return a}if(e&&s!==null)throw Error(F(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=wo(n),n=La(i).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,t))}}function so(t){return'href="'+Dn(t)+'"'}function rc(t){return'link[rel="stylesheet"]['+t+"]"}function Yw(t){return $e({},t,{"data-precedence":t.precedence,precedence:null})}function tk(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Lt(e,"link",n),Ct(e),t.head.appendChild(e))}function wo(t){return'[src="'+Dn(t)+'"]'}function ac(t){return"script[async]"+t}function cb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+Dn(n.href)+'"]');if(s)return e.instance=s,Ct(s),s;var i=$e({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),Ct(s),Lt(s,"style",i),Eu(s,n.precedence,t),e.instance=s;case"stylesheet":i=so(n.href);var r=t.querySelector(rc(i));if(r)return e.state.loading|=4,e.instance=r,Ct(r),r;s=Yw(n),(i=Hn.get(i))&&iy(s,i),r=(t.ownerDocument||t).createElement("link"),Ct(r);var a=r;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Lt(r,"link",s),e.state.loading|=4,Eu(r,n.precedence,t),e.instance=r;case"script":return r=wo(n.src),(i=t.querySelector(ac(r)))?(e.instance=i,Ct(i),i):(s=n,(i=Hn.get(r))&&(s=$e({},n),ry(s,i)),t=t.ownerDocument||t,i=t.createElement("script"),Ct(i),Lt(i,"link",s),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(F(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Eu(s,n.precedence,t));return e.instance}function Eu(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,r=i,a=0;a<s.length;a++){var o=s[a];if(o.dataset.precedence===e)r=o;else if(r!==i)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function iy(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ry(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Cu=null;function ub(t,e,n){if(Cu===null){var s=new Map,i=Cu=new Map;i.set(n,s)}else i=Cu,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var r=n[i];if(!(r[Jl]||r[Vt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var o=s.get(a);o?o.push(r):s.set(a,[r])}}return s}function hb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function nk(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Xw(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function sk(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=so(s.href),r=e.querySelector(rc(i));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=hh.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,Ct(r);return}r=e.ownerDocument||e,s=Yw(s),(i=Hn.get(i))&&iy(s,i),r=r.createElement("link"),Ct(r);var a=r;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Lt(r,"link",s),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=hh.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Bf=0;function ik(t,e){return t.stylesheets&&t.count===0&&Au(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Au(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&Bf===0&&(Bf=62500*jR());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Au(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>Bf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(i)}}:null}function hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dh=null;function Au(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dh=new Map,e.forEach(rk,t),dh=null,hh.call(t))}function rk(t,e){if(!(e.state.loading&4)){var n=dh.get(t);if(n)var s=n.get(null);else{n=new Map,dh.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var a=i[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}i=e.instance,a=i.getAttribute("data-precedence"),r=n.get(a)||s,r===s&&n.set(null,i),n.set(a,i),this.count++,s=hh.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),r?r.parentNode.insertBefore(i,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Dl={$$typeof:Gs,Provider:null,Consumer:null,_currentValue:Rr,_currentValue2:Rr,_threadCount:0};function ak(t,e,n,s,i,r,a,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.hiddenUpdates=rf(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Ww(t,e,n,s,i,r,a,o,l,c,u,h){return t=new ak(t,e,n,a,l,c,u,h,o),e=1,r===!0&&(e|=24),r=mn(3,null,null,e),t.current=r,r.stateNode=t,e=kg(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:e},Vg(r),t}function Kw(t){return t?(t=Ea,t):Ea}function Zw(t,e,n,s,i,r){i=Kw(i),s.context===null?s.context=i:s.pendingContext=i,s=ji(e),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=Pi(t,s,e),n!==null&&(rn(n,t,e),cl(n,t,e))}function db(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ay(t,e){db(t,e),(t=t.alternate)&&db(t,e)}function Qw(t){if(t.tag===13||t.tag===31){var e=Qr(t,67108864);e!==null&&rn(e,t,67108864),ay(t,67108864)}}function fb(t){if(t.tag===13||t.tag===31){var e=Sn();e=yg(e);var n=Qr(t,e);n!==null&&rn(n,t,e),ay(t,e)}}var fh=!0;function ok(t,e,n,s){var i=ue.T;ue.T=null;var r=ke.p;try{ke.p=2,oy(t,e,n,s)}finally{ke.p=r,ue.T=i}}function lk(t,e,n,s){var i=ue.T;ue.T=null;var r=ke.p;try{ke.p=8,oy(t,e,n,s)}finally{ke.p=r,ue.T=i}}function oy(t,e,n,s){if(fh){var i=um(s);if(i===null)Vf(t,e,s,ph,n),pb(t,s);else if(uk(i,t,e,n,s))s.stopPropagation();else if(pb(t,s),e&4&&-1<ck.indexOf(t)){for(;i!==null;){var r=vo(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=xr(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-xn(a);o.entanglements[1]|=l,a&=~l}Ms(r),!(Re&6)&&(sh=bn()+500,ic(0))}}break;case 31:case 13:o=Qr(r,2),o!==null&&rn(o,r,2),cd(),ay(r,2)}if(r=um(s),r===null&&Vf(t,e,s,ph,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Vf(t,e,s,null,n)}}function um(t){return t=xg(t),ly(t)}var ph=null;function ly(t){if(ph=null,t=ba(t),t!==null){var e=Kl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=yx(e),t!==null)return t;t=null}else if(n===31){if(t=vx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ph=t,null}function $w(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(WM()){case Sx:return 2;case wx:return 8;case Hu:case KM:return 32;case Tx:return 268435456;default:return 32}default:return 32}}var hm=!1,Fi=null,Hi=null,qi=null,Vl=new Map,Il=new Map,Ni=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Yo(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=vo(e),e!==null&&Qw(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uk(t,e,n,s,i){switch(e){case"focusin":return Fi=Yo(Fi,t,e,n,s,i),!0;case"dragenter":return Hi=Yo(Hi,t,e,n,s,i),!0;case"mouseover":return qi=Yo(qi,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Vl.set(r,Yo(Vl.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Il.set(r,Yo(Il.get(r)||null,t,e,n,s,i)),!0}return!1}function Jw(t){var e=ba(t.target);if(e!==null){var n=Kl(e);if(n!==null){if(e=n.tag,e===13){if(e=yx(n),e!==null){t.blockedOn=e,$v(t.priority,function(){fb(n)});return}}else if(e===31){if(e=vx(n),e!==null){t.blockedOn=e,$v(t.priority,function(){fb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=um(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Mp=s,n.target.dispatchEvent(s),Mp=null}else return e=vo(n),e!==null&&Qw(e),t.blockedOn=n,!1;e.shift()}return!0}function mb(t,e,n){Nu(t)&&n.delete(e)}function hk(){hm=!1,Fi!==null&&Nu(Fi)&&(Fi=null),Hi!==null&&Nu(Hi)&&(Hi=null),qi!==null&&Nu(qi)&&(qi=null),Vl.forEach(mb),Il.forEach(mb)}function Xc(t,e){t.blockedOn===e&&(t.blockedOn=null,hm||(hm=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,hk)))}var Wc=null;function gb(t){Wc!==t&&(Wc=t,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],i=t[e+2];if(typeof s!="function"){if(ly(s||n)===null)continue;break}var r=vo(n);r!==null&&(t.splice(e,3),e-=3,Gp(r,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function io(t){function e(l){return Xc(l,t)}Fi!==null&&Xc(Fi,t),Hi!==null&&Xc(Hi,t),qi!==null&&Xc(qi,t),Vl.forEach(e),Il.forEach(e);for(var n=0;n<Ni.length;n++){var s=Ni[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)Jw(n),n.blockedOn===null&&Ni.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],r=n[s+1],a=i[on]||null;if(typeof r=="function")a||gb(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(i=r,a=r[on]||null)o=a.formAction;else if(ly(i)!==null)continue}else o=a.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),gb(n)}}}function eT(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function cy(t){this._internalRoot=t}dd.prototype.render=cy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));var n=e.current,s=Sn();Zw(n,s,t,e,null,null)};dd.prototype.unmount=cy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zw(t.current,2,null,t,null,null),cd(),e[yo]=null}};function dd(t){this._internalRoot=t}dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&Jw(t)}};var yb=mx.version;if(yb!=="19.2.4")throw Error(F(527,yb,"19.2.4"));ke.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=UM(e),t=t!==null?bx(t):null,t=t===null?null:t.stateNode,t};var dk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Zl=Kc.inject(dk),_n=Kc}catch{}}Kh.createRoot=function(t,e){if(!gx(t))throw Error(F(299));var n=!1,s="",i=GS,r=YS,a=XS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Ww(t,1,!1,null,null,n,s,null,i,r,a,eT),t[yo]=e.current,sy(t),new cy(e)};Kh.hydrateRoot=function(t,e,n){if(!gx(t))throw Error(F(299));var s=!1,i="",r=GS,a=YS,o=XS,l=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=Ww(t,1,!0,e,n??null,s,i,l,r,a,o,eT),e.context=Kw(null),n=e.current,s=Sn(),s=yg(s),i=ji(s),i.callback=null,Pi(n,i,s),n=s,e.current.lanes=n,$l(e,n),Ms(e),t[yo]=e.current,sy(t),new dd(e)};Kh.version="19.2.4";function tT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tT)}catch(t){console.error(t)}}tT(),tx.exports=Kh;var fk=tx.exports,nT={exports:{}},fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk=Symbol.for("react.transitional.element"),mk=Symbol.for("react.fragment");function sT(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:pk,type:t,key:s,ref:e!==void 0?e:null,props:n}}fd.Fragment=mk;fd.jsx=sT;fd.jsxs=sT;nT.exports=fd;var x=nT.exports;const iT=_.createContext({});function gk(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const rT=typeof window<"u",yk=rT?_.useLayoutEffect:_.useEffect,uy=_.createContext(null);function hy(t,e){t.indexOf(e)===-1&&t.push(e)}function dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ws=(t,e,n)=>n>e?e:n<t?t:n;let fy=()=>{};const si={},aT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oT(t){return typeof t=="object"&&t!==null}const lT=t=>/^0[^.\s]+$/u.test(t);function py(t){let e;return()=>(e===void 0&&(e=t()),e)}const zn=t=>t,vk=(t,e)=>n=>e(t(n)),oc=(...t)=>t.reduce(vk),Bl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class my{constructor(){this.subscriptions=[]}add(e){return hy(this.subscriptions,e),()=>dy(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vs=t=>t*1e3,Bn=t=>t/1e3;function cT(t,e){return e?t*(1e3/e):0}const uT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bk=1e-7,_k=12;function xk(t,e,n,s,i){let r,a,o=0;do a=e+(n-e)/2,r=uT(a,s,i)-t,r>0?n=a:e=a;while(Math.abs(r)>bk&&++o<_k);return a}function lc(t,e,n,s){if(t===e&&n===s)return zn;const i=r=>xk(r,0,1,t,n);return r=>r===0||r===1?r:uT(i(r),e,s)}const hT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dT=t=>e=>1-t(1-e),fT=lc(.33,1.53,.69,.99),gy=dT(fT),pT=hT(gy),mT=t=>(t*=2)<1?.5*gy(t):.5*(2-Math.pow(2,-10*(t-1))),yy=t=>1-Math.sin(Math.acos(t)),gT=dT(yy),yT=hT(yy),Sk=lc(.42,0,1,1),wk=lc(0,0,.58,1),vT=lc(.42,0,.58,1),Tk=t=>Array.isArray(t)&&typeof t[0]!="number",bT=t=>Array.isArray(t)&&typeof t[0]=="number",Ek={linear:zn,easeIn:Sk,easeInOut:vT,easeOut:wk,circIn:yy,circInOut:yT,circOut:gT,backIn:gy,backInOut:pT,backOut:fT,anticipate:mT},Ck=t=>typeof t=="string",vb=t=>{if(bT(t)){fy(t.length===4);const[e,n,s,i]=t;return lc(e,n,s,i)}else if(Ck(t))return Ek[t];return t},Zc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ak(t,e){let n=new Set,s=new Set,i=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,h=!1,d=!1)=>{const p=d&&i?n:s;return h&&a.add(u),p.has(u)||p.add(u),u},cancel:u=>{s.delete(u),a.delete(u)},process:u=>{if(o=u,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(l),n.clear(),i=!1,r&&(r=!1,c.process(u))}};return c}const Nk=40;function _T(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=Zc.reduce((b,S)=>(b[S]=Ak(r),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:f,postRender:p}=a,g=()=>{const b=si.useManualTiming?i.timestamp:performance.now();n=!1,si.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(b-i.timestamp,Nk),1)),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(g))},v=()=>{n=!0,s=!0,i.isProcessing||t(g)};return{schedule:Zc.reduce((b,S)=>{const w=a[S];return b[S]=(C,E=!1,T=!1)=>(n||v(),w.schedule(C,E,T)),b},{}),cancel:b=>{for(let S=0;S<Zc.length;S++)a[Zc[S]].cancel(b)},state:i,steps:a}}const{schedule:qe,cancel:$i,state:kt,steps:Lf}=_T(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Mu;function Mk(){Mu=void 0}const Yt={now:()=>(Mu===void 0&&Yt.set(kt.isProcessing||si.useManualTiming?kt.timestamp:performance.now()),Mu),set:t=>{Mu=t,queueMicrotask(Mk)}},xT=t=>e=>typeof e=="string"&&e.startsWith(t),ST=xT("--"),Rk=xT("var(--"),vy=t=>Rk(t)?kk.test(t.split("/*")[0].trim()):!1,kk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function bb(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const To={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ll={...To,transform:t=>ws(0,1,t)},Qc={...To,default:1},vl=t=>Math.round(t*1e5)/1e5,by=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ok(t){return t==null}const Dk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_y=(t,e)=>n=>!!(typeof n=="string"&&Dk.test(n)&&n.startsWith(t)||e&&!Ok(n)&&Object.prototype.hasOwnProperty.call(n,e)),wT=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,r,a,o]=s.match(by);return{[t]:parseFloat(i),[e]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Vk=t=>ws(0,255,t),jf={...To,transform:t=>Math.round(Vk(t))},Er={test:_y("rgb","red"),parse:wT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+jf.transform(t)+", "+jf.transform(e)+", "+jf.transform(n)+", "+vl(Ll.transform(s))+")"};function Ik(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const dm={test:_y("#"),parse:Ik,transform:Er.transform},cc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vi=cc("deg"),bs=cc("%"),$=cc("px"),Bk=cc("vh"),Lk=cc("vw"),_b={...bs,parse:t=>bs.parse(t)/100,transform:t=>bs.transform(t*100)},Ma={test:_y("hsl","hue"),parse:wT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+bs.transform(vl(e))+", "+bs.transform(vl(n))+", "+vl(Ll.transform(s))+")"},ft={test:t=>Er.test(t)||dm.test(t)||Ma.test(t),parse:t=>Er.test(t)?Er.parse(t):Ma.test(t)?Ma.parse(t):dm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Er.transform(t):Ma.transform(t),getAnimatableNone:t=>{const e=ft.parse(t);return e.alpha=0,ft.transform(e)}},jk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pk(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(by))==null?void 0:e.length)||0)+(((n=t.match(jk))==null?void 0:n.length)||0)>0}const TT="number",ET="color",zk="var",Uk="var(",xb="${}",Fk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const o=e.replace(Fk,l=>(ft.test(l)?(s.color.push(r),i.push(ET),n.push(ft.parse(l))):l.startsWith(Uk)?(s.var.push(r),i.push(zk),n.push(l)):(s.number.push(r),i.push(TT),n.push(parseFloat(l))),++r,xb)).split(xb);return{values:n,split:o,indexes:s,types:i}}function CT(t){return jl(t).values}function AT(t){const{split:e,types:n}=jl(t),s=e.length;return i=>{let r="";for(let a=0;a<s;a++)if(r+=e[a],i[a]!==void 0){const o=n[a];o===TT?r+=vl(i[a]):o===ET?r+=ft.transform(i[a]):r+=i[a]}return r}}const Hk=t=>typeof t=="number"?0:ft.test(t)?ft.getAnimatableNone(t):t;function qk(t){const e=CT(t);return AT(t)(e.map(Hk))}const Ji={test:Pk,parse:CT,createTransformer:AT,getAnimatableNone:qk};function Pf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Gk({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,r=0,a=0;if(!e)i=r=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Pf(l,o,t+1/3),r=Pf(l,o,t),a=Pf(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function mh(t,e){return n=>n>0?e:t}const nt=(t,e,n)=>t+(e-t)*n,zf=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},Yk=[dm,Er,Ma],Xk=t=>Yk.find(e=>e.test(t));function Sb(t){const e=Xk(t);if(!e)return!1;let n=e.parse(t);return e===Ma&&(n=Gk(n)),n}const wb=(t,e)=>{const n=Sb(t),s=Sb(e);if(!n||!s)return mh(t,e);const i={...n};return r=>(i.red=zf(n.red,s.red,r),i.green=zf(n.green,s.green,r),i.blue=zf(n.blue,s.blue,r),i.alpha=nt(n.alpha,s.alpha,r),Er.transform(i))},fm=new Set(["none","hidden"]);function Wk(t,e){return fm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Kk(t,e){return n=>nt(t,e,n)}function xy(t){return typeof t=="number"?Kk:typeof t=="string"?vy(t)?mh:ft.test(t)?wb:$k:Array.isArray(t)?NT:typeof t=="object"?ft.test(t)?wb:Zk:mh}function NT(t,e){const n=[...t],s=n.length,i=t.map((r,a)=>xy(r)(r,e[a]));return r=>{for(let a=0;a<s;a++)n[a]=i[a](r);return n}}function Zk(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=xy(t[i])(t[i],e[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function Qk(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],a=t.indexes[r][s[r]],o=t.values[a]??0;n[i]=o,s[r]++}return n}const $k=(t,e)=>{const n=Ji.createTransformer(e),s=jl(t),i=jl(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?fm.has(t)&&!i.values.length||fm.has(e)&&!s.values.length?Wk(t,e):oc(NT(Qk(s,i),i.values),n):mh(t,e)};function MT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):xy(t)(t,e)}const Jk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qe.update(e,n),stop:()=>$i(e),now:()=>kt.isProcessing?kt.timestamp:Yt.now()}},RT=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let r=0;r<i;r++)s+=Math.round(t(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},gh=2e4;function Sy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<gh;)e+=n,s=t.next(e);return e>=gh?1/0:e}function eO(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(Sy(s),gh);return{type:"keyframes",ease:r=>s.next(i*r).value/e,duration:Bn(i)}}const tO=5;function kT(t,e,n){const s=Math.max(e-tO,0);return cT(n-t(s),e-s)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Uf=.001;function nO({duration:t=it.duration,bounce:e=it.bounce,velocity:n=it.velocity,mass:s=it.mass}){let i,r,a=1-e;a=ws(it.minDamping,it.maxDamping,a),t=ws(it.minDuration,it.maxDuration,Bn(t)),a<1?(i=c=>{const u=c*a,h=u*t,d=u-n,f=pm(c,a),p=Math.exp(-h);return Uf-d/f*p},r=c=>{const h=c*a*t,d=h*n+n,f=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-h),g=pm(Math.pow(c,2),a);return(-i(c)+Uf>0?-1:1)*((d-f)*p)/g}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Uf+u*h},r=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const o=5/t,l=iO(i,r,o);if(t=vs(t),isNaN(l))return{stiffness:it.stiffness,damping:it.damping,duration:t};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:t}}}const sO=12;function iO(t,e,n){let s=n;for(let i=1;i<sO;i++)s=s-t(s)/e(s);return s}function pm(t,e){return t*Math.sqrt(1-e*e)}const rO=["duration","bounce"],aO=["stiffness","damping","mass"];function Tb(t,e){return e.some(n=>t[n]!==void 0)}function oO(t){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...t};if(!Tb(t,aO)&&Tb(t,rO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*ws(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:it.mass,stiffness:i,damping:r}}else{const n=nO(t);e={...e,...n,mass:it.mass},e.isResolvedFromDuration=!0}return e}function yh(t=it.visualDuration,e=it.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=oO({...n,velocity:-Bn(n.velocity||0)}),p=d||0,g=c/(2*Math.sqrt(l*u)),v=a-r,m=Bn(Math.sqrt(l/u)),y=Math.abs(v)<5;s||(s=y?it.restSpeed.granular:it.restSpeed.default),i||(i=y?it.restDelta.granular:it.restDelta.default);let b;if(g<1){const w=pm(m,g);b=C=>{const E=Math.exp(-g*m*C);return a-E*((p+g*m*v)/w*Math.sin(w*C)+v*Math.cos(w*C))}}else if(g===1)b=w=>a-Math.exp(-m*w)*(v+(p+m*v)*w);else{const w=m*Math.sqrt(g*g-1);b=C=>{const E=Math.exp(-g*m*C),T=Math.min(w*C,300);return a-E*((p+g*m*v)*Math.sinh(T)+w*v*Math.cosh(T))/w}}const S={calculatedDuration:f&&h||null,next:w=>{const C=b(w);if(f)o.done=w>=h;else{let E=w===0?p:0;g<1&&(E=w===0?vs(p):kT(b,w,C));const T=Math.abs(E)<=s,O=Math.abs(a-C)<=i;o.done=T&&O}return o.value=o.done?a:C,o},toString:()=>{const w=Math.min(Sy(S),gh),C=RT(E=>S.next(w*E).value,w,30);return w+"ms "+C},toTransition:()=>{}};return S}yh.applyToOptions=t=>{const e=eO(t,100,yh);return t.ease=e.ease,t.duration=vs(e.duration),t.type="keyframes",t};function mm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],d={done:!1,value:h},f=T=>o!==void 0&&T<o||l!==void 0&&T>l,p=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let g=n*e;const v=h+g,m=a===void 0?v:a(v);m!==v&&(g=m-h);const y=T=>-g*Math.exp(-T/s),b=T=>m+y(T),S=T=>{const O=y(T),A=b(T);d.done=Math.abs(O)<=c,d.value=d.done?m:A};let w,C;const E=T=>{f(d.value)&&(w=T,C=yh({keyframes:[d.value,p(d.value)],velocity:kT(b,T,d.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:T=>{let O=!1;return!C&&w===void 0&&(O=!0,S(T),E(T)),w!==void 0&&T>=w?C.next(T-w):(!O&&S(T),d)}}}function lO(t,e,n){const s=[],i=n||si.mix||MT,r=t.length-1;for(let a=0;a<r;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||zn:e;o=oc(l,o)}s.push(o)}return s}function cO(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const r=t.length;if(fy(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lO(e,s,i),l=o.length,c=u=>{if(a&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=Bl(t[h],t[h+1],u);return o[h](d)};return n?u=>c(ws(t[0],t[r-1],u)):c}function uO(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=Bl(0,e,s);t.push(nt(n,1,i))}}function hO(t){const e=[0];return uO(e,t.length-1),e}function dO(t,e){return t.map(n=>n*e)}function fO(t,e){return t.map(()=>e||vT).splice(0,t.length-1)}function bl({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=Tk(s)?s.map(vb):vb(s),r={done:!1,value:e[0]},a=dO(n&&n.length===e.length?n:hO(e),t),o=cO(a,e,{ease:Array.isArray(i)?i:fO(e,i)});return{calculatedDuration:t,next:l=>(r.value=o(l),r.done=l>=t,r)}}const pO=t=>t!==null;function wy(t,{repeat:e,repeatType:n="loop"},s,i=1){const r=t.filter(pO),o=i<0||e&&n!=="loop"&&e%2===1?0:r.length-1;return!o||s===void 0?r[o]:s}const mO={decay:mm,inertia:mm,tween:bl,keyframes:bl,spring:yh};function OT(t){typeof t.type=="string"&&(t.type=mO[t.type])}class Ty{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gO=t=>t/100;class Ey extends Ty{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Yt.now()&&this.tick(Yt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OT(e);const{type:n=bl,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=e;let{keyframes:o}=e;const l=n||bl;l!==bl&&typeof o[0]!="number"&&(this.mixKeyframes=oc(gO,MT(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});r==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Sy(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:d,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const m=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?m<0:m>i;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,S=s;if(h){const T=Math.min(this.currentTime,i)/o;let O=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(d==="reverse"?(A=1-A,f&&(A-=f/o)):d==="mirror"&&(S=a)),b=ws(0,1,A)*o}const w=y?{done:!1,value:u[0]}:S.next(b);r&&(w.value=r(w.value));let{done:C}=w;!y&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&p!==mm&&(w.value=wy(u,this.options,v,this.speed)),g&&g(w.value),E&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return Bn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bn(e)}get time(){return Bn(this.currentTime)}set time(e){var n;e=vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bn(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:e=Jk,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function yO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Cr=t=>t*180/Math.PI,gm=t=>{const e=Cr(Math.atan2(t[1],t[0]));return ym(e)},vO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gm,rotateZ:gm,skewX:t=>Cr(Math.atan(t[1])),skewY:t=>Cr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ym=t=>(t=t%360,t<0&&(t+=360),t),Eb=gm,Cb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ab=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cb,scaleY:Ab,scale:t=>(Cb(t)+Ab(t))/2,rotateX:t=>ym(Cr(Math.atan2(t[6],t[5]))),rotateY:t=>ym(Cr(Math.atan2(-t[2],t[0]))),rotateZ:Eb,rotate:Eb,skewX:t=>Cr(Math.atan(t[4])),skewY:t=>Cr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vm(t){return t.includes("scale")?1:0}function bm(t,e){if(!t||t==="none")return vm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=bO,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=vO,i=o}if(!i)return vm(e);const r=s[e],a=i[1].split(",").map(xO);return typeof r=="function"?r(a):a[r]}const _O=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return bm(n,e)};function xO(t){return parseFloat(t.trim())}const Eo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Co=new Set(Eo),Nb=t=>t===To||t===$,SO=new Set(["x","y","z"]),wO=Eo.filter(t=>!SO.has(t));function TO(t){const e=[];return wO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ii={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>bm(e,"x"),y:(t,{transform:e})=>bm(e,"y")};Ii.translateX=Ii.x;Ii.translateY=Ii.y;const Ir=new Set;let _m=!1,xm=!1,Sm=!1;function DT(){if(xm){const t=Array.from(Ir).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=TO(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,a])=>{var o;(o=s.getValue(r))==null||o.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}xm=!1,_m=!1,Ir.forEach(t=>t.complete(Sm)),Ir.clear()}function VT(){Ir.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xm=!0)})}function EO(){Sm=!0,VT(),DT(),Sm=!1}class Cy{constructor(e,n,s,i,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ir.add(this),_m||(_m=!0,qe.read(VT),qe.resolveKeyframes(DT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const r=i==null?void 0:i.get(),a=e[e.length-1];if(r!==void 0)e[0]=r;else if(s&&n){const o=s.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&r===void 0&&i.set(e[0])}yO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ir.delete(this)}cancel(){this.state==="scheduled"&&(Ir.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CO=t=>t.startsWith("--");function AO(t,e,n){CO(e)?t.style.setProperty(e,n):t.style[e]=n}const NO=py(()=>window.ScrollTimeline!==void 0),MO={};function RO(t,e){const n=py(t);return()=>MO[e]??n()}const IT=RO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Mb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tl([0,.65,.55,1]),circOut:tl([.55,0,1,.45]),backIn:tl([.31,.01,.66,-.59]),backOut:tl([.33,1.53,.69,.99])};function BT(t,e){if(t)return typeof t=="function"?IT()?RT(t,e):"ease-out":bT(t)?tl(t):Array.isArray(t)?t.map(n=>BT(n,e)||Mb.easeOut):Mb[t]}function kO(t,e,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const h=BT(o,i);Array.isArray(h)&&(u.easing=h);const d={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(u,d)}function LT(t){return typeof t=="function"&&"applyToOptions"in t}function OO({type:t,...e}){return LT(t)&&IT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class DO extends Ty{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,fy(typeof e.type!="string");const c=OO(e);this.animation=kO(n,s,i,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=wy(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):AO(n,s,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,i;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(s=this.animation).commitStyles)==null||i.call(s))}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Bn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bn(e)}get time(){return Bn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&NO()?(this.animation.timeline=e,zn):n(this)}}const jT={anticipate:mT,backInOut:pT,circInOut:yT};function VO(t){return t in jT}function IO(t){typeof t.ease=="string"&&VO(t.ease)&&(t.ease=jT[t.ease])}const Ff=10;class BO extends DO{constructor(e){IO(e),OT(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Ey({...a,autoplay:!1}),l=Math.max(Ff,Yt.now()-this.startTime),c=ws(0,Ff,l-Ff);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const Rb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ji.test(t)||t==="0")&&!t.startsWith("url("));function LO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jO(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],a=Rb(i,e),o=Rb(r,e);return!a||!o?!1:LO(t)||(n==="spring"||LT(n))&&s}function wm(t){t.duration=0,t.type="keyframes"}const PO=new Set(["opacity","clipPath","filter","transform"]),zO=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UO(t){var u;const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:r,type:a}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return zO()&&n&&PO.has(n)&&(n!=="transform"||!c)&&!l&&!s&&i!=="mirror"&&r!==0&&a!=="inertia"}const FO=40;class HO extends Ty{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...h}){var p;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Yt.now();const d={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:a,name:l,motionValue:c,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||Cy;this.keyframeResolver=new f(o,(g,v,m)=>this.onKeyframesResolved(g,v,d,!m),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,s,i){var v,m;this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=s;this.resolvedAt=Yt.now(),jO(e,r,a,o)||((si.instantAnimations||!l)&&(u==null||u(wy(e,s,n))),e[0]=e[e.length-1],wm(s),s.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>FO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},f=!c&&UO(d),p=(m=(v=d.motionValue)==null?void 0:v.owner)==null?void 0:m.current,g=f?new BO({...d,element:p}):new Ey(d);g.finished.then(()=>{this.notifyFinished()}).catch(zn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),EO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function PT(t,e,n,s=0,i=1){const r=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=t.size,o=(a-1)*s;return typeof n=="function"?n(r,a):i===1?r*s:o-r*s}const qO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GO(t){const e=qO.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function zT(t,e,n=1){const[s,i]=GO(t);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const a=r.trim();return aT(a)?parseFloat(a):a}return vy(i)?zT(i,e,n+1):i}const YO={type:"spring",stiffness:500,damping:25,restSpeed:10},XO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WO={type:"keyframes",duration:.8},KO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZO=(t,{keyframes:e})=>e.length>2?WO:Co.has(t)?t.startsWith("scale")?XO(e[1]):YO:KO,QO=t=>t!==null;function $O(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(QO),r=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[r]}function UT(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function Ay(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?UT(n,t):n}function JO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Ny=(t,e,n,s={},i,r)=>a=>{const o=Ay(s,t)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c=c-vs(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:r?void 0:i};JO(o)||Object.assign(u,ZO(t,u)),u.duration&&(u.duration=vs(u.duration)),u.repeatDelay&&(u.repeatDelay=vs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(wm(u),u.delay===0&&(h=!0)),(si.instantAnimations||si.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(h=!0,wm(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!r&&e.get()!==void 0){const d=$O(u.keyframes,o);if(d!==void 0){qe.update(()=>{u.onUpdate(d),u.onComplete()});return}}return o.isSync?new Ey(u):new HO(u)};function kb(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function My(t,e,n,s){if(typeof e=="function"){const[i,r]=kb(s);e=e(n!==void 0?n:t.custom,i,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,r]=kb(s);e=e(n!==void 0?n:t.custom,i,r)}return e}function qa(t,e,n){const s=t.getProps();return My(s,e,n!==void 0?n:s.custom,t)}const FT=new Set(["width","height","top","left","right","bottom",...Eo]),Ob=30,eD=t=>!isNaN(parseFloat(t));class tD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var r;const i=Yt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new my);const s=this.events[e].add(n);return e==="change"?()=>{s(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ob)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ob);return cT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ro(t,e){return new tD(t,e)}const Tm=t=>Array.isArray(t);function nD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ro(n))}function sD(t){return Tm(t)?t[t.length-1]||0:t}function iD(t,e){const n=qa(t,e);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const a in r){const o=sD(r[a]);nD(t,a,o)}}const zt=t=>!!(t&&t.getVelocity);function rD(t){return!!(zt(t)&&t.add)}function Em(t,e){const n=t.getValue("willChange");if(rD(n))return n.add(e);if(!n&&si.WillChange){const s=new si.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Ry(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const aD="framerAppearId",HT="data-"+Ry(aD);function qT(t){return t.props[HT]}function oD({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function GT(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r,transitionEnd:a,...o}=e;const l=t.getDefaultTransition();r=r?UT(r,l):l;const c=r==null?void 0:r.reduceMotion;s&&(r=s);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const f=t.getValue(d,t.latestValues[d]??null),p=o[d];if(p===void 0||h&&oD(h,d))continue;const g={delay:n,...Ay(r||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const S=qT(t);if(S){const w=window.MotionHandoffAnimation(S,d,qe);w!==null&&(g.startTime=w,m=!0)}}Em(t,d);const y=c??t.shouldReduceMotion;f.start(Ny(d,f,p,y&&FT.has(d)?{type:!1}:g,t,m));const b=f.animation;b&&u.push(b)}if(a){const d=()=>qe.update(()=>{a&&iD(t,a)});u.length?Promise.all(u).then(d):d()}return u}function Cm(t,e,n={}){var l;const s=qa(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(GT(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=i;return lD(t,e,c,u,h,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>u())}else return Promise.all([r(),a(n.delay)])}function lD(t,e,n=0,s=0,i=0,r=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Cm(l,e,{...a,delay:n+(typeof s=="function"?0:s)+PT(t.variantChildren,l,s,i,r)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function cD(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>Cm(t,r,n));s=Promise.all(i)}else if(typeof e=="string")s=Cm(t,e,n);else{const i=typeof e=="function"?qa(t,e,n.custom):e;s=Promise.all(GT(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const uD={test:t=>t==="auto",parse:t=>t},YT=t=>e=>e.test(t),XT=[To,$,bs,vi,Lk,Bk,uD],Db=t=>XT.find(YT(t));function hD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lT(t):!0}const dD=new Set(["brightness","contrast","saturate","opacity"]);function fD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(by)||[];if(!s)return t;const i=n.replace(s,"");let r=dD.has(e)?1:0;return s!==n&&(r*=100),e+"("+r+i+")"}const pD=/\b([a-z-]*)\(.*?\)/gu,Am={...Ji,getAnimatableNone:t=>{const e=t.match(pD);return e?e.map(fD).join(" "):t}},Vb={...To,transform:Math.round},mD={rotate:vi,rotateX:vi,rotateY:vi,rotateZ:vi,scale:Qc,scaleX:Qc,scaleY:Qc,scaleZ:Qc,skew:vi,skewX:vi,skewY:vi,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Ll,originX:_b,originY:_b,originZ:$},ky={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,inset:$,insetBlock:$,insetBlockStart:$,insetBlockEnd:$,insetInline:$,insetInlineStart:$,insetInlineEnd:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockStart:$,paddingBlockEnd:$,paddingInline:$,paddingInlineStart:$,paddingInlineEnd:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockStart:$,marginBlockEnd:$,marginInline:$,marginInlineStart:$,marginInlineEnd:$,fontSize:$,backgroundPositionX:$,backgroundPositionY:$,...mD,zIndex:Vb,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:Vb},gD={...ky,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:Am,WebkitFilter:Am},WT=t=>gD[t];function KT(t,e){let n=WT(t);return n!==Am&&(n=Ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yD=new Set(["auto","none","0"]);function vD(t,e,n){let s=0,i;for(;s<t.length&&!i;){const r=t[s];typeof r=="string"&&!yD.has(r)&&jl(r).values.length&&(i=t[s]),s++}if(i&&n)for(const r of e)t[r]=KT(n,i)}class bD extends Cy{constructor(e,n,s,i,r){super(e,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),vy(h))){const d=zT(h,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!FT.has(s)||e.length!==2)return;const[i,r]=e,a=Db(i),o=Db(r),l=bb(i),c=bb(r);if(l!==c&&Ii[s]){this.needsMeasurement=!0;return}if(a!==o)if(Nb(a)&&Nb(o))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else Ii[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||hD(e[i]))&&s.push(i);s.length&&vD(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ii[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,a=s[r];s[r]=Ii[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ZT(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=(n==null?void 0:n[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(s=>s!=null)}const QT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function _D(t){return oT(t)&&"offsetHeight"in t}const{schedule:Oy}=_T(queueMicrotask,!1),Xn={x:!1,y:!1};function $T(){return Xn.x||Xn.y}function xD(t){return t==="x"||t==="y"?Xn[t]?null:(Xn[t]=!0,()=>{Xn[t]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function JT(t,e){const n=ZT(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function SD(t){return!(t.pointerType==="touch"||$T())}function wD(t,e,n={}){const[s,i,r]=JT(t,n);return s.forEach(a=>{let o=!1,l=!1,c;const u=()=>{a.removeEventListener("pointerleave",p)},h=v=>{c&&(c(v),c=void 0),u()},d=v=>{o=!1,window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d),l&&(l=!1,h(v))},f=()=>{o=!0,window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",d,i)},p=v=>{if(v.pointerType!=="touch"){if(o){l=!0;return}h(v)}},g=v=>{if(!SD(v))return;l=!1;const m=e(a,v);typeof m=="function"&&(c=m,a.addEventListener("pointerleave",p,i))};a.addEventListener("pointerenter",g,i),a.addEventListener("pointerdown",f,i)}),r}const eE=(t,e)=>e?t===e?!0:eE(t,e.parentElement):!1,Dy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ED(t){return TD.has(t.tagName)||t.isContentEditable===!0}const CD=new Set(["INPUT","SELECT","TEXTAREA"]);function AD(t){return CD.has(t.tagName)||t.isContentEditable===!0}const Ru=new WeakSet;function Ib(t){return e=>{e.key==="Enter"&&t(e)}}function Hf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ND=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Ib(()=>{if(Ru.has(n))return;Hf(n,"down");const i=Ib(()=>{Hf(n,"up")}),r=()=>Hf(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Bb(t){return Dy(t)&&!$T()}const Lb=new WeakSet;function MD(t,e,n={}){const[s,i,r]=JT(t,n),a=o=>{const l=o.currentTarget;if(!Bb(o)||Lb.has(o))return;Ru.add(l),n.stopPropagation&&Lb.add(o);const c=e(l,o),u=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),Ru.has(l)&&Ru.delete(l),Bb(f)&&typeof c=="function"&&c(f,{success:p})},h=f=>{u(f,l===window||l===document||n.useGlobalTarget||eE(l,f.target))},d=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",d,i)};return s.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),_D(o)&&(o.addEventListener("focus",c=>ND(c,i)),!ED(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function Vy(t){return oT(t)&&"ownerSVGElement"in t}const ku=new WeakMap;let bi;const tE=(t,e,n)=>(s,i)=>i&&i[0]?i[0][t+"Size"]:Vy(s)&&"getBBox"in s?s.getBBox()[e]:s[n],RD=tE("inline","width","offsetWidth"),kD=tE("block","height","offsetHeight");function OD({target:t,borderBoxSize:e}){var n;(n=ku.get(t))==null||n.forEach(s=>{s(t,{get width(){return RD(t,e)},get height(){return kD(t,e)}})})}function DD(t){t.forEach(OD)}function VD(){typeof ResizeObserver>"u"||(bi=new ResizeObserver(DD))}function ID(t,e){bi||VD();const n=ZT(t);return n.forEach(s=>{let i=ku.get(s);i||(i=new Set,ku.set(s,i)),i.add(e),bi==null||bi.observe(s)}),()=>{n.forEach(s=>{const i=ku.get(s);i==null||i.delete(e),i!=null&&i.size||bi==null||bi.unobserve(s)})}}const Ou=new Set;let Ra;function BD(){Ra=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ou.forEach(e=>e(t))},window.addEventListener("resize",Ra)}function LD(t){return Ou.add(t),Ra||BD(),()=>{Ou.delete(t),!Ou.size&&typeof Ra=="function"&&(window.removeEventListener("resize",Ra),Ra=void 0)}}function jb(t,e){return typeof t=="function"?LD(t):ID(t,e)}function jD(t){return Vy(t)&&t.tagName==="svg"}const PD=[...XT,ft,Ji],zD=t=>PD.find(YT(t)),Pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:Pb(),y:Pb()}),zb=()=>({min:0,max:0}),bt=()=>({x:zb(),y:zb()}),Nm={current:null},nE={current:!1},UD=typeof window<"u";function FD(){if(nE.current=!0,!!UD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nm.current=t.matches;t.addEventListener("change",e),e()}else Nm.current=!1}const HD=new WeakMap;function pd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pl(t){return typeof t=="string"||Array.isArray(t)}const Iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],By=["initial",...Iy];function md(t){return pd(t.animate)||By.some(e=>Pl(t[e]))}function sE(t){return!!(md(t)||t.variants)}function qD(t,e,n){for(const s in e){const i=e[s],r=n[s];if(zt(i))t.addValue(s,i);else if(zt(r))t.addValue(s,ro(i,{owner:t}));else if(r!==i)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,ro(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Ub=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let vh={};function iE(t){vh=t}function GD(){return vh}class YD{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,skipAnimations:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Yt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,qe.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=md(n),this.isVariantNode=sE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];c[f]!==void 0&&zt(p)&&p.set(c[f])}}mount(e){var n,s;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,HD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(nE.current||FD(),this.shouldReduceMotion=Nm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Co.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&qe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;typeof window<"u"&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vh){const n=vh[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ub.length;s++){const i=Ub[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=e[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=qD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ro(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(aT(s)||lT(s))?s=parseFloat(s):!zD(s)&&Ji.test(n)&&(s=KT(e,n)),this.setBaseTarget(e,zt(s)?s.get():s)),zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=My(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new my),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Oy.render(this.render)}}class rE extends YD{constructor(){super(...arguments),this.KeyframeResolver=bD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class cr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function aE({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function XD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function qf(t){return t===void 0||t===1}function Mm({scale:t,scaleX:e,scaleY:n}){return!qf(t)||!qf(e)||!qf(n)}function Tr(t){return Mm(t)||oE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oE(t){return Fb(t.x)||Fb(t.y)}function Fb(t){return t&&t!=="0%"}function bh(t,e,n){const s=t-n,i=e*s;return n+i}function Hb(t,e,n,s,i){return i!==void 0&&(t=bh(t,i,s)),bh(t,n,s)+e}function Rm(t,e=0,n=1,s,i){t.min=Hb(t.min,e,n,s,i),t.max=Hb(t.max,e,n,s,i)}function lE(t,{x:e,y:n}){Rm(t.x,e.translate,e.scale,e.originPoint),Rm(t.y,n.translate,n.scale,n.originPoint)}const qb=.999999999999,Gb=1.0000000000001;function KD(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let r,a;for(let o=0;o<i;o++){r=n[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Da(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,lE(t,a)),s&&Tr(r.latestValues)&&Da(t,r.latestValues))}e.x<Gb&&e.x>qb&&(e.x=1),e.y<Gb&&e.y>qb&&(e.y=1)}function Oa(t,e){t.min=t.min+e,t.max=t.max+e}function Yb(t,e,n,s,i=.5){const r=nt(t.min,t.max,i);Rm(t,e,n,r,s)}function Da(t,e){Yb(t.x,e.x,e.scaleX,e.scale,e.originX),Yb(t.y,e.y,e.scaleY,e.scale,e.originY)}function cE(t,e){return aE(WD(t.getBoundingClientRect(),e))}function ZD(t,e,n){const s=cE(t,n),{scroll:i}=e;return i&&(Oa(s.x,i.offset.x),Oa(s.y,i.offset.y)),s}const QD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$D=Eo.length;function JD(t,e,n){let s="",i=!0;for(let r=0;r<$D;r++){const a=Eo[r],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const c=parseFloat(o);l=a.startsWith("scale")?c===1:c===0}if(!l||n){const c=QT(o,ky[a]);if(!l){i=!1;const u=QD[a]||a;s+=`${u}(${c}) `}n&&(e[a]=c)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function Ly(t,e,n){const{style:s,vars:i,transformOrigin:r}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Co.has(l)){a=!0;continue}else if(ST(l)){i[l]=c;continue}else{const u=QT(c,ky[l]);l.startsWith("origin")?(o=!0,r[l]=u):s[l]=u}}if(e.transform||(a||n?s.transform=JD(e,t.transform,n):s.transform&&(s.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;s.transformOrigin=`${l} ${c} ${u}`}}function uE(t,{style:e,vars:n},s,i){const r=t.style;let a;for(a in e)r[a]=e[a];i==null||i.applyProjectionStyles(r,s);for(a in n)r.setProperty(a,n[a])}function Xb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($.test(t))t=parseFloat(t);else return t;const n=Xb(t,e.target.x),s=Xb(t,e.target.y);return`${n}% ${s}%`}},e5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Ji.parse(t);if(i.length>5)return s;const r=Ji.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=nt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),r(i)}},km={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:e5};function hE(t,{layout:e,layoutId:n}){return Co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!km[t]||t==="opacity")}function jy(t,e,n){var a;const s=t.style,i=e==null?void 0:e.style,r={};if(!s)return r;for(const o in s)(zt(s[o])||i&&zt(i[o])||hE(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(r[o]=s[o]);return r}function t5(t){return window.getComputedStyle(t)}class n5 extends rE{constructor(){super(...arguments),this.type="html",this.renderInstance=uE}readValueFromInstance(e,n){var s;if(Co.has(n))return(s=this.projection)!=null&&s.isProjecting?vm(n):_O(e,n);{const i=t5(e),r=(ST(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cE(e,n)}build(e,n,s){Ly(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return jy(e,n,s)}}const s5={offset:"stroke-dashoffset",array:"stroke-dasharray"},i5={offset:"strokeDashoffset",array:"strokeDasharray"};function r5(t,e,n=1,s=0,i=!0){t.pathLength=1;const r=i?s5:i5;t[r.offset]=`${-s}`,t[r.array]=`${e} ${n}`}const a5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function dE(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:a=0,...o},l,c,u){if(Ly(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox);for(const f of a5)h[f]!==void 0&&(d[f]=h[f],delete h[f]);e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&r5(h,i,r,a,!1)}const fE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),pE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o5(t,e,n,s){uE(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(fE.has(i)?i:Ry(i),e.attrs[i])}function mE(t,e,n){const s=jy(t,e,n);for(const i in t)if(zt(t[i])||zt(e[i])){const r=Eo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=t[i]}return s}class l5 extends rE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Co.has(n)){const s=WT(n);return s&&s.default||0}return n=fE.has(n)?n:Ry(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return mE(e,n,s)}build(e,n,s){dE(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){o5(e,n,s,i)}mount(e){this.isSVGTag=pE(e.tagName),super.mount(e)}}const c5=By.length;function gE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c5;n++){const s=By[n],i=t.props[s];(Pl(i)||i===!1)&&(e[s]=i)}return e}function yE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const u5=[...Iy].reverse(),h5=Iy.length;function d5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>cD(t,n,s)))}function f5(t){let e=d5(t),n=Wb(),s=!0;const i=l=>(c,u)=>{var d;const h=qa(t,u,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:p,...g}=h;c={...c,...g,...p}}return c};function r(l){e=l(t)}function a(l){const{props:c}=t,u=gE(t.parent)||{},h=[],d=new Set;let f={},p=1/0;for(let v=0;v<h5;v++){const m=u5[v],y=n[m],b=c[m]!==void 0?c[m]:u[m],S=Pl(b),w=m===l?y.isActive:null;w===!1&&(p=v);let C=b===u[m]&&b!==c[m]&&S;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...f},!y.isActive&&w===null||!b&&!y.prevProp||pd(b)||typeof b=="boolean")continue;const E=p5(y.prevProp,b);let T=E||m===l&&y.isActive&&!C&&S||v>p&&S,O=!1;const A=Array.isArray(b)?b:[b];let N=A.reduce(i(m),{});w===!1&&(N={});const{prevResolvedValues:D={}}=y,I={...D,...N},V=k=>{T=!0,d.has(k)&&(O=!0,d.delete(k)),y.needsAnimating[k]=!0;const M=t.getValue(k);M&&(M.liveStyle=!1)};for(const k in I){const M=N[k],B=D[k];if(f.hasOwnProperty(k))continue;let z=!1;Tm(M)&&Tm(B)?z=!yE(M,B):z=M!==B,z?M!=null?V(k):d.add(k):M!==void 0&&d.has(k)?V(k):y.protectedKeys[k]=!0}y.prevProp=b,y.prevResolvedValues=N,y.isActive&&(f={...f,...N}),s&&t.blockInitialAnimation&&(T=!1);const L=C&&E;T&&(!L||O)&&h.push(...A.map(k=>{const M={type:m};if(typeof k=="string"&&s&&!L&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,z=qa(B,k);if(B.enteringChildren&&z){const{delayChildren:X}=z.transition||{};M.delay=PT(B.enteringChildren,t,X)}}return{animation:k,options:M}}))}if(d.size){const v={};if(typeof c.initial!="boolean"){const m=qa(t,Array.isArray(c.initial)?c.initial[0]:c.initial);m&&m.transition&&(v.transition=m.transition)}d.forEach(m=>{const y=t.getBaseTarget(m),b=t.getValue(m);b&&(b.liveStyle=!0),v[m]=y??null}),h.push({animation:v})}let g=!!h.length;return s&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?e(h):Promise.resolve()}function o(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(d=>{var f;return(f=d.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const u=a(l);for(const d in n)n[d].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Wb()}}}function p5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yE(e,t):!1}function yr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wb(){return{animate:yr(!0),whileInView:yr(),whileHover:yr(),whileTap:yr(),whileDrag:yr(),whileFocus:yr(),exit:yr()}}function Kb(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){Kb(t.x,e.x),Kb(t.y,e.y)}function Zb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const vE=1e-4,m5=1-vE,g5=1+vE,bE=.01,y5=0-bE,v5=0+bE;function Xt(t){return t.max-t.min}function b5(t,e,n){return Math.abs(t-e)<=n}function Qb(t,e,n,s=.5){t.origin=s,t.originPoint=nt(e.min,e.max,t.origin),t.scale=Xt(n)/Xt(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=m5&&t.scale<=g5||isNaN(t.scale))&&(t.scale=1),(t.translate>=y5&&t.translate<=v5||isNaN(t.translate))&&(t.translate=0)}function _l(t,e,n,s){Qb(t.x,e.x,n.x,s?s.originX:void 0),Qb(t.y,e.y,n.y,s?s.originY:void 0)}function $b(t,e,n){t.min=n.min+e.min,t.max=t.min+Xt(e)}function _5(t,e,n){$b(t.x,e.x,n.x),$b(t.y,e.y,n.y)}function Jb(t,e,n){t.min=e.min-n.min,t.max=t.min+Xt(e)}function _h(t,e,n){Jb(t.x,e.x,n.x),Jb(t.y,e.y,n.y)}function e_(t,e,n,s,i){return t-=e,t=bh(t,1/n,s),i!==void 0&&(t=bh(t,1/i,s)),t}function x5(t,e=0,n=1,s=.5,i,r=t,a=t){if(bs.test(e)&&(e=parseFloat(e),e=nt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=nt(r.min,r.max,s);t===r&&(o-=e),t.min=e_(t.min,e,n,o,i),t.max=e_(t.max,e,n,o,i)}function t_(t,e,[n,s,i],r,a){x5(t,e[n],e[s],e[i],e.scale,r,a)}const S5=["x","scaleX","originX"],w5=["y","scaleY","originY"];function n_(t,e,n,s){t_(t.x,e,S5,n?n.x:void 0,s?s.x:void 0),t_(t.y,e,w5,n?n.y:void 0,s?s.y:void 0)}function s_(t){return t.translate===0&&t.scale===1}function _E(t){return s_(t.x)&&s_(t.y)}function i_(t,e){return t.min===e.min&&t.max===e.max}function T5(t,e){return i_(t.x,e.x)&&i_(t.y,e.y)}function r_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xE(t,e){return r_(t.x,e.x)&&r_(t.y,e.y)}function a_(t){return Xt(t.x)/Xt(t.y)}function o_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function hs(t){return[t("x"),t("y")]}function E5(t,e,n){let s="";const i=t.x.translate/e.x,r=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||r||a)&&(s=`translate3d(${i}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:d,skewX:f,skewY:p}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),d&&(s+=`rotateY(${d}deg) `),f&&(s+=`skewX(${f}deg) `),p&&(s+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const SE=["TopLeft","TopRight","BottomLeft","BottomRight"],C5=SE.length,l_=t=>typeof t=="string"?parseFloat(t):t,c_=t=>typeof t=="number"||$.test(t);function A5(t,e,n,s,i,r){i?(t.opacity=nt(0,n.opacity??1,N5(s)),t.opacityExit=nt(e.opacity??1,0,M5(s))):r&&(t.opacity=nt(e.opacity??1,n.opacity??1,s));for(let a=0;a<C5;a++){const o=`border${SE[a]}Radius`;let l=u_(e,o),c=u_(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||c_(l)===c_(c)?(t[o]=Math.max(nt(l_(l),l_(c),s),0),(bs.test(c)||bs.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,s))}function u_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N5=wE(0,.5,gT),M5=wE(.5,.95,zn);function wE(t,e,n){return s=>s<t?0:s>e?1:n(Bl(t,e,s))}function R5(t,e,n){const s=zt(t)?t:ro(t);return s.start(Ny("",s,e,n)),s.animation}function zl(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const k5=(t,e)=>t.depth-e.depth;class O5{constructor(){this.children=[],this.isDirty=!1}add(e){hy(this.children,e),this.isDirty=!0}remove(e){dy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k5),this.isDirty=!1,this.children.forEach(e)}}function D5(t,e){const n=Yt.now(),s=({timestamp:i})=>{const r=i-n;r>=e&&($i(s),t(r-e))};return qe.setup(s,!0),()=>$i(s)}function Du(t){return zt(t)?t.get():t}class V5{constructor(){this.members=[]}add(e){hy(this.members,e),e.scheduleRender()}remove(e){if(dy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const i=s.options.layoutDependency,r=e.options.layoutDependency;i!==void 0&&r!==void 0&&i===r||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Gf=["","X","Y","Z"],I5=1e3;let B5=0;function Yf(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function TE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(i||r))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&TE(s)}function EE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=B5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P5),this.nodes.forEach(H5),this.nodes.forEach(q5),this.nodes.forEach(z5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new O5)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new my),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Vy(a)&&!jD(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let u,h=0;const d=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{h=window.innerWidth}),t(a,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=D5(d,250),Vu.hasAnimatedSinceResize&&(Vu.hasAnimatedSinceResize=!1,this.nodes.forEach(f_)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||K5,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),m=!this.targetLayout||!xE(this.targetLayout,f),y=!h&&d;if(this.options.layoutRoot||this.resumeFrom||y||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Ay(p,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,y)}else h||f_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G5),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(d_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(F5),this.nodes.forEach(L5),this.nodes.forEach(j5)):this.nodes.forEach(d_),this.clearAllSnapshots();const o=Yt.now();kt.delta=ws(0,1e3/60,o-kt.timestamp),kt.timestamp=o,kt.isProcessing=!0,Lf.update.process(kt),Lf.preRender.process(kt),Lf.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Oy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U5),this.sharedNodes.forEach(Y5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xt(this.snapshot.measuredBox.x)&&!Xt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!_E(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Tr(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Z5(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return bt();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Q5))){const{scroll:u}=this.root;u&&(Oa(o.x,u.offset.x),Oa(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=bt();if(Gn(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:d}=u;u!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&Gn(o,a),Oa(o.x,h.offset.x),Oa(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=bt();Gn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Da(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Tr(u.latestValues)&&Da(l,u.latestValues)}return Tr(this.latestValues)&&Da(l,this.latestValues),l}removeTransform(a){const o=bt();Gn(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Tr(c.latestValues))continue;Mm(c.latestValues)&&c.updateSnapshot();const u=bt(),h=c.measurePageBox();Gn(u,h),n_(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Tr(this.latestValues)&&n_(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!this.layout||!(u||h))return;this.resolvedRelativeTargetAt=kt.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),lE(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Mm(this.parent.latestValues)||oE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),_h(this.relativeTargetOrigin,o,l),Gn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Gn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;KD(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bt());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zb(this.prevProjectionDelta.x,this.projectionDelta.x),Zb(this.prevProjectionDelta.y,this.projectionDelta.y)),_l(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!o_(this.projectionDelta.x,this.prevProjectionDelta.x)||!o_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=bt(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,v=this.getStack(),m=!v||v.members.length<=1,y=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(W5));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const w=S/1e3;p_(h.x,a.x,w),p_(h.y,a.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_h(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X5(this.relativeTarget,this.relativeTargetOrigin,d,w),b&&T5(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=bt()),Gn(b,this.relativeTarget)),g&&(this.animationValues=u,A5(u,c,this.latestValues,w,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Vu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ro(0)),this.currentAnimation=R5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&CE(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||bt();const h=Xt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const d=Xt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}Gn(o,l),Da(o,u),_l(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new V5),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Yf("z",a,c,this.animationValues);for(let u=0;u<Gf.length;u++)Yf(`rotate${Gf[u]}`,a,c,this.animationValues),Yf(`skew${Gf[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Du(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Du(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Tr(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=E5(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),a.transform=h;const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in km){if(u[p]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:m}=km[p],y=h==="none"?u[p]:g(u[p],c);if(v){const b=v.length;for(let S=0;S<b;S++)a[v[S]]=y}else m?this.options.visualElement.renderState.vars[p]=y:a[p]=y}this.options.layoutId&&(a.pointerEvents=c===this?Du(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(h_),this.root.sharedNodes.clear()}}}function L5(t){t.updateLayout()}function j5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:r}=t.options,a=e.source!==t.layout.source;r==="size"?hs(h=>{const d=a?e.measuredBox[h]:e.layoutBox[h],f=Xt(d);d.min=s[h].min,d.max=d.min+f}):CE(r,e.layoutBox,s)&&hs(h=>{const d=a?e.measuredBox[h]:e.layoutBox[h],f=Xt(s[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const o=ka();_l(o,s,e.layoutBox);const l=ka();a?_l(l,t.applyTransform(i,!0),e.measuredBox):_l(l,s,e.layoutBox);const c=!_E(o);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const p=bt();_h(p,e.layoutBox,d.layoutBox);const g=bt();_h(g,s,f.layoutBox),xE(p,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function P5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function z5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function U5(t){t.clearSnapshot()}function h_(t){t.clearMeasurements()}function d_(t){t.isLayoutDirty=!1}function F5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function f_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H5(t){t.resolveTargetDelta()}function q5(t){t.calcProjection()}function G5(t){t.resetSkewAndRotation()}function Y5(t){t.removeLeadSnapshot()}function p_(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function m_(t,e,n,s){t.min=nt(e.min,n.min,s),t.max=nt(e.max,n.max,s)}function X5(t,e,n,s){m_(t.x,e.x,n.x,s),m_(t.y,e.y,n.y,s)}function W5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K5={duration:.45,ease:[.4,0,.1,1]},g_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),y_=g_("applewebkit/")&&!g_("chrome/")?Math.round:zn;function v_(t){t.min=y_(t.min),t.max=y_(t.max)}function Z5(t){v_(t.x),v_(t.y)}function CE(t,e,n){return t==="position"||t==="preserve-aspect"&&!b5(a_(e),a_(n),.2)}function Q5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $5=EE({attachResizeListener:(t,e)=>zl(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Xf={current:void 0},AE=EE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xf.current){const t=new $5({});t.mount(window),t.setOptions({layoutScroll:!0}),Xf.current=t}return Xf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NE=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function J5(t=!0){const e=_.useContext(uy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,r=_.useId();_.useEffect(()=>{if(t)return i(r)},[t]);const a=_.useCallback(()=>t&&s&&s(r),[r,s,t]);return!n&&s?[!1,a]:[!0]}const ME=_.createContext({strict:!1}),b_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let __=!1;function e3(){if(__)return;const t={};for(const e in b_)t[e]={isEnabled:n=>b_[e].some(s=>!!n[s])};iE(t),__=!0}function RE(){return e3(),GD()}function t3(t){const e=RE();for(const n in t)e[n]={...e[n],...t[n]};iE(e)}const n3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function xh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n3.has(t)}let kE=t=>!xh(t);function s3(t){typeof t=="function"&&(kE=e=>e.startsWith("on")?!xh(e):t(e))}try{s3(require("@emotion/is-prop-valid").default)}catch{}function i3(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(kE(i)||n===!0&&xh(i)||!e&&!xh(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const gd=_.createContext({});function r3(t,e){if(md(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Pl(n)?n:void 0,animate:Pl(s)?s:void 0}}return t.inherit!==!1?e:{}}function a3(t){const{initial:e,animate:n}=r3(t,_.useContext(gd));return _.useMemo(()=>({initial:e,animate:n}),[x_(e),x_(n)])}function x_(t){return Array.isArray(t)?t.join(" "):t}const Py=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OE(t,e,n){for(const s in e)!zt(e[s])&&!hE(s,n)&&(t[s]=e[s])}function o3({transformTemplate:t},e){return _.useMemo(()=>{const n=Py();return Ly(n,e,t),Object.assign({},n.vars,n.style)},[e])}function l3(t,e){const n=t.style||{},s={};return OE(s,n,t),Object.assign(s,o3(t,e)),s}function c3(t,e){const n={},s=l3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const DE=()=>({...Py(),attrs:{}});function u3(t,e,n,s){const i=_.useMemo(()=>{const r=DE();return dE(r,e,pE(s),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};OE(r,t.style,t),i.style={...r,...i.style}}return i}const h3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zy(t){return typeof t!="string"||t.includes("-")?!1:!!(h3.indexOf(t)>-1||/[A-Z]/u.test(t))}function d3(t,e,n,{latestValues:s},i,r=!1,a){const l=(a??zy(t)?u3:c3)(e,s,i,t),c=i3(e,typeof t=="string",r),u=t!==_.Fragment?{...c,...l,ref:n}:{},{children:h}=e,d=_.useMemo(()=>zt(h)?h.get():h,[h]);return _.createElement(t,{...u,children:d})}function f3({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:p3(n,s,i,t),renderState:e()}}function p3(t,e,n,s){const i={},r=s(t,{});for(const d in r)i[d]=Du(r[d]);let{initial:a,animate:o}=t;const l=md(t),c=sE(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const h=u?o:a;if(h&&typeof h!="boolean"&&!pd(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const p=My(t,d[f]);if(p){const{transitionEnd:g,transition:v,...m}=p;for(const y in m){let b=m[y];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(i[y]=b)}for(const y in g)i[y]=g[y]}}}return i}const VE=t=>(e,n)=>{const s=_.useContext(gd),i=_.useContext(uy),r=()=>f3(t,e,s,i);return n?r():gk(r)},m3=VE({scrapeMotionValuesFromProps:jy,createRenderState:Py}),g3=VE({scrapeMotionValuesFromProps:mE,createRenderState:DE}),y3=Symbol.for("motionComponentSymbol");function v3(t,e,n){const s=_.useRef(n);_.useInsertionEffect(()=>{s.current=n});const i=_.useRef(null);return _.useCallback(r=>{var o;r&&((o=t.onMount)==null||o.call(t,r)),e&&(r?e.mount(r):e.unmount());const a=s.current;if(typeof a=="function")if(r){const l=a(r);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(r);else a&&(a.current=r)},[e])}const IE=_.createContext({});function ma(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function b3(t,e,n,s,i,r){var b,S;const{visualElement:a}=_.useContext(gd),o=_.useContext(ME),l=_.useContext(uy),c=_.useContext(NE),u=c.reducedMotion,h=c.skipAnimations,d=_.useRef(null),f=_.useRef(!1);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,skipAnimations:h,isSVG:r}),f.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const p=d.current,g=_.useContext(IE);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&_3(d.current,n,i,g);const v=_.useRef(!1);_.useInsertionEffect(()=>{p&&v.current&&p.update(n,l)});const m=n[HT],y=_.useRef(!!m&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return yk(()=>{f.current=!0,p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),y.current&&p.animationState&&p.animationState.animateChanges())}),_.useEffect(()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),y.current=!1),p.enteringChildren=void 0)}),p}function _3(t,e,n,s){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BE(t.parent)),t.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||o&&ma(o),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:l,layoutRoot:c})}function BE(t){if(t)return t.options.allowProjection!==!1?t.projection:BE(t.parent)}function Wf(t,{forwardMotionProps:e=!1,type:n}={},s,i){s&&t3(s);const r=n?n==="svg":zy(t),a=r?g3:m3;function o(c,u){let h;const d={..._.useContext(NE),...c,layoutId:x3(c)},{isStatic:f}=d,p=a3(c),g=a(c,f);if(!f&&rT){S3();const v=w3(d);h=v.MeasureLayout,p.visualElement=b3(t,g,d,i,v.ProjectionNode,r)}return x.jsxs(gd.Provider,{value:p,children:[h&&p.visualElement?x.jsx(h,{visualElement:p.visualElement,...d}):null,d3(t,c,v3(g,p.visualElement,u),g,f,e,r)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=_.forwardRef(o);return l[y3]=t,l}function x3({layoutId:t}){const e=_.useContext(iT).id;return e&&t!==void 0?e+"-"+t:t}function S3(t,e){_.useContext(ME).strict}function w3(t){const e=RE(),{drag:n,layout:s}=e;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function T3(t,e){if(typeof Proxy>"u")return Wf;const n=new Map,s=(r,a)=>Wf(r,a,t,e),i=(r,a)=>s(r,a);return new Proxy(i,{get:(r,a)=>a==="create"?s:(n.has(a)||n.set(a,Wf(a,void 0,t,e)),n.get(a))})}const E3=(t,e)=>e.isSVG??zy(t)?new l5(e):new n5(e,{allowProjection:t!==_.Fragment});class C3 extends cr{constructor(e){super(e),e.animationState||(e.animationState=f5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let A3=0;class N3 extends cr{constructor(){super(...arguments),this.id=A3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M3={animation:{Feature:C3},exit:{Feature:N3}};function uc(t){return{point:{x:t.pageX,y:t.pageY}}}const R3=t=>e=>Dy(e)&&t(e,uc(e));function xl(t,e,n,s){return zl(t,e,R3(n),s)}const LE=({current:t})=>t?t.ownerDocument.defaultView:null,S_=(t,e)=>Math.abs(t-e);function k3(t,e){const n=S_(t.x,e.x),s=S_(t.y,e.y);return Math.sqrt(n**2+s**2)}const w_=new Set(["auto","scroll"]);class jE{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=k3(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:v}=f,{timestamp:m}=kt;this.history.push({...v,timestamp:m});const{onStart:y,onMove:b}=this.handlers;p||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Kf(p,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:m}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Zf(f.type==="pointercancel"?this.lastMoveEventInfo:Kf(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,y),v&&v(f,y)},!Dy(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=i||window;const l=uc(e),c=Kf(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=kt;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,Zf(c,this.history)),this.removeListeners=oc(xl(this.contextWindow,"pointermove",this.handlePointerMove),xl(this.contextWindow,"pointerup",this.handlePointerUp),xl(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(w_.has(s.overflowX)||w_.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},r={x:i.x-n.x,y:i.y-n.y};r.x===0&&r.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(e,i),qe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$i(this.updatePoint)}}function Kf(t,e){return e?{point:e(t.point)}:t}function T_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zf({point:t},e){return{point:t,delta:T_(t,PE(e)),offset:T_(t,O3(e)),velocity:D3(e,.1)}}function O3(t){return t[0]}function PE(t){return t[t.length-1]}function D3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=PE(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>vs(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&i.timestamp-s.timestamp>vs(e)*2&&(s=t[1]);const r=Bn(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function V3(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?nt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?nt(n,t,s.max):Math.min(t,n)),t}function E_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function I3(t,{top:e,left:n,bottom:s,right:i}){return{x:E_(t.x,n,i),y:E_(t.y,e,s)}}function C_(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function B3(t,e){return{x:C_(t.x,e.x),y:C_(t.y,e.y)}}function L3(t,e){let n=.5;const s=Xt(t),i=Xt(e);return i>s?n=Bl(e.min,e.max-s,t.min):s>i&&(n=Bl(t.min,t.max-i,e.min)),ws(0,1,n)}function j3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Om=.35;function P3(t=Om){return t===!1?t=0:t===!0&&(t=Om),{x:A_(t,"left","right"),y:A_(t,"top","bottom")}}function A_(t,e,n){return{min:N_(t,e),max:N_(t,n)}}function N_(t,e){return typeof t=="number"?t:t[e]||0}const z3=new WeakMap;class U3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{n&&this.snapToCursor(uc(h).point),this.stopAnimation()},a=(h,d)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xD(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(m=>{let y=this.getAxisMotionValue(m).get()||0;if(bs.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[m];S&&(y=Xt(S)*(parseFloat(y)/100))}}this.originPoint[m]=y}),g&&qe.update(()=>g(h,d),!1,!0),Em(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=d;if(p&&this.currentDirection===null){this.currentDirection=H3(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,m),this.updateAxis("y",d.point,m),this.visualElement.render(),v&&qe.update(()=>v(h,d),!1,!0)},l=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d,this.stop(h,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new jE(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:LE(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&qe.postRender(()=>o(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!$c(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=V3(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;e&&ma(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=I3(s.layoutBox,e):this.constraints=!1,this.elastic=P3(n),i!==this.constraints&&!ma(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&hs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=j3(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ma(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=ZD(s,i.root,this.visualElement.getTransformPagePoint());let a=B3(i.layout.layoutBox,r);if(n){const o=n(XD(a));this.hasMutatedConstraints=!!o,o&&(a=aE(o))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=hs(u=>{if(!$c(u,n,this.currentDirection))return;let h=l&&l[u]||{};a&&(h={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:s?e[u]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Em(this.visualElement,e),s.start(Ny(e,s,0,n,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hs(n=>{const{drag:s}=this.getProps();if(!$c(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n],l=r.get()||0;r.set(e[n]-nt(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ma(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hs(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=L3({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),hs(a=>{if(!$c(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(nt(l,c,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;z3.set(this.visualElement,this);const e=this.visualElement.current,n=xl(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps(),d=c.target,f=d!==e&&AD(d);u&&h&&!f&&this.start(c)});let s;const i=()=>{const{dragConstraints:c}=this.getProps();ma(c)&&c.current&&(this.constraints=this.resolveRefConstraints(),s||(s=F3(e,c.current,()=>this.scalePositionWithinConstraints())))},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),qe.read(i);const o=zl(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(hs(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=Om,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function M_(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function F3(t,e,n){const s=jb(t,M_(n)),i=jb(e,M_(n));return()=>{s(),i()}}function $c(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function H3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class q3 extends cr{constructor(e){super(e),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new U3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Qf=t=>(e,n)=>{t&&qe.update(()=>t(e,n),!1,!0)};class G3 extends cr{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(e){this.session=new jE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Qf(e),onStart:Qf(n),onMove:Qf(s),onEnd:(r,a)=>{delete this.session,i&&qe.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=xl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $f=!1;class Y3 extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),$f&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Vu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:a}=s;return a&&(a.isPresent=r,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),$f=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||qe.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Oy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;$f=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zE(t){const[e,n]=J5(),s=_.useContext(iT);return x.jsx(Y3,{...t,layoutGroup:s,switchLayoutGroup:_.useContext(IE),isPresent:e,safeToRemove:n})}const X3={pan:{Feature:G3},drag:{Feature:q3,ProjectionNode:AE,MeasureLayout:zE}};function R_(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&qe.postRender(()=>r(e,uc(e)))}class W3 extends cr{mount(){const{current:e}=this.node;e&&(this.unmount=wD(e,(n,s)=>(R_(this.node,s,"Start"),i=>R_(this.node,i,"End"))))}unmount(){}}class K3 extends cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oc(zl(this.node.current,"focus",()=>this.onFocus()),zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k_(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&qe.postRender(()=>r(e,uc(e)))}class Z3 extends cr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=MD(e,(i,r)=>(k_(this.node,r,"Start"),(a,{success:o})=>k_(this.node,a,o?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const Dm=new WeakMap,Jf=new WeakMap,Q3=t=>{const e=Dm.get(t.target);e&&e(t)},$3=t=>{t.forEach(Q3)};function J3({root:t,...e}){const n=t||document;Jf.has(n)||Jf.set(n,{});const s=Jf.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver($3,{root:t,...e})),s[i]}function eV(t,e,n){const s=J3(e);return Dm.set(t,n),s.observe(t),()=>{Dm.delete(t),s.unobserve(t)}}const tV={some:0,all:1};class nV extends cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:tV[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),d=c?u:h;d&&d(l)};return eV(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sV(e,n))&&this.startObserver()}unmount(){}}function sV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iV={inView:{Feature:nV},tap:{Feature:Z3},focus:{Feature:K3},hover:{Feature:W3}},rV={layout:{ProjectionNode:AE,MeasureLayout:zE}},aV={...M3,...iV,...X3,...rV},mi=T3(aV,E3);function oV(){const t=[.6,1,.45,.85,.35,.7,1,.5,.8,.4,.95,.55];return x.jsx("div",{className:"flex items-end gap-[3px] h-10",children:t.map((e,n)=>x.jsx("div",{className:"start-anim-bar w-[3px] rounded-full",style:{height:`${e*100}%`,background:"linear-gradient(to top, oklch(0.65 0.22 265), oklch(0.75 0.18 290))",animationDelay:`${n*.12}s`,animationDuration:`${1.2+n%3*.2}s`}},n))})}const lV=[{color:"oklch(0.45 0.18 265 / 0.30)",size:500,x:["10%","55%","25%","65%","10%"],y:["15%","40%","60%","20%","15%"],duration:22},{color:"oklch(0.40 0.16 290 / 0.25)",size:450,x:["70%","30%","50%","20%","70%"],y:["60%","25%","45%","70%","60%"],duration:26},{color:"oklch(0.35 0.14 230 / 0.22)",size:400,x:["40%","75%","15%","60%","40%"],y:["70%","50%","30%","55%","70%"],duration:30},{color:"oklch(0.38 0.20 310 / 0.15)",size:350,x:["55%","20%","70%","35%","55%"],y:["30%","65%","45%","15%","30%"],duration:24},{color:"oklch(0.42 0.15 200 / 0.18)",size:380,x:["25%","60%","40%","75%","25%"],y:["50%","15%","70%","40%","50%"],duration:28}];function cV(){const t=_.useRef(null);return _.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const s=256,i=256;e.width=s,e.height=i;let r;const a=()=>{const o=n.createImageData(s,i),l=o.data;for(let c=0;c<l.length;c+=4){const u=Math.random()*255;l[c]=u,l[c+1]=u,l[c+2]=u,l[c+3]=18}n.putImageData(o,0,0),r=requestAnimationFrame(a)};return a(),()=>cancelAnimationFrame(r)},[]),x.jsx("canvas",{ref:t,className:"pointer-events-none absolute inset-0 h-full w-full",style:{opacity:.55,mixBlendMode:"overlay",objectFit:"cover",width:"100%",height:"100%"}})}function uV(){const t=_.useMemo(()=>Array.from({length:14},(e,n)=>({x:10+(n*37+n*n*7)%80,y:10+(n*53+n*11)%80,size:2+n%3*1.5,delay:n*.4,duration:4+n%4})),[]);return x.jsx(x.Fragment,{children:t.map((e,n)=>x.jsx("div",{className:"start-anim-dot absolute rounded-full",style:{left:`${e.x}%`,top:`${e.y}%`,width:e.size,height:e.size,background:n%3===0?"oklch(0.65 0.22 265 / 0.5)":n%3===1?"oklch(0.70 0.15 290 / 0.4)":"oklch(0.60 0.12 230 / 0.35)",animationDelay:`${e.delay}s`,animationDuration:`${e.duration}s`}},n))})}const hV={hidden:{},show:{transition:{staggerChildren:.12,delayChildren:.2}}},Jc={hidden:{opacity:0,y:24,filter:"blur(6px)"},show:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.7,ease:[.16,1,.3,1]}}};function dV({onStart:t}){const[e,n]=_.useState(!1),[s,i]=_.useState(!1),r=async()=>{n(!0);try{await t()}catch(a){console.error("Failed to start:",a),n(!1)}};return x.jsxs("div",{className:"relative flex flex-1 flex-col items-center justify-center overflow-hidden",style:{background:"oklch(0.06 0.015 270)"},children:[x.jsx("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:lV.map((a,o)=>x.jsx(mi.div,{className:"absolute rounded-full",style:{width:a.size,height:a.size,background:`radial-gradient(circle, ${a.color}, transparent 70%)`,filter:"blur(80px)"},animate:{left:a.x,top:a.y},transition:{duration:a.duration,repeat:1/0,ease:"easeInOut"}},o))}),x.jsx("div",{className:"start-anim-grid pointer-events-none absolute inset-0",style:{backgroundImage:`
            linear-gradient(oklch(0.65 0.22 265 / 0.08) 1px, transparent 1px),
            linear-gradient(90deg, oklch(0.65 0.22 265 / 0.08) 1px, transparent 1px)
          `,backgroundSize:"48px 48px",maskImage:"radial-gradient(ellipse 55% 55% at 50% 50%, black 0%, transparent 70%)",WebkitMaskImage:"radial-gradient(ellipse 55% 55% at 50% 50%, black 0%, transparent 70%)"}}),x.jsx(uV,{}),x.jsx(cV,{}),x.jsx(mi.div,{className:"start-anim-ring absolute",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.3},style:{width:160,height:160,borderRadius:"50%",border:"1px solid oklch(0.65 0.22 265 / 0.12)",borderTopColor:"oklch(0.65 0.22 265 / 0.4)"}}),x.jsx("div",{className:"start-anim-breathe absolute rounded-full",style:{width:120,height:120,background:"radial-gradient(circle, oklch(0.65 0.22 265 / 0.10) 0%, transparent 70%)"}}),x.jsxs(mi.div,{className:"relative z-10 flex flex-col items-center gap-8",variants:hV,initial:"hidden",animate:"show",children:[x.jsx(mi.div,{variants:Jc,className:"flex items-center justify-center rounded-2xl",style:{width:88,height:88,background:"linear-gradient(135deg, oklch(0.14 0.03 265 / 0.7), oklch(0.10 0.02 270 / 0.5))",backdropFilter:"blur(16px)",border:"1px solid oklch(0.65 0.22 265 / 0.12)",boxShadow:"0 8px 32px oklch(0 0 0 / 0.5), inset 0 1px 0 oklch(1 0 0 / 0.04)"},children:x.jsx(oV,{})}),x.jsxs(mi.div,{variants:Jc,className:"flex flex-col items-center gap-2.5",children:[x.jsx("h1",{style:{fontFamily:"'Syne', sans-serif",fontWeight:800,fontSize:"2.75rem",letterSpacing:"-0.03em",lineHeight:1,background:"linear-gradient(135deg, oklch(0.96 0.01 270) 0%, oklch(0.72 0.15 265) 45%, oklch(0.60 0.22 290) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0 2px 12px oklch(0.65 0.22 265 / 0.3))"},children:"MICRO DAW"}),x.jsx("p",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:"0.65rem",letterSpacing:"0.22em",textTransform:"uppercase",color:"oklch(0.50 0.08 265)"},children:"Create  Compose  Perform"})]}),x.jsxs(mi.button,{variants:Jc,onClick:r,disabled:e,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),whileHover:e?{}:{scale:1.04},whileTap:e?{}:{scale:.97},className:"start-anim-glow-btn relative overflow-hidden rounded-xl px-10 py-3 font-semibold tracking-wide disabled:opacity-50 disabled:cursor-not-allowed",style:{background:e?"oklch(0.20 0.03 265)":"linear-gradient(135deg, oklch(0.50 0.22 265), oklch(0.45 0.20 280))",color:"oklch(0.95 0.01 270)",fontSize:"0.9rem",fontFamily:"'Manrope', sans-serif",border:"1px solid oklch(0.55 0.18 265 / 0.3)",cursor:e?void 0:"pointer"},children:[!e&&x.jsx("div",{className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(105deg, transparent 40%, oklch(1 0 0 / 0.07) 50%, transparent 60%)",transform:s?"translateX(100%)":"translateX(-100%)",transition:"transform 0.6s ease"}}),e?x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Initializing..."]}):"Start Session"]}),x.jsxs(mi.p,{variants:Jc,className:"max-w-xs text-center",style:{fontSize:"0.65rem",lineHeight:1.7,color:"oklch(0.35 0.02 270)"},children:["Initializes the audio engine and MIDI system.",x.jsx("br",{}),"Connect a controller for the best experience."]})]}),x.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-32",style:{background:"linear-gradient(to top, oklch(0.06 0.015 270), transparent)"}}),x.jsx("div",{className:"pointer-events-none absolute top-0 left-0 right-0 h-24",style:{background:"linear-gradient(to bottom, oklch(0.06 0.015 270 / 0.6), transparent)"}}),x.jsx(mi.div,{className:"absolute bottom-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.8},style:{fontFamily:"'JetBrains Mono', monospace",fontSize:"0.55rem",color:"oklch(0.25 0.02 270)",letterSpacing:"0.12em"},children:"v1.0.0"})]})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=t=>{const e=pV(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:a,...o},l)=>_.createElement("svg",{ref:l,...mV,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:UE("lucide",i),...!r&&!gV(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,u])=>_.createElement(c,u)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=_.forwardRef(({className:s,...i},r)=>_.createElement(yV,{ref:r,iconNode:e,className:UE(`lucide-${fV(O_(t))}`,`lucide-${t}`,s),...i}));return n.displayName=O_(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bV=ze("arrow-left",vV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xV=ze("check",_V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FE=ze("chevron-down",SV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],TV=ze("chevron-up",wV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CV=ze("circle",EV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],NV=ze("download",AV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],RV=ze("eraser",MV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],OV=ze("file-headphone",kV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],D_=ze("loader-circle",DV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],IV=ze("maximize-2",VV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],LV=ze("minimize-2",BV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],HE=ze("mouse-pointer-2",jV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],zV=ze("music",PV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],FV=ze("pencil",UV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],qV=ze("play",HV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V_=ze("plus",GV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],qE=ze("redo-2",YV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],WV=ze("scissors",XV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ZV=ze("square",KV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$V=ze("trash-2",QV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I_=ze("triangle-alert",JV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],GE=ze("undo-2",eI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]],nI=ze("usb",tI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],YE=ze("volume-2",sI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],XE=ze("volume-x",iI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aI=ze("x",rI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],lI=ze("zoom-in",oI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],uI=ze("zoom-out",cI);function B_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WE(...t){return e=>{let n=!1;const s=t.map(i=>{const r=B_(i,e);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():B_(t[i],null)}}}}function Ge(...t){return _.useCallback(WE(...t),t)}function Ul(t){const e=hI(t),n=_.forwardRef((s,i)=>{const{children:r,...a}=s,o=_.Children.toArray(r),l=o.find(fI);if(l){const c=l.props.children,u=o.map(h=>h===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:h);return x.jsx(e,{...a,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,u):null})}return x.jsx(e,{...a,ref:i,children:r})});return n.displayName=`${t}.Slot`,n}var KE=Ul("Slot");function hI(t){const e=_.forwardRef((n,s)=>{const{children:i,...r}=n;if(_.isValidElement(i)){const a=mI(i),o=pI(r,i.props);return i.type!==_.Fragment&&(o.ref=s?WE(s,a):a),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dI=Symbol("radix.slottable");function fI(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dI}function pI(t,e){const n={...e};for(const s in e){const i=t[s],r=e[s];/^on[A-Z]/.test(s)?i&&r?n[s]=(...o)=>{const l=r(...o);return i(...o),l}:i&&(n[s]=i):s==="style"?n[s]={...i,...r}:s==="className"&&(n[s]=[i,r].filter(Boolean).join(" "))}return{...t,...n}}function mI(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=gI.reduce((t,e)=>{const n=Ul(`Primitive.${e}`),s=_.forwardRef((i,r)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...o,ref:r})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function yI(t,e){t&&go.flushSync(()=>t.dispatchEvent(e))}var ZE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vI="VisuallyHidden",bI=_.forwardRef((t,e)=>x.jsx(Ee.span,{...t,ref:e,style:{...ZE,...t.style}}));bI.displayName=vI;function Jr(t,e=[]){let n=[];function s(r,a){const o=_.createContext(a),l=n.length;n=[...n,a];const c=h=>{var m;const{scope:d,children:f,...p}=h,g=((m=d==null?void 0:d[t])==null?void 0:m[l])||o,v=_.useMemo(()=>p,Object.values(p));return x.jsx(g.Provider,{value:v,children:f})};c.displayName=r+"Provider";function u(h,d){var g;const f=((g=d==null?void 0:d[t])==null?void 0:g[l])||o,p=_.useContext(f);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${r}\``)}return[c,u]}const i=()=>{const r=n.map(a=>_.createContext(a));return function(o){const l=(o==null?void 0:o[t])||r;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[s,_I(i,...e)]}function _I(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const a=s.reduce((o,{useScope:l,scopeName:c})=>{const h=l(r)[`__scope${c}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Uy(t){const e=t+"CollectionProvider",[n,s]=Jr(e),[i,r]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:m}=g,y=_t.useRef(null),b=_t.useRef(new Map).current;return x.jsx(i,{scope:v,itemMap:b,collectionRef:y,children:m})};a.displayName=e;const o=t+"CollectionSlot",l=Ul(o),c=_t.forwardRef((g,v)=>{const{scope:m,children:y}=g,b=r(o,m),S=Ge(v,b.collectionRef);return x.jsx(l,{ref:S,children:y})});c.displayName=o;const u=t+"CollectionItemSlot",h="data-radix-collection-item",d=Ul(u),f=_t.forwardRef((g,v)=>{const{scope:m,children:y,...b}=g,S=_t.useRef(null),w=Ge(v,S),C=r(u,m);return _t.useEffect(()=>(C.itemMap.set(S,{ref:S,...b}),()=>void C.itemMap.delete(S))),x.jsx(d,{[h]:"",ref:w,children:y})});f.displayName=u;function p(g){const v=r(t+"CollectionConsumer",g);return _t.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((C,E)=>b.indexOf(C.ref.current)-b.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},p,s]}function Te(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var ln=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},xI=hx[" useInsertionEffect ".trim().toString()]||ln;function er({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,r,a]=SI({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const u=_.useRef(t!==void 0);_.useEffect(()=>{const h=u.current;h!==o&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,s])}const c=_.useCallback(u=>{var h;if(o){const d=wI(u)?u(t):u;d!==t&&((h=a.current)==null||h.call(a,d))}else r(u)},[o,t,r,a]);return[l,c]}function SI({defaultProp:t,onChange:e}){const[n,s]=_.useState(t),i=_.useRef(n),r=_.useRef(e);return xI(()=>{r.current=e},[e]),_.useEffect(()=>{var a;i.current!==n&&((a=r.current)==null||a.call(r,n),i.current=n)},[n,i]),[n,s,r]}function wI(t){return typeof t=="function"}var TI=hx[" useId ".trim().toString()]||(()=>{}),EI=0;function yd(t){const[e,n]=_.useState(TI());return ln(()=>{n(s=>s??String(EI++))},[t]),t||(e?`radix-${e}`:"")}var CI=_.createContext(void 0);function vd(t){const e=_.useContext(CI);return t||e||"ltr"}function tr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function AI(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t);_.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var NI="DismissableLayer",Vm="dismissableLayer.update",MI="dismissableLayer.pointerDownOutside",RI="dismissableLayer.focusOutside",L_,QE=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$E=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:r,onInteractOutside:a,onDismiss:o,...l}=t,c=_.useContext(QE),[u,h]=_.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=_.useState({}),p=Ge(e,E=>h(E)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(v),y=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=y>=m,w=DI(E=>{const T=E.target,O=[...c.branches].some(A=>A.contains(T));!S||O||(i==null||i(E),a==null||a(E),E.defaultPrevented||o==null||o())},d),C=VI(E=>{const T=E.target;[...c.branches].some(A=>A.contains(T))||(r==null||r(E),a==null||a(E),E.defaultPrevented||o==null||o())},d);return AI(E=>{y===c.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},d),_.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(L_=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),j_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=L_)}},[u,d,n,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),j_())},[u,c]),_.useEffect(()=>{const E=()=>f({});return document.addEventListener(Vm,E),()=>document.removeEventListener(Vm,E)},[]),x.jsx(Ee.div,{...l,ref:p,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,w.onPointerDownCapture)})});$E.displayName=NI;var kI="DismissableLayerBranch",OI=_.forwardRef((t,e)=>{const n=_.useContext(QE),s=_.useRef(null),i=Ge(e,s);return _.useEffect(()=>{const r=s.current;if(r)return n.branches.add(r),()=>{n.branches.delete(r)}},[n.branches]),x.jsx(Ee.div,{...t,ref:i})});OI.displayName=kI;function DI(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t),s=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const r=o=>{if(o.target&&!s.current){let l=function(){JE(MI,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",r),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function VI(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t),s=_.useRef(!1);return _.useEffect(()=>{const i=r=>{r.target&&!s.current&&JE(RI,n,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function j_(){const t=new CustomEvent(Vm);document.dispatchEvent(t)}function JE(t,e,n,{discrete:s}){const i=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?yI(i,r):i.dispatchEvent(r)}var ep="focusScope.autoFocusOnMount",tp="focusScope.autoFocusOnUnmount",P_={bubbles:!1,cancelable:!0},II="FocusScope",eC=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:r,...a}=t,[o,l]=_.useState(null),c=tr(i),u=tr(r),h=_.useRef(null),d=Ge(e,g=>l(g)),f=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let g=function(b){if(f.paused||!o)return;const S=b.target;o.contains(S)?h.current=S:_i(h.current,{select:!0})},v=function(b){if(f.paused||!o)return;const S=b.relatedTarget;S!==null&&(o.contains(S)||_i(h.current,{select:!0}))},m=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&_i(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(m);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[s,o,f.paused]),_.useEffect(()=>{if(o){U_.add(f);const g=document.activeElement;if(!o.contains(g)){const m=new CustomEvent(ep,P_);o.addEventListener(ep,c),o.dispatchEvent(m),m.defaultPrevented||(BI(UI(tC(o)),{select:!0}),document.activeElement===g&&_i(o))}return()=>{o.removeEventListener(ep,c),setTimeout(()=>{const m=new CustomEvent(tp,P_);o.addEventListener(tp,u),o.dispatchEvent(m),m.defaultPrevented||_i(g??document.body,{select:!0}),o.removeEventListener(tp,u),U_.remove(f)},0)}}},[o,c,u,f]);const p=_.useCallback(g=>{if(!n&&!s||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,m=document.activeElement;if(v&&m){const y=g.currentTarget,[b,S]=LI(y);b&&S?!g.shiftKey&&m===S?(g.preventDefault(),n&&_i(b,{select:!0})):g.shiftKey&&m===b&&(g.preventDefault(),n&&_i(S,{select:!0})):m===y&&g.preventDefault()}},[n,s,f.paused]);return x.jsx(Ee.div,{tabIndex:-1,...a,ref:d,onKeyDown:p})});eC.displayName=II;function BI(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(_i(s,{select:e}),document.activeElement!==n)return}function LI(t){const e=tC(t),n=z_(e,t),s=z_(e.reverse(),t);return[n,s]}function tC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function z_(t,e){for(const n of t)if(!jI(n,{upTo:e}))return n}function jI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PI(t){return t instanceof HTMLInputElement&&"select"in t}function _i(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&PI(t)&&e&&t.select()}}var U_=zI();function zI(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=F_(t,e),t.unshift(e)},remove(e){var n;t=F_(t,e),(n=t[0])==null||n.resume()}}}function F_(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function UI(t){return t.filter(e=>e.tagName!=="A")}var FI="Portal",nC=_.forwardRef((t,e)=>{var o;const{container:n,...s}=t,[i,r]=_.useState(!1);ln(()=>r(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?PM.createPortal(x.jsx(Ee.div,{...s,ref:e}),a):null});nC.displayName=FI;var np=0;function HI(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H_()),document.body.insertAdjacentElement("beforeend",t[1]??H_()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),np--}},[])}function H_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mi=function(){return Mi=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(this,arguments)};function qI(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function GI(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}var Iu="right-scroll-bar-position",Bu="width-before-scroll-bar",YI="with-scroll-bars-hidden",XI="--removed-body-scroll-bar-size";function sp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function WI(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var KI=typeof window<"u"?_.useLayoutEffect:_.useEffect,q_=new WeakMap;function ZI(t,e){var n=WI(null,function(s){return t.forEach(function(i){return sp(i,s)})});return KI(function(){var s=q_.get(n);if(s){var i=new Set(s),r=new Set(t),a=n.current;i.forEach(function(o){r.has(o)||sp(o,null)}),r.forEach(function(o){i.has(o)||sp(o,a)})}q_.set(n,t)},[t]),n}var Sh=function(){return Sh=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sh.apply(this,arguments)};function QI(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function $I(t){return t}function JI(t,e){e===void 0&&(e=$I);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(r){var a=e(r,s);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(r){for(s=!0;n.length;){var a=n;n=[],a.forEach(r)}n={push:function(o){return r(o)},filter:function(){return n}}},assignMedium:function(r){s=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(r),a=n}var l=function(){var u=a;a=[],u.forEach(r)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function eB(t){t===void 0&&(t={});var e=JI(null);return e.options=Sh({async:!0,ssr:!1},t),e}var sC=function(t){var e=t.sideCar,n=QI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,Sh({},n))};sC.isSideCarExport=!0;function tB(t,e){return t.useMedium(e),sC}var iC=eB(),ip=function(){},bd=_.forwardRef(function(t,e){var n=_.useRef(null),s=_.useState({onScrollCapture:ip,onWheelCapture:ip,onTouchMoveCapture:ip}),i=s[0],r=s[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,d=t.sideCar,f=t.noRelative,p=t.noIsolation,g=t.inert,v=t.allowPinchZoom,m=t.as,y=m===void 0?"div":m,b=t.gapMode,S=qI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=d,C=ZI([n,e]),E=Mi(Mi({},S),i);return _.createElement(_.Fragment,null,u&&_.createElement(w,{sideCar:iC,removeScrollBar:c,shards:h,noRelative:f,noIsolation:p,inert:g,setCallbacks:r,allowPinchZoom:!!v,lockRef:n,gapMode:b}),a?_.cloneElement(_.Children.only(o),Mi(Mi({},E),{ref:C})):_.createElement(y,Mi({},E,{className:l,ref:C}),o))});bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bd.classNames={fullWidth:Bu,zeroRight:Iu};var nB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nB();return e&&t.setAttribute("nonce",e),t}function iB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var aB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sB())&&(iB(e,n),rB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oB=function(){var t=aB();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rC=function(){var t=oB(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},lB={left:0,top:0,right:0,gap:0},rp=function(t){return parseInt(t||"",10)||0},cB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[rp(n),rp(s),rp(i)]},uB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lB;var e=cB(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},hB=rC(),Ga="data-scroll-locked",dB=function(t,e,n,s){var i=t.left,r=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(YI,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(o,"px ").concat(s,`;
  }
  body[`).concat(Ga,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Iu,` {
    right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Bu,` {
    margin-right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Iu," .").concat(Iu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Bu," .").concat(Bu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ga,`] {
    `).concat(XI,": ").concat(o,`px;
  }
`)},G_=function(){var t=parseInt(document.body.getAttribute(Ga)||"0",10);return isFinite(t)?t:0},fB=function(){_.useEffect(function(){return document.body.setAttribute(Ga,(G_()+1).toString()),function(){var t=G_()-1;t<=0?document.body.removeAttribute(Ga):document.body.setAttribute(Ga,t.toString())}},[])},pB=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;fB();var r=_.useMemo(function(){return uB(i)},[i]);return _.createElement(hB,{styles:dB(r,!e,i,n?"":"!important")})},Im=!1;if(typeof window<"u")try{var eu=Object.defineProperty({},"passive",{get:function(){return Im=!0,!0}});window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{Im=!1}var oa=Im?{passive:!1}:!1,mB=function(t){return t.tagName==="TEXTAREA"},aC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mB(t)&&n[e]==="visible")},gB=function(t){return aC(t,"overflowY")},yB=function(t){return aC(t,"overflowX")},Y_=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=oC(t,s);if(i){var r=lC(t,s),a=r[1],o=r[2];if(a>o)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},vB=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},bB=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},oC=function(t,e){return t==="v"?gB(e):yB(e)},lC=function(t,e){return t==="v"?vB(e):bB(e)},_B=function(t,e){return t==="h"&&e==="rtl"?-1:1},xB=function(t,e,n,s,i){var r=_B(t,window.getComputedStyle(e).direction),a=r*s,o=n.target,l=e.contains(o),c=!1,u=a>0,h=0,d=0;do{if(!o)break;var f=lC(t,o),p=f[0],g=f[1],v=f[2],m=g-v-r*p;(p||m)&&oC(t,o)&&(h+=m,d+=p);var y=o.parentNode;o=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(h)<1||!u&&Math.abs(d)<1)&&(c=!0),c},tu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},X_=function(t){return[t.deltaX,t.deltaY]},W_=function(t){return t&&"current"in t?t.current:t},SB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},TB=0,la=[];function EB(t){var e=_.useRef([]),n=_.useRef([0,0]),s=_.useRef(),i=_.useState(TB++)[0],r=_.useState(rC)[0],a=_.useRef(t);_.useEffect(function(){a.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=GI([t.lockRef.current],(t.shards||[]).map(W_),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var m=tu(g),y=n.current,b="deltaX"in g?g.deltaX:y[0]-m[0],S="deltaY"in g?g.deltaY:y[1]-m[1],w,C=g.target,E=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var T=window.getSelection(),O=T&&T.anchorNode,A=O?O===C||O.contains(C):!1;if(A)return!1;var N=Y_(E,C);if(!N)return!0;if(N?w=E:(w=E==="v"?"h":"v",N=Y_(E,C)),!N)return!1;if(!s.current&&"changedTouches"in g&&(b||S)&&(s.current=w),!w)return!0;var D=s.current||w;return xB(D,v,g,D==="h"?b:S)},[]),l=_.useCallback(function(g){var v=g;if(!(!la.length||la[la.length-1]!==r)){var m="deltaY"in v?X_(v):tu(v),y=e.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&SB(w.delta,m)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(W_).filter(Boolean).filter(function(w){return w.contains(v.target)}),S=b.length>0?o(v,b[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=_.useCallback(function(g,v,m,y){var b={name:g,delta:v,target:m,should:y,shadowParent:CB(m)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),u=_.useCallback(function(g){n.current=tu(g),s.current=void 0},[]),h=_.useCallback(function(g){c(g.type,X_(g),g.target,o(g,t.lockRef.current))},[]),d=_.useCallback(function(g){c(g.type,tu(g),g.target,o(g,t.lockRef.current))},[]);_.useEffect(function(){return la.push(r),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,oa),document.addEventListener("touchmove",l,oa),document.addEventListener("touchstart",u,oa),function(){la=la.filter(function(g){return g!==r}),document.removeEventListener("wheel",l,oa),document.removeEventListener("touchmove",l,oa),document.removeEventListener("touchstart",u,oa)}},[]);var f=t.removeScrollBar,p=t.inert;return _.createElement(_.Fragment,null,p?_.createElement(r,{styles:wB(i)}):null,f?_.createElement(pB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function CB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const AB=tB(iC,EB);var cC=_.forwardRef(function(t,e){return _.createElement(bd,Mi({},t,{ref:e,sideCar:AB}))});cC.classNames=bd.classNames;var NB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ca=new WeakMap,nu=new WeakMap,su={},ap=0,uC=function(t){return t&&(t.host||uC(t.parentNode))},MB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=uC(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},RB=function(t,e,n,s){var i=MB(e,Array.isArray(t)?t:[t]);su[n]||(su[n]=new WeakMap);var r=su[n],a=[],o=new Set,l=new Set(i),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(o.has(d))u(d);else try{var f=d.getAttribute(s),p=f!==null&&f!=="false",g=(ca.get(d)||0)+1,v=(r.get(d)||0)+1;ca.set(d,g),r.set(d,v),a.push(d),g===1&&p&&nu.set(d,!0),v===1&&d.setAttribute(n,"true"),p||d.setAttribute(s,"true")}catch(m){console.error("aria-hidden: cannot operate on ",d,m)}})};return u(e),o.clear(),ap++,function(){a.forEach(function(h){var d=ca.get(h)-1,f=r.get(h)-1;ca.set(h,d),r.set(h,f),d||(nu.has(h)||h.removeAttribute(s),nu.delete(h)),f||h.removeAttribute(n)}),ap--,ap||(ca=new WeakMap,ca=new WeakMap,nu=new WeakMap,su={})}},kB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=NB(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),RB(s,i,n,"aria-hidden")):function(){return null}};function Fy(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Hy(t){const[e,n]=_.useState(void 0);return ln(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const r=i[0];let a,o;if("borderBoxSize"in r){const l=r.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}const OB=["top","right","bottom","left"],nr=Math.min,fn=Math.max,wh=Math.round,iu=Math.floor,_s=t=>({x:t,y:t}),DB={left:"right",right:"left",bottom:"top",top:"bottom"},VB={start:"end",end:"start"};function Bm(t,e,n){return fn(t,nr(e,n))}function ii(t,e){return typeof t=="function"?t(e):t}function ri(t){return t.split("-")[0]}function Ao(t){return t.split("-")[1]}function qy(t){return t==="x"?"y":"x"}function Gy(t){return t==="y"?"height":"width"}const IB=new Set(["top","bottom"]);function gs(t){return IB.has(ri(t))?"y":"x"}function Yy(t){return qy(gs(t))}function BB(t,e,n){n===void 0&&(n=!1);const s=Ao(t),i=Yy(t),r=Gy(i);let a=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=Th(a)),[a,Th(a)]}function LB(t){const e=Th(t);return[Lm(t),e,Lm(e)]}function Lm(t){return t.replace(/start|end/g,e=>VB[e])}const K_=["left","right"],Z_=["right","left"],jB=["top","bottom"],PB=["bottom","top"];function zB(t,e,n){switch(t){case"top":case"bottom":return n?e?Z_:K_:e?K_:Z_;case"left":case"right":return e?jB:PB;default:return[]}}function UB(t,e,n,s){const i=Ao(t);let r=zB(ri(t),n==="start",s);return i&&(r=r.map(a=>a+"-"+i),e&&(r=r.concat(r.map(Lm)))),r}function Th(t){return t.replace(/left|right|bottom|top/g,e=>DB[e])}function FB(t){return{top:0,right:0,bottom:0,left:0,...t}}function hC(t){return typeof t!="number"?FB(t):{top:t,right:t,bottom:t,left:t}}function Eh(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function Q_(t,e,n){let{reference:s,floating:i}=t;const r=gs(e),a=Yy(e),o=Gy(a),l=ri(e),c=r==="y",u=s.x+s.width/2-i.width/2,h=s.y+s.height/2-i.height/2,d=s[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:s.y-i.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:h};break;case"left":f={x:s.x-i.width,y:h};break;default:f={x:s.x,y:s.y}}switch(Ao(e)){case"start":f[a]-=d*(n&&c?-1:1);break;case"end":f[a]+=d*(n&&c?-1:1);break}return f}async function HB(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:r,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ii(e,t),p=hC(f),v=o[d?h==="floating"?"reference":"floating":h],m=Eh(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(v)))==null||n?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:s,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),S=await(r.isElement==null?void 0:r.isElement(b))?await(r.getScale==null?void 0:r.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Eh(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:b,strategy:l}):y);return{top:(m.top-w.top+p.top)/S.y,bottom:(w.bottom-m.bottom+p.bottom)/S.y,left:(m.left-w.left+p.left)/S.x,right:(w.right-m.right+p.right)/S.x}}const qB=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n,o=r.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Q_(c,s,l),d=s,f={},p=0;for(let v=0;v<o.length;v++){var g;const{name:m,fn:y}=o[v],{x:b,y:S,data:w,reset:C}=await y({x:u,y:h,initialPlacement:s,placement:d,strategy:i,middlewareData:f,rects:c,platform:{...a,detectOverflow:(g=a.detectOverflow)!=null?g:HB},elements:{reference:t,floating:e}});u=b??u,h=S??h,f={...f,[m]:{...f[m],...w}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(c=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:h}=Q_(c,d,l)),v=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}},GB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:r,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=ii(t,e)||{};if(c==null)return{};const h=hC(u),d={x:n,y:s},f=Yy(i),p=Gy(f),g=await a.getDimensions(c),v=f==="y",m=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",S=r.reference[p]+r.reference[f]-d[f]-r.floating[p],w=d[f]-r.reference[f],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let E=C?C[b]:0;(!E||!await(a.isElement==null?void 0:a.isElement(C)))&&(E=o.floating[b]||r.floating[p]);const T=S/2-w/2,O=E/2-g[p]/2-1,A=nr(h[m],O),N=nr(h[y],O),D=A,I=E-g[p]-N,V=E/2-g[p]/2+T,L=Bm(D,V,I),R=!l.arrow&&Ao(i)!=null&&V!==L&&r.reference[p]/2-(V<D?A:N)-g[p]/2<0,k=R?V<D?V-D:V-I:0;return{[f]:d[f]+k,data:{[f]:L,centerOffset:V-L-k,...R&&{alignmentOffset:k}},reset:R}}}),YB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:r,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=ii(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const m=ri(i),y=gs(o),b=ri(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=d||(b||!g?[Th(o)]:LB(o)),C=p!=="none";!d&&C&&w.push(...UB(o,g,p,S));const E=[o,...w],T=await l.detectOverflow(e,v),O=[];let A=((s=r.flip)==null?void 0:s.overflows)||[];if(u&&O.push(T[m]),h){const V=BB(i,a,S);O.push(T[V[0]],T[V[1]])}if(A=[...A,{placement:i,overflows:O}],!O.every(V=>V<=0)){var N,D;const V=(((N=r.flip)==null?void 0:N.index)||0)+1,L=E[V];if(L&&(!(h==="alignment"?y!==gs(L):!1)||A.every(M=>gs(M.placement)===y?M.overflows[0]>0:!0)))return{data:{index:V,overflows:A},reset:{placement:L}};let R=(D=A.filter(k=>k.overflows[0]<=0).sort((k,M)=>k.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!R)switch(f){case"bestFit":{var I;const k=(I=A.filter(M=>{if(C){const B=gs(M.placement);return B===y||B==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,z)=>B+z,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:I[0];k&&(R=k);break}case"initialPlacement":R=o;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function $_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function J_(t){return OB.some(e=>t[e]>=0)}const XB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:s}=e,{strategy:i="referenceHidden",...r}=ii(t,e);switch(i){case"referenceHidden":{const a=await s.detectOverflow(e,{...r,elementContext:"reference"}),o=$_(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:J_(o)}}}case"escaped":{const a=await s.detectOverflow(e,{...r,altBoundary:!0}),o=$_(a,n.floating);return{data:{escapedOffsets:o,escaped:J_(o)}}}default:return{}}}}},dC=new Set(["left","top"]);async function WB(t,e){const{placement:n,platform:s,elements:i}=t,r=await(s.isRTL==null?void 0:s.isRTL(i.floating)),a=ri(n),o=Ao(n),l=gs(n)==="y",c=dC.has(a)?-1:1,u=r&&l?-1:1,h=ii(e,t);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof p=="number"&&(f=o==="end"?p*-1:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const KB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:r,placement:a,middlewareData:o}=e,l=await WB(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:a}}}}},ZB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i,platform:r}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:m=>{let{x:y,y:b}=m;return{x:y,y:b}}},...c}=ii(t,e),u={x:n,y:s},h=await r.detectOverflow(e,c),d=gs(ri(i)),f=qy(d);let p=u[f],g=u[d];if(a){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+h[m],S=p-h[y];p=Bm(b,p,S)}if(o){const m=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=g+h[m],S=g-h[y];g=Bm(b,g,S)}const v=l.fn({...e,[f]:p,[d]:g});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[f]:a,[d]:o}}}}}},QB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:r,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=ii(t,e),u={x:n,y:s},h=gs(i),d=qy(h);let f=u[d],p=u[h];const g=ii(o,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=d==="y"?"height":"width",S=r.reference[d]-r.floating[b]+v.mainAxis,w=r.reference[d]+r.reference[b]-v.mainAxis;f<S?f=S:f>w&&(f=w)}if(c){var m,y;const b=d==="y"?"width":"height",S=dC.has(ri(i)),w=r.reference[h]-r.floating[b]+(S&&((m=a.offset)==null?void 0:m[h])||0)+(S?0:v.crossAxis),C=r.reference[h]+r.reference[b]+(S?0:((y=a.offset)==null?void 0:y[h])||0)-(S?v.crossAxis:0);p<w?p=w:p>C&&(p=C)}return{[d]:f,[h]:p}}}},$B=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:r,platform:a,elements:o}=e,{apply:l=()=>{},...c}=ii(t,e),u=await a.detectOverflow(e,c),h=ri(i),d=Ao(i),f=gs(i)==="y",{width:p,height:g}=r.floating;let v,m;h==="top"||h==="bottom"?(v=h,m=d===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(m=h,v=d==="end"?"top":"bottom");const y=g-u.top-u.bottom,b=p-u.left-u.right,S=nr(g-u[v],y),w=nr(p-u[m],b),C=!e.middlewareData.shift;let E=S,T=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(E=y),C&&!d){const A=fn(u.left,0),N=fn(u.right,0),D=fn(u.top,0),I=fn(u.bottom,0);f?T=p-2*(A!==0||N!==0?A+N:fn(u.left,u.right)):E=g-2*(D!==0||I!==0?D+I:fn(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:E});const O=await a.getDimensions(o.floating);return p!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function _d(){return typeof window<"u"}function No(t){return fC(t)?(t.nodeName||"").toLowerCase():"#document"}function wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rs(t){var e;return(e=(fC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fC(t){return _d()?t instanceof Node||t instanceof wn(t).Node:!1}function ts(t){return _d()?t instanceof Element||t instanceof wn(t).Element:!1}function Ts(t){return _d()?t instanceof HTMLElement||t instanceof wn(t).HTMLElement:!1}function e1(t){return!_d()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wn(t).ShadowRoot}const JB=new Set(["inline","contents"]);function hc(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!JB.has(i)}const eL=new Set(["table","td","th"]);function tL(t){return eL.has(No(t))}const nL=[":popover-open",":modal"];function xd(t){return nL.some(e=>{try{return t.matches(e)}catch{return!1}})}const sL=["transform","translate","scale","rotate","perspective"],iL=["transform","translate","scale","rotate","perspective","filter"],rL=["paint","layout","strict","content"];function Xy(t){const e=Wy(),n=ts(t)?ns(t):t;return sL.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iL.some(s=>(n.willChange||"").includes(s))||rL.some(s=>(n.contain||"").includes(s))}function aL(t){let e=sr(t);for(;Ts(e)&&!ao(e);){if(Xy(e))return e;if(xd(e))return null;e=sr(e)}return null}function Wy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oL=new Set(["html","body","#document"]);function ao(t){return oL.has(No(t))}function ns(t){return wn(t).getComputedStyle(t)}function Sd(t){return ts(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sr(t){if(No(t)==="html")return t;const e=t.assignedSlot||t.parentNode||e1(t)&&t.host||Rs(t);return e1(e)?e.host:e}function pC(t){const e=sr(t);return ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ts(e)&&hc(e)?e:pC(e)}function Fl(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=pC(t),r=i===((s=t.ownerDocument)==null?void 0:s.body),a=wn(i);if(r){const o=jm(a);return e.concat(a,a.visualViewport||[],hc(i)?i:[],o&&n?Fl(o):[])}return e.concat(i,Fl(i,[],n))}function jm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mC(t){const e=ns(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Ts(t),r=i?t.offsetWidth:n,a=i?t.offsetHeight:s,o=wh(n)!==r||wh(s)!==a;return o&&(n=r,s=a),{width:n,height:s,$:o}}function Ky(t){return ts(t)?t:t.contextElement}function Ya(t){const e=Ky(t);if(!Ts(e))return _s(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:r}=mC(e);let a=(r?wh(n.width):n.width)/s,o=(r?wh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const lL=_s(0);function gC(t){const e=wn(t);return!Wy()||!e.visualViewport?lL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wn(t)?!1:e}function Ur(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Ky(t);let a=_s(1);e&&(s?ts(s)&&(a=Ya(s)):a=Ya(t));const o=cL(r,n,s)?gC(r):_s(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(r){const d=wn(r),f=s&&ts(s)?wn(s):s;let p=d,g=jm(p);for(;g&&s&&f!==p;){const v=Ya(g),m=g.getBoundingClientRect(),y=ns(g),b=m.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,S=m.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,h*=v.y,l+=b,c+=S,p=wn(g),g=jm(p)}}return Eh({width:u,height:h,x:l,y:c})}function wd(t,e){const n=Sd(t).scrollLeft;return e?e.left+n:Ur(Rs(t)).left+n}function yC(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-wd(t,n),i=n.top+e.scrollTop;return{x:s,y:i}}function uL(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const r=i==="fixed",a=Rs(s),o=e?xd(e.floating):!1;if(s===a||o&&r)return n;let l={scrollLeft:0,scrollTop:0},c=_s(1);const u=_s(0),h=Ts(s);if((h||!h&&!r)&&((No(s)!=="body"||hc(a))&&(l=Sd(s)),Ts(s))){const f=Ur(s);c=Ya(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}const d=a&&!h&&!r?yC(a,l):_s(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function hL(t){return Array.from(t.getClientRects())}function dL(t){const e=Rs(t),n=Sd(t),s=t.ownerDocument.body,i=fn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),r=fn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+wd(t);const o=-n.scrollTop;return ns(s).direction==="rtl"&&(a+=fn(e.clientWidth,s.clientWidth)-i),{width:i,height:r,x:a,y:o}}const t1=25;function fL(t,e){const n=wn(t),s=Rs(t),i=n.visualViewport;let r=s.clientWidth,a=s.clientHeight,o=0,l=0;if(i){r=i.width,a=i.height;const u=Wy();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=wd(s);if(c<=0){const u=s.ownerDocument,h=u.body,d=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(s.clientWidth-h.clientWidth-f);p<=t1&&(r-=p)}else c<=t1&&(r+=c);return{width:r,height:a,x:o,y:l}}const pL=new Set(["absolute","fixed"]);function mL(t,e){const n=Ur(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,r=Ts(t)?Ya(t):_s(1),a=t.clientWidth*r.x,o=t.clientHeight*r.y,l=i*r.x,c=s*r.y;return{width:a,height:o,x:l,y:c}}function n1(t,e,n){let s;if(e==="viewport")s=fL(t,n);else if(e==="document")s=dL(Rs(t));else if(ts(e))s=mL(e,n);else{const i=gC(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Eh(s)}function vC(t,e){const n=sr(t);return n===e||!ts(n)||ao(n)?!1:ns(n).position==="fixed"||vC(n,e)}function gL(t,e){const n=e.get(t);if(n)return n;let s=Fl(t,[],!1).filter(o=>ts(o)&&No(o)!=="body"),i=null;const r=ns(t).position==="fixed";let a=r?sr(t):t;for(;ts(a)&&!ao(a);){const o=ns(a),l=Xy(a);!l&&o.position==="fixed"&&(i=null),(r?!l&&!i:!l&&o.position==="static"&&!!i&&pL.has(i.position)||hc(a)&&!l&&vC(t,a))?s=s.filter(u=>u!==a):i=o,a=sr(a)}return e.set(t,s),s}function yL(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const a=[...n==="clippingAncestors"?xd(e)?[]:gL(e,this._c):[].concat(n),s],o=a[0],l=a.reduce((c,u)=>{const h=n1(e,u,i);return c.top=fn(h.top,c.top),c.right=nr(h.right,c.right),c.bottom=nr(h.bottom,c.bottom),c.left=fn(h.left,c.left),c},n1(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vL(t){const{width:e,height:n}=mC(t);return{width:e,height:n}}function bL(t,e,n){const s=Ts(e),i=Rs(e),r=n==="fixed",a=Ur(t,!0,r,e);let o={scrollLeft:0,scrollTop:0};const l=_s(0);function c(){l.x=wd(i)}if(s||!s&&!r)if((No(e)!=="body"||hc(i))&&(o=Sd(e)),s){const f=Ur(e,!0,r,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();r&&!s&&i&&c();const u=i&&!s&&!r?yC(i,o):_s(0),h=a.left+o.scrollLeft-l.x-u.x,d=a.top+o.scrollTop-l.y-u.y;return{x:h,y:d,width:a.width,height:a.height}}function op(t){return ns(t).position==="static"}function s1(t,e){if(!Ts(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rs(t)===n&&(n=n.ownerDocument.body),n}function bC(t,e){const n=wn(t);if(xd(t))return n;if(!Ts(t)){let i=sr(t);for(;i&&!ao(i);){if(ts(i)&&!op(i))return i;i=sr(i)}return n}let s=s1(t,e);for(;s&&tL(s)&&op(s);)s=s1(s,e);return s&&ao(s)&&op(s)&&!Xy(s)?n:s||aL(t)||n}const _L=async function(t){const e=this.getOffsetParent||bC,n=this.getDimensions,s=await n(t.floating);return{reference:bL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function xL(t){return ns(t).direction==="rtl"}const SL={convertOffsetParentRelativeRectToViewportRelativeRect:uL,getDocumentElement:Rs,getClippingRect:yL,getOffsetParent:bC,getElementRects:_L,getClientRects:hL,getDimensions:vL,getScale:Ya,isElement:ts,isRTL:xL};function _C(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wL(t,e){let n=null,s;const i=Rs(t);function r(){var o;clearTimeout(s),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),r();const c=t.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(o||e(),!d||!f)return;const p=iu(h),g=iu(i.clientWidth-(u+d)),v=iu(i.clientHeight-(h+f)),m=iu(u),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-m+"px",threshold:fn(0,nr(1,l))||1};let S=!0;function w(C){const E=C[0].intersectionRatio;if(E!==l){if(!S)return a();E?a(!1,E):s=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!_C(c,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(t)}return a(!0),r}function TL(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=Ky(t),u=i||r?[...c?Fl(c):[],...Fl(e)]:[];u.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),r&&m.addEventListener("resize",n)});const h=c&&o?wL(c,n):null;let d=-1,f=null;a&&(f=new ResizeObserver(m=>{let[y]=m;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,g=l?Ur(t):null;l&&v();function v(){const m=Ur(t);g&&!_C(g,m)&&n(),g=m,p=requestAnimationFrame(v)}return n(),()=>{var m;u.forEach(y=>{i&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),h==null||h(),(m=f)==null||m.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const EL=KB,CL=ZB,AL=YB,NL=$B,ML=XB,i1=GB,RL=QB,kL=(t,e,n)=>{const s=new Map,i={platform:SL,...n},r={...i.platform,_c:s};return qB(t,e,{...i,platform:r})};var OL=typeof document<"u",DL=function(){},Lu=OL?_.useLayoutEffect:DL;function Ch(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Ch(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const r=i[s];if(!(r==="_owner"&&t.$$typeof)&&!Ch(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function xC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function r1(t,e){const n=xC(t);return Math.round(e*n)/n}function lp(t){const e=_.useRef(t);return Lu(()=>{e.current=t}),e}function VL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:r,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,h]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=_.useState(s);Ch(d,s)||f(s);const[p,g]=_.useState(null),[v,m]=_.useState(null),y=_.useCallback(M=>{M!==C.current&&(C.current=M,g(M))},[]),b=_.useCallback(M=>{M!==E.current&&(E.current=M,m(M))},[]),S=r||p,w=a||v,C=_.useRef(null),E=_.useRef(null),T=_.useRef(u),O=l!=null,A=lp(l),N=lp(i),D=lp(c),I=_.useCallback(()=>{if(!C.current||!E.current)return;const M={placement:e,strategy:n,middleware:d};N.current&&(M.platform=N.current),kL(C.current,E.current,M).then(B=>{const z={...B,isPositioned:D.current!==!1};V.current&&!Ch(T.current,z)&&(T.current=z,go.flushSync(()=>{h(z)}))})},[d,e,n,N,D]);Lu(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[c]);const V=_.useRef(!1);Lu(()=>(V.current=!0,()=>{V.current=!1}),[]),Lu(()=>{if(S&&(C.current=S),w&&(E.current=w),S&&w){if(A.current)return A.current(S,w,I);I()}},[S,w,I,A,O]);const L=_.useMemo(()=>({reference:C,floating:E,setReference:y,setFloating:b}),[y,b]),R=_.useMemo(()=>({reference:S,floating:w}),[S,w]),k=_.useMemo(()=>{const M={position:n,left:0,top:0};if(!R.floating)return M;const B=r1(R.floating,u.x),z=r1(R.floating,u.y);return o?{...M,transform:"translate("+B+"px, "+z+"px)",...xC(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:z}},[n,o,R.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:I,refs:L,elements:R,floatingStyles:k}),[u,I,L,R,k])}const IL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?i1({element:s.current,padding:i}).fn(n):{}:s?i1({element:s,padding:i}).fn(n):{}}}},BL=(t,e)=>({...EL(t),options:[t,e]}),LL=(t,e)=>({...CL(t),options:[t,e]}),jL=(t,e)=>({...RL(t),options:[t,e]}),PL=(t,e)=>({...AL(t),options:[t,e]}),zL=(t,e)=>({...NL(t),options:[t,e]}),UL=(t,e)=>({...ML(t),options:[t,e]}),FL=(t,e)=>({...IL(t),options:[t,e]});var HL="Arrow",SC=_.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...r}=t;return x.jsx(Ee.svg,{...r,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});SC.displayName=HL;var qL=SC,Zy="Popper",[wC,TC]=Jr(Zy),[GL,EC]=wC(Zy),CC=t=>{const{__scopePopper:e,children:n}=t,[s,i]=_.useState(null);return x.jsx(GL,{scope:e,anchor:s,onAnchorChange:i,children:n})};CC.displayName=Zy;var AC="PopperAnchor",NC=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,r=EC(AC,n),a=_.useRef(null),o=Ge(e,a),l=_.useRef(null);return _.useEffect(()=>{const c=l.current;l.current=(s==null?void 0:s.current)||a.current,c!==l.current&&r.onAnchorChange(l.current)}),s?null:x.jsx(Ee.div,{...i,ref:o})});NC.displayName=AC;var Qy="PopperContent",[YL,XL]=wC(Qy),MC=_.forwardRef((t,e)=>{var j,P,le,fe,de,me;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:r="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=t,v=EC(Qy,n),[m,y]=_.useState(null),b=Ge(e,Rt=>y(Rt)),[S,w]=_.useState(null),C=Hy(S),E=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,O=s+(r!=="center"?"-"+r:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],D=N.length>0,I={padding:A,boundary:N.filter(KL),altBoundary:D},{refs:V,floatingStyles:L,placement:R,isPositioned:k,middlewareData:M}=VL({strategy:"fixed",placement:O,whileElementsMounted:(...Rt)=>TL(...Rt,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[BL({mainAxis:i+T,alignmentAxis:a}),l&&LL({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?jL():void 0,...I}),l&&PL({...I}),zL({...I,apply:({elements:Rt,rects:$t,availableWidth:W,availableHeight:te})=>{const{width:Ue,height:q}=$t.reference,Y=Rt.floating.style;Y.setProperty("--radix-popper-available-width",`${W}px`),Y.setProperty("--radix-popper-available-height",`${te}px`),Y.setProperty("--radix-popper-anchor-width",`${Ue}px`),Y.setProperty("--radix-popper-anchor-height",`${q}px`)}}),S&&FL({element:S,padding:o}),ZL({arrowWidth:E,arrowHeight:T}),d&&UL({strategy:"referenceHidden",...I})]}),[B,z]=OC(R),X=tr(p);ln(()=>{k&&(X==null||X())},[k,X]);const ne=(j=M.arrow)==null?void 0:j.x,re=(P=M.arrow)==null?void 0:P.y,ie=((le=M.arrow)==null?void 0:le.centerOffset)!==0,[K,ee]=_.useState();return ln(()=>{m&&ee(window.getComputedStyle(m).zIndex)},[m]),x.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:k?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(fe=M.transformOrigin)==null?void 0:fe.x,(de=M.transformOrigin)==null?void 0:de.y].join(" "),...((me=M.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(YL,{scope:n,placedSide:B,onArrowChange:w,arrowX:ne,arrowY:re,shouldHideArrow:ie,children:x.jsx(Ee.div,{"data-side":B,"data-align":z,...g,ref:b,style:{...g.style,animation:k?void 0:"none"}})})})});MC.displayName=Qy;var RC="PopperArrow",WL={top:"bottom",right:"left",bottom:"top",left:"right"},kC=_.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,r=XL(RC,s),a=WL[r.placedSide];return x.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:x.jsx(qL,{...i,ref:n,style:{...i.style,display:"block"}})})});kC.displayName=RC;function KL(t){return t!==null}var ZL=t=>({name:"transformOrigin",options:t,fn(e){var v,m,y;const{placement:n,rects:s,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=OC(n),h={start:"0%",center:"50%",end:"100%"}[u],d=(((m=i.arrow)==null?void 0:m.x)??0)+o/2,f=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=a?h:`${d}px`,g=`${-l}px`):c==="top"?(p=a?h:`${d}px`,g=`${s.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=a?h:`${f}px`):c==="left"&&(p=`${s.floating.width+l}px`,g=a?h:`${f}px`),{data:{x:p,y:g}}}});function OC(t){const[e,n="center"]=t.split("-");return[e,n]}var QL=CC,$L=NC,JL=MC,ej=kC,cp="rovingFocusGroup.onEntryFocus",tj={bubbles:!1,cancelable:!0},dc="RovingFocusGroup",[Pm,DC,nj]=Uy(dc),[sj,VC]=Jr(dc,[nj]),[ij,rj]=sj(dc),IC=_.forwardRef((t,e)=>x.jsx(Pm.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Pm.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(aj,{...t,ref:e})})}));IC.displayName=dc;var aj=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:r,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,d=_.useRef(null),f=Ge(e,d),p=vd(r),[g,v]=er({prop:a,defaultProp:o??null,onChange:l,caller:dc}),[m,y]=_.useState(!1),b=tr(c),S=DC(n),w=_.useRef(!1),[C,E]=_.useState(0);return _.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(cp,b),()=>T.removeEventListener(cp,b)},[b]),x.jsx(ij,{scope:n,orientation:s,dir:p,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(T=>v(T),[v]),onItemShiftTab:_.useCallback(()=>y(!0),[]),onFocusableItemAdd:_.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:_.useCallback(()=>E(T=>T-1),[]),children:x.jsx(Ee.div,{tabIndex:m||C===0?-1:0,"data-orientation":s,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:Te(t.onMouseDown,()=>{w.current=!0}),onFocus:Te(t.onFocus,T=>{const O=!w.current;if(T.target===T.currentTarget&&O&&!m){const A=new CustomEvent(cp,tj);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=S().filter(R=>R.focusable),D=N.find(R=>R.active),I=N.find(R=>R.id===g),L=[D,I,...N].filter(Boolean).map(R=>R.ref.current);jC(L,u)}}w.current=!1}),onBlur:Te(t.onBlur,()=>y(!1))})})}),BC="RovingFocusGroupItem",LC=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:r,children:a,...o}=t,l=yd(),c=r||l,u=rj(BC,n),h=u.currentTabStopId===c,d=DC(n),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:g}=u;return _.useEffect(()=>{if(s)return f(),()=>p()},[s,f,p]),x.jsx(Pm.ItemSlot,{scope:n,id:c,focusable:s,active:i,children:x.jsx(Ee.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Te(t.onMouseDown,v=>{s?u.onItemFocus(c):v.preventDefault()}),onFocus:Te(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Te(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=cj(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=d().filter(S=>S.focusable).map(S=>S.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const S=b.indexOf(v.currentTarget);b=u.loop?uj(b,S+1):b.slice(S+1)}setTimeout(()=>jC(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});LC.displayName=BC;var oj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lj(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function cj(t,e,n){const s=lj(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return oj[s]}function jC(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function uj(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var hj=IC,dj=LC,fj="Label",PC=_.forwardRef((t,e)=>x.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));PC.displayName=fj;var pj=PC;function Ah(t,[e,n]){return Math.min(n,Math.max(e,t))}var mj=[" ","Enter","ArrowUp","ArrowDown"],gj=[" ","Enter"],Fr="Select",[Td,Ed,yj]=Uy(Fr),[Mo]=Jr(Fr,[yj,TC]),Cd=TC(),[vj,ur]=Mo(Fr),[bj,_j]=Mo(Fr),zC=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:r,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:f,form:p}=t,g=Cd(e),[v,m]=_.useState(null),[y,b]=_.useState(null),[S,w]=_.useState(!1),C=vd(c),[E,T]=er({prop:s,defaultProp:i??!1,onChange:r,caller:Fr}),[O,A]=er({prop:a,defaultProp:o,onChange:l,caller:Fr}),N=_.useRef(null),D=v?p||!!v.closest("form"):!0,[I,V]=_.useState(new Set),L=Array.from(I).map(R=>R.props.value).join(";");return x.jsx(QL,{...g,children:x.jsxs(vj,{required:f,scope:e,trigger:v,onTriggerChange:m,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:yd(),value:O,onValueChange:A,open:E,onOpenChange:T,dir:C,triggerPointerDownPosRef:N,disabled:d,children:[x.jsx(Td.Provider,{scope:e,children:x.jsx(bj,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(R=>{V(k=>new Set(k).add(R))},[]),onNativeOptionRemove:_.useCallback(R=>{V(k=>{const M=new Set(k);return M.delete(R),M})},[]),children:n})}),D?x.jsxs(lA,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:O,onChange:R=>A(R.target.value),disabled:d,form:p,children:[O===void 0?x.jsx("option",{value:""}):null,Array.from(I)]},L):null]})})};zC.displayName=Fr;var UC="SelectTrigger",FC=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,r=Cd(n),a=ur(UC,n),o=a.disabled||s,l=Ge(e,a.onTriggerChange),c=Ed(n),u=_.useRef("touch"),[h,d,f]=uA(g=>{const v=c().filter(b=>!b.disabled),m=v.find(b=>b.value===a.value),y=hA(v,g,m);y!==void 0&&a.onValueChange(y.value)}),p=g=>{o||(a.onOpenChange(!0),f()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return x.jsx($L,{asChild:!0,...r,children:x.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":cA(a.value)?"":void 0,...i,ref:l,onClick:Te(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:Te(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Te(i.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&d(g.key),!(v&&g.key===" ")&&mj.includes(g.key)&&(p(),g.preventDefault())})})})});FC.displayName=UC;var HC="SelectValue",qC=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:r,placeholder:a="",...o}=t,l=ur(HC,n),{onValueNodeHasChildrenChange:c}=l,u=r!==void 0,h=Ge(e,l.onValueNodeChange);return ln(()=>{c(u)},[c,u]),x.jsx(Ee.span,{...o,ref:h,style:{pointerEvents:"none"},children:cA(l.value)?x.jsx(x.Fragment,{children:a}):r})});qC.displayName=HC;var xj="SelectIcon",GC=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return x.jsx(Ee.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});GC.displayName=xj;var Sj="SelectPortal",YC=t=>x.jsx(nC,{asChild:!0,...t});YC.displayName=Sj;var Hr="SelectContent",XC=_.forwardRef((t,e)=>{const n=ur(Hr,t.__scopeSelect),[s,i]=_.useState();if(ln(()=>{i(new DocumentFragment)},[]),!n.open){const r=s;return r?go.createPortal(x.jsx(WC,{scope:t.__scopeSelect,children:x.jsx(Td.Slot,{scope:t.__scopeSelect,children:x.jsx("div",{children:t.children})})}),r):null}return x.jsx(KC,{...t,ref:e})});XC.displayName=Hr;var Wn=10,[WC,hr]=Mo(Hr),wj="SelectContentImpl",Tj=Ul("SelectContent.RemoveScroll"),KC=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:r,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:v,...m}=t,y=ur(Hr,n),[b,S]=_.useState(null),[w,C]=_.useState(null),E=Ge(e,j=>S(j)),[T,O]=_.useState(null),[A,N]=_.useState(null),D=Ed(n),[I,V]=_.useState(!1),L=_.useRef(!1);_.useEffect(()=>{if(b)return kB(b)},[b]),HI();const R=_.useCallback(j=>{const[P,...le]=D().map(me=>me.ref.current),[fe]=le.slice(-1),de=document.activeElement;for(const me of j)if(me===de||(me==null||me.scrollIntoView({block:"nearest"}),me===P&&w&&(w.scrollTop=0),me===fe&&w&&(w.scrollTop=w.scrollHeight),me==null||me.focus(),document.activeElement!==de))return},[D,w]),k=_.useCallback(()=>R([T,b]),[R,T,b]);_.useEffect(()=>{I&&k()},[I,k]);const{onOpenChange:M,triggerPointerDownPosRef:B}=y;_.useEffect(()=>{if(b){let j={x:0,y:0};const P=fe=>{var de,me;j={x:Math.abs(Math.round(fe.pageX)-(((de=B.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((me=B.current)==null?void 0:me.y)??0))}},le=fe=>{j.x<=10&&j.y<=10?fe.preventDefault():b.contains(fe.target)||M(!1),document.removeEventListener("pointermove",P),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",le,{capture:!0})}}},[b,M,B]),_.useEffect(()=>{const j=()=>M(!1);return window.addEventListener("blur",j),window.addEventListener("resize",j),()=>{window.removeEventListener("blur",j),window.removeEventListener("resize",j)}},[M]);const[z,X]=uA(j=>{const P=D().filter(de=>!de.disabled),le=P.find(de=>de.ref.current===document.activeElement),fe=hA(P,j,le);fe&&setTimeout(()=>fe.ref.current.focus())}),ne=_.useCallback((j,P,le)=>{const fe=!L.current&&!le;(y.value!==void 0&&y.value===P||fe)&&(O(j),fe&&(L.current=!0))},[y.value]),re=_.useCallback(()=>b==null?void 0:b.focus(),[b]),ie=_.useCallback((j,P,le)=>{const fe=!L.current&&!le;(y.value!==void 0&&y.value===P||fe)&&N(j)},[y.value]),K=s==="popper"?zm:ZC,ee=K===zm?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return x.jsx(WC,{scope:n,content:b,viewport:w,onViewportChange:C,itemRefCallback:ne,selectedItem:T,onItemLeave:re,itemTextRefCallback:ie,focusSelectedItem:k,selectedItemText:A,position:s,isPositioned:I,searchRef:z,children:x.jsx(cC,{as:Tj,allowPinchZoom:!0,children:x.jsx(eC,{asChild:!0,trapped:y.open,onMountAutoFocus:j=>{j.preventDefault()},onUnmountAutoFocus:Te(i,j=>{var P;(P=y.trigger)==null||P.focus({preventScroll:!0}),j.preventDefault()}),children:x.jsx($E,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:j=>j.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:x.jsx(K,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:j=>j.preventDefault(),...m,...ee,onPlaced:()=>V(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:Te(m.onKeyDown,j=>{const P=j.ctrlKey||j.altKey||j.metaKey;if(j.key==="Tab"&&j.preventDefault(),!P&&j.key.length===1&&X(j.key),["ArrowUp","ArrowDown","Home","End"].includes(j.key)){let fe=D().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(j.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(j.key)){const de=j.target,me=fe.indexOf(de);fe=fe.slice(me+1)}setTimeout(()=>R(fe)),j.preventDefault()}})})})})})})});KC.displayName=wj;var Ej="SelectItemAlignedPosition",ZC=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,r=ur(Hr,n),a=hr(Hr,n),[o,l]=_.useState(null),[c,u]=_.useState(null),h=Ge(e,E=>u(E)),d=Ed(n),f=_.useRef(!1),p=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:m,focusSelectedItem:y}=a,b=_.useCallback(()=>{if(r.trigger&&r.valueNode&&o&&c&&g&&v&&m){const E=r.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),O=r.valueNode.getBoundingClientRect(),A=m.getBoundingClientRect();if(r.dir!=="rtl"){const de=A.left-T.left,me=O.left-de,Rt=E.left-me,$t=E.width+Rt,W=Math.max($t,T.width),te=window.innerWidth-Wn,Ue=Ah(me,[Wn,Math.max(Wn,te-W)]);o.style.minWidth=$t+"px",o.style.left=Ue+"px"}else{const de=T.right-A.right,me=window.innerWidth-O.right-de,Rt=window.innerWidth-E.right-me,$t=E.width+Rt,W=Math.max($t,T.width),te=window.innerWidth-Wn,Ue=Ah(me,[Wn,Math.max(Wn,te-W)]);o.style.minWidth=$t+"px",o.style.right=Ue+"px"}const N=d(),D=window.innerHeight-Wn*2,I=g.scrollHeight,V=window.getComputedStyle(c),L=parseInt(V.borderTopWidth,10),R=parseInt(V.paddingTop,10),k=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),B=L+R+I+M+k,z=Math.min(v.offsetHeight*5,B),X=window.getComputedStyle(g),ne=parseInt(X.paddingTop,10),re=parseInt(X.paddingBottom,10),ie=E.top+E.height/2-Wn,K=D-ie,ee=v.offsetHeight/2,j=v.offsetTop+ee,P=L+R+j,le=B-P;if(P<=ie){const de=N.length>0&&v===N[N.length-1].ref.current;o.style.bottom="0px";const me=c.clientHeight-g.offsetTop-g.offsetHeight,Rt=Math.max(K,ee+(de?re:0)+me+k),$t=P+Rt;o.style.height=$t+"px"}else{const de=N.length>0&&v===N[0].ref.current;o.style.top="0px";const Rt=Math.max(ie,L+g.offsetTop+(de?ne:0)+ee)+le;o.style.height=Rt+"px",g.scrollTop=P-ie+g.offsetTop}o.style.margin=`${Wn}px 0`,o.style.minHeight=z+"px",o.style.maxHeight=D+"px",s==null||s(),requestAnimationFrame(()=>f.current=!0)}},[d,r.trigger,r.valueNode,o,c,g,v,m,r.dir,s]);ln(()=>b(),[b]);const[S,w]=_.useState();ln(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const C=_.useCallback(E=>{E&&p.current===!0&&(b(),y==null||y(),p.current=!1)},[b,y]);return x.jsx(Aj,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:x.jsx(Ee.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ZC.displayName=Ej;var Cj="SelectPopperPosition",zm=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Wn,...r}=t,a=Cd(n);return x.jsx(JL,{...a,...r,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zm.displayName=Cj;var[Aj,$y]=Mo(Hr,{}),Um="SelectViewport",QC=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,r=hr(Um,n),a=$y(Um,n),o=Ge(e,r.onViewportChange),l=_.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),x.jsx(Td.Slot,{scope:n,children:x.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Te(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=a;if(d!=null&&d.current&&h){const f=Math.abs(l.current-u.scrollTop);if(f>0){const p=window.innerHeight-Wn*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),m=Math.max(g,v);if(m<p){const y=m+f,b=Math.min(p,y),S=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});QC.displayName=Um;var $C="SelectGroup",[Nj,Mj]=Mo($C),Rj=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=yd();return x.jsx(Nj,{scope:n,id:i,children:x.jsx(Ee.div,{role:"group","aria-labelledby":i,...s,ref:e})})});Rj.displayName=$C;var JC="SelectLabel",kj=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Mj(JC,n);return x.jsx(Ee.div,{id:i.id,...s,ref:e})});kj.displayName=JC;var Nh="SelectItem",[Oj,eA]=Mo(Nh),tA=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:r,...a}=t,o=ur(Nh,n),l=hr(Nh,n),c=o.value===s,[u,h]=_.useState(r??""),[d,f]=_.useState(!1),p=Ge(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,s,i)}),g=yd(),v=_.useRef("touch"),m=()=>{i||(o.onValueChange(s),o.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(Oj,{scope:n,value:s,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:x.jsx(Td.ItemSlot,{scope:n,value:s,disabled:i,textValue:u,children:x.jsx(Ee.div,{role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:p,onFocus:Te(a.onFocus,()=>f(!0)),onBlur:Te(a.onBlur,()=>f(!1)),onClick:Te(a.onClick,()=>{v.current!=="mouse"&&m()}),onPointerUp:Te(a.onPointerUp,()=>{v.current==="mouse"&&m()}),onPointerDown:Te(a.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:Te(a.onPointerMove,y=>{var b;v.current=y.pointerType,i?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(a.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Te(a.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(gj.includes(y.key)&&m(),y.key===" "&&y.preventDefault())})})})})});tA.displayName=Nh;var nl="SelectItemText",nA=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...r}=t,a=ur(nl,n),o=hr(nl,n),l=eA(nl,n),c=_j(nl,n),[u,h]=_.useState(null),d=Ge(e,m=>h(m),l.onItemTextChange,m=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,m,l.value,l.disabled)}),f=u==null?void 0:u.textContent,p=_.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return ln(()=>(g(p),()=>v(p)),[g,v,p]),x.jsxs(x.Fragment,{children:[x.jsx(Ee.span,{id:l.textId,...r,ref:d}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?go.createPortal(r.children,a.valueNode):null]})});nA.displayName=nl;var sA="SelectItemIndicator",iA=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return eA(sA,n).isSelected?x.jsx(Ee.span,{"aria-hidden":!0,...s,ref:e}):null});iA.displayName=sA;var Fm="SelectScrollUpButton",rA=_.forwardRef((t,e)=>{const n=hr(Fm,t.__scopeSelect),s=$y(Fm,t.__scopeSelect),[i,r]=_.useState(!1),a=Ge(e,s.onScrollButtonChange);return ln(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;r(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?x.jsx(oA,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});rA.displayName=Fm;var Hm="SelectScrollDownButton",aA=_.forwardRef((t,e)=>{const n=hr(Hm,t.__scopeSelect),s=$y(Hm,t.__scopeSelect),[i,r]=_.useState(!1),a=Ge(e,s.onScrollButtonChange);return ln(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;r(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?x.jsx(oA,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});aA.displayName=Hm;var oA=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,r=hr("SelectScrollButton",n),a=_.useRef(null),o=Ed(n),l=_.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),ln(()=>{var u;const c=o().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),x.jsx(Ee.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Te(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:Te(i.onPointerMove,()=>{var c;(c=r.onItemLeave)==null||c.call(r),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:Te(i.onPointerLeave,()=>{l()})})}),Dj="SelectSeparator",Vj=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return x.jsx(Ee.div,{"aria-hidden":!0,...s,ref:e})});Vj.displayName=Dj;var qm="SelectArrow",Ij=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Cd(n),r=ur(qm,n),a=hr(qm,n);return r.open&&a.position==="popper"?x.jsx(ej,{...i,...s,ref:e}):null});Ij.displayName=qm;var Bj="SelectBubbleInput",lA=_.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const i=_.useRef(null),r=Ge(s,i),a=Fy(e);return _.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const h=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(h)}},[a,e]),x.jsx(Ee.select,{...n,style:{...ZE,...n.style},ref:r,defaultValue:e})});lA.displayName=Bj;function cA(t){return t===""||t===void 0}function uA(t){const e=tr(t),n=_.useRef(""),s=_.useRef(0),i=_.useCallback(a=>{const o=n.current+a;e(o),function l(c){n.current=c,window.clearTimeout(s.current),c!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),r=_.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,r]}function hA(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,r=n?t.indexOf(n):-1;let a=Lj(t,Math.max(r,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Lj(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var jj=zC,Pj=FC,zj=qC,Uj=GC,Fj=YC,Hj=XC,qj=QC,Gj=tA,Yj=nA,Xj=iA,Wj=rA,Kj=aA,dA=["PageUp","PageDown"],fA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pA={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ro="Slider",[Gm,Zj,Qj]=Uy(Ro),[mA]=Jr(Ro,[Qj]),[$j,Ad]=mA(Ro),gA=_.forwardRef((t,e)=>{const{name:n,min:s=0,max:i=100,step:r=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[s],value:u,onValueChange:h=()=>{},onValueCommit:d=()=>{},inverted:f=!1,form:p,...g}=t,v=_.useRef(new Set),m=_.useRef(0),b=a==="horizontal"?Jj:e4,[S=[],w]=er({prop:u,defaultProp:c,onChange:N=>{var I;(I=[...v.current][m.current])==null||I.focus(),h(N)}}),C=_.useRef(S);function E(N){const D=r4(S,N);A(N,D)}function T(N){A(N,m.current)}function O(){const N=C.current[m.current];S[m.current]!==N&&d(S)}function A(N,D,{commit:I}={commit:!1}){const V=c4(r),L=u4(Math.round((N-s)/r)*r+s,V),R=Ah(L,[s,i]);w((k=[])=>{const M=s4(k,R,D);if(l4(M,l*r)){m.current=M.indexOf(R);const B=String(M)!==String(k);return B&&I&&d(M),B?M:k}else return k})}return x.jsx($j,{scope:t.__scopeSlider,name:n,disabled:o,min:s,max:i,valueIndexToChangeRef:m,thumbs:v.current,values:S,orientation:a,form:p,children:x.jsx(Gm.Provider,{scope:t.__scopeSlider,children:x.jsx(Gm.Slot,{scope:t.__scopeSlider,children:x.jsx(b,{"aria-disabled":o,"data-disabled":o?"":void 0,...g,ref:e,onPointerDown:Te(g.onPointerDown,()=>{o||(C.current=S)}),min:s,max:i,inverted:f,onSlideStart:o?void 0:E,onSlideMove:o?void 0:T,onSlideEnd:o?void 0:O,onHomeKeyDown:()=>!o&&A(s,0,{commit:!0}),onEndKeyDown:()=>!o&&A(i,S.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:D})=>{if(!o){const L=dA.includes(N.key)||N.shiftKey&&fA.includes(N.key)?10:1,R=m.current,k=S[R],M=r*L*D;A(k+M,R,{commit:!0})}}})})})})});gA.displayName=Ro;var[yA,vA]=mA(Ro,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Jj=_.forwardRef((t,e)=>{const{min:n,max:s,dir:i,inverted:r,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,[h,d]=_.useState(null),f=Ge(e,b=>d(b)),p=_.useRef(void 0),g=vd(i),v=g==="ltr",m=v&&!r||!v&&r;function y(b){const S=p.current||h.getBoundingClientRect(),w=[0,S.width],E=Jy(w,m?[n,s]:[s,n]);return p.current=S,E(b-S.left)}return x.jsx(yA,{scope:t.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:x.jsx(bA,{dir:g,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const S=y(b.clientX);a==null||a(S)},onSlideMove:b=>{const S=y(b.clientX);o==null||o(S)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:b=>{const w=pA[m?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:w?-1:1})}})})}),e4=_.forwardRef((t,e)=>{const{min:n,max:s,inverted:i,onSlideStart:r,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,u=_.useRef(null),h=Ge(e,u),d=_.useRef(void 0),f=!i;function p(g){const v=d.current||u.current.getBoundingClientRect(),m=[0,v.height],b=Jy(m,f?[s,n]:[n,s]);return d.current=v,b(g-v.top)}return x.jsx(yA,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:x.jsx(bA,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=p(g.clientY);r==null||r(v)},onSlideMove:g=>{const v=p(g.clientY);a==null||a(v)},onSlideEnd:()=>{d.current=void 0,o==null||o()},onStepKeyDown:g=>{const m=pA[f?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:m?-1:1})}})})}),bA=_.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:i,onSlideEnd:r,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,u=Ad(Ro,n);return x.jsx(Ee.span,{...c,ref:e,onKeyDown:Te(t.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):dA.concat(fA).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Te(t.onPointerDown,h=>{const d=h.target;d.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(d)?d.focus():s(h)}),onPointerMove:Te(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Te(t.onPointerUp,h=>{const d=h.target;d.hasPointerCapture(h.pointerId)&&(d.releasePointerCapture(h.pointerId),r(h))})})}),_A="SliderTrack",xA=_.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,i=Ad(_A,n);return x.jsx(Ee.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:e})});xA.displayName=_A;var Ym="SliderRange",SA=_.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,i=Ad(Ym,n),r=vA(Ym,n),a=_.useRef(null),o=Ge(e,a),l=i.values.length,c=i.values.map(d=>EA(d,i.min,i.max)),u=l>1?Math.min(...c):0,h=100-Math.max(...c);return x.jsx(Ee.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:o,style:{...t.style,[r.startEdge]:u+"%",[r.endEdge]:h+"%"}})});SA.displayName=Ym;var Xm="SliderThumb",wA=_.forwardRef((t,e)=>{const n=Zj(t.__scopeSlider),[s,i]=_.useState(null),r=Ge(e,o=>i(o)),a=_.useMemo(()=>s?n().findIndex(o=>o.ref.current===s):-1,[n,s]);return x.jsx(t4,{...t,ref:r,index:a})}),t4=_.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:i,...r}=t,a=Ad(Xm,n),o=vA(Xm,n),[l,c]=_.useState(null),u=Ge(e,y=>c(y)),h=l?a.form||!!l.closest("form"):!0,d=Hy(l),f=a.values[s],p=f===void 0?0:EA(f,a.min,a.max),g=i4(s,a.values.length),v=d==null?void 0:d[o.size],m=v?a4(v,p,o.direction):0;return _.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),x.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${p}% + ${m}px)`},children:[x.jsx(Gm.ItemSlot,{scope:t.__scopeSlider,children:x.jsx(Ee.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":f,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...r,ref:u,style:f===void 0?{display:"none"}:t.style,onFocus:Te(t.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),h&&x.jsx(TA,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:f},s)]})});wA.displayName=Xm;var n4="RadioBubbleInput",TA=_.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const i=_.useRef(null),r=Ge(i,s),a=Fy(e);return _.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const h=new Event("input",{bubbles:!0});u.call(o,e),o.dispatchEvent(h)}},[a,e]),x.jsx(Ee.input,{style:{display:"none"},...n,ref:r,defaultValue:e})});TA.displayName=n4;function s4(t=[],e,n){const s=[...t];return s[n]=e,s.sort((i,r)=>i-r)}function EA(t,e,n){const r=100/(n-e)*(t-e);return Ah(r,[0,100])}function i4(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function r4(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),s=Math.min(...n);return n.indexOf(s)}function a4(t,e,n){const s=t/2,r=Jy([0,50],[0,s]);return(s-r(e)*n)*n}function o4(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function l4(t,e){if(e>0){const n=o4(t);return Math.min(...n)>=e}return!0}function Jy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function c4(t){return(String(t).split(".")[1]||"").length}function u4(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var h4=gA,d4=xA,f4=SA,p4=wA,Nd="Switch",[m4]=Jr(Nd),[g4,y4]=m4(Nd),CA=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:r,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...h}=t,[d,f]=_.useState(null),p=Ge(e,b=>f(b)),g=_.useRef(!1),v=d?u||!!d.closest("form"):!0,[m,y]=er({prop:i,defaultProp:r??!1,onChange:c,caller:Nd});return x.jsxs(g4,{scope:n,checked:m,disabled:o,children:[x.jsx(Ee.button,{type:"button",role:"switch","aria-checked":m,"aria-required":a,"data-state":RA(m),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:p,onClick:Te(t.onClick,b=>{y(S=>!S),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&x.jsx(MA,{control:d,bubbles:!g.current,name:s,value:l,checked:m,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});CA.displayName=Nd;var AA="SwitchThumb",NA=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=y4(AA,n);return x.jsx(Ee.span,{"data-state":RA(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});NA.displayName=AA;var v4="SwitchBubbleInput",MA=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...i},r)=>{const a=_.useRef(null),o=Ge(a,r),l=Fy(n),c=Hy(e);return _.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&f){const p=new Event("click",{bubbles:s});f.call(u,n),u.dispatchEvent(p)}},[l,n,s]),x.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MA.displayName=v4;function RA(t){return t?"checked":"unchecked"}var b4=CA,_4=NA,kA="Toggle",OA=_.forwardRef((t,e)=>{const{pressed:n,defaultPressed:s,onPressedChange:i,...r}=t,[a,o]=er({prop:n,onChange:i,defaultProp:s??!1,caller:kA});return x.jsx(Ee.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":t.disabled?"":void 0,...r,ref:e,onClick:Te(t.onClick,()=>{t.disabled||o(!a)})})});OA.displayName=kA;var dr="ToggleGroup",[DA]=Jr(dr,[VC]),VA=VC(),ev=_t.forwardRef((t,e)=>{const{type:n,...s}=t;if(n==="single"){const i=s;return x.jsx(x4,{...i,ref:e})}if(n==="multiple"){const i=s;return x.jsx(S4,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${dr}\``)});ev.displayName=dr;var[IA,BA]=DA(dr),x4=_t.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:i=()=>{},...r}=t,[a,o]=er({prop:n,defaultProp:s??"",onChange:i,caller:dr});return x.jsx(IA,{scope:t.__scopeToggleGroup,type:"single",value:_t.useMemo(()=>a?[a]:[],[a]),onItemActivate:o,onItemDeactivate:_t.useCallback(()=>o(""),[o]),children:x.jsx(LA,{...r,ref:e})})}),S4=_t.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:i=()=>{},...r}=t,[a,o]=er({prop:n,defaultProp:s??[],onChange:i,caller:dr}),l=_t.useCallback(u=>o((h=[])=>[...h,u]),[o]),c=_t.useCallback(u=>o((h=[])=>h.filter(d=>d!==u)),[o]);return x.jsx(IA,{scope:t.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:l,onItemDeactivate:c,children:x.jsx(LA,{...r,ref:e})})});ev.displayName=dr;var[w4,T4]=DA(dr),LA=_t.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:s=!1,rovingFocus:i=!0,orientation:r,dir:a,loop:o=!0,...l}=t,c=VA(n),u=vd(a),h={role:"group",dir:u,...l};return x.jsx(w4,{scope:n,rovingFocus:i,disabled:s,children:i?x.jsx(hj,{asChild:!0,...c,orientation:r,dir:u,loop:o,children:x.jsx(Ee.div,{...h,ref:e})}):x.jsx(Ee.div,{...h,ref:e})})}),Mh="ToggleGroupItem",jA=_t.forwardRef((t,e)=>{const n=BA(Mh,t.__scopeToggleGroup),s=T4(Mh,t.__scopeToggleGroup),i=VA(t.__scopeToggleGroup),r=n.value.includes(t.value),a=s.disabled||t.disabled,o={...t,pressed:r,disabled:a},l=_t.useRef(null);return s.rovingFocus?x.jsx(dj,{asChild:!0,...i,focusable:!a,active:r,ref:l,children:x.jsx(a1,{...o,ref:e})}):x.jsx(a1,{...o,ref:e})});jA.displayName=Mh;var a1=_t.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:s,...i}=t,r=BA(Mh,n),a={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},o=r.type==="single"?a:void 0;return x.jsx(OA,{...o,...i,ref:e,onPressedChange:l=>{l?r.onItemActivate(s):r.onItemDeactivate(s)}})}),E4=ev,C4=jA;function PA(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PA(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function zA(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PA(t))&&(s&&(s+=" "),s+=e);return s}const A4=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},N4=(t,e)=>({classGroupId:t,validator:e}),UA=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Rh="-",o1=[],M4="arbitrary..",R4=t=>{const e=O4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return k4(a);const o=a.split(Rh),l=o[0]===""&&o.length>1?1:0;return FA(o,l,e)},getConflictingClassGroupIds:(a,o)=>{if(o){const l=s[a],c=n[a];return l?c?A4(c,l):l:c||o1}return n[a]||o1}}},FA=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],r=n.nextPart.get(i);if(r){const c=FA(t,e+1,r);if(c)return c}const a=n.validators;if(a===null)return;const o=e===0?t.join(Rh):t.slice(e).join(Rh),l=a.length;for(let c=0;c<l;c++){const u=a[c];if(u.validator(o))return u.classGroupId}},k4=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?M4+s:void 0})(),O4=t=>{const{theme:e,classGroups:n}=t;return D4(n,e)},D4=(t,e)=>{const n=UA();for(const s in t){const i=t[s];tv(i,n,s,e)}return n},tv=(t,e,n,s)=>{const i=t.length;for(let r=0;r<i;r++){const a=t[r];V4(a,e,n,s)}},V4=(t,e,n,s)=>{if(typeof t=="string"){I4(t,e,n);return}if(typeof t=="function"){B4(t,e,n,s);return}L4(t,e,n,s)},I4=(t,e,n)=>{const s=t===""?e:HA(e,t);s.classGroupId=n},B4=(t,e,n,s)=>{if(j4(t)){tv(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(N4(n,t))},L4=(t,e,n,s)=>{const i=Object.entries(t),r=i.length;for(let a=0;a<r;a++){const[o,l]=i[a];tv(l,HA(e,o),n,s)}},HA=(t,e)=>{let n=t;const s=e.split(Rh),i=s.length;for(let r=0;r<i;r++){const a=s[r];let o=n.nextPart.get(a);o||(o=UA(),n.nextPart.set(a,o)),n=o}return n},j4=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,P4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const i=(r,a)=>{n[r]=a,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(r){let a=n[r];if(a!==void 0)return a;if((a=s[r])!==void 0)return i(r,a),a},set(r,a){r in n?n[r]=a:i(r,a)}}},Wm="!",l1=":",z4=[],c1=(t,e,n,s,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:i}),U4=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const r=[];let a=0,o=0,l=0,c;const u=i.length;for(let g=0;g<u;g++){const v=i[g];if(a===0&&o===0){if(v===l1){r.push(i.slice(l,g)),l=g+1;continue}if(v==="/"){c=g;continue}}v==="["?a++:v==="]"?a--:v==="("?o++:v===")"&&o--}const h=r.length===0?i:i.slice(l);let d=h,f=!1;h.endsWith(Wm)?(d=h.slice(0,-1),f=!0):h.startsWith(Wm)&&(d=h.slice(1),f=!0);const p=c&&c>l?c-l:void 0;return c1(r,f,d,p)};if(e){const i=e+l1,r=s;s=a=>a.startsWith(i)?r(a.slice(i.length)):c1(z4,!1,a,void 0,!0)}if(n){const i=s;s=r=>n({className:r,parseClassName:i})}return s},F4=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let i=[];for(let r=0;r<n.length;r++){const a=n[r],o=a[0]==="[",l=e.has(a);o||l?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(a)):i.push(a)}return i.length>0&&(i.sort(),s.push(...i)),s}},H4=t=>({cache:P4(t.cacheSize),parseClassName:U4(t),sortModifiers:F4(t),...R4(t)}),q4=/\s+/,G4=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:r}=e,a=[],o=t.trim().split(q4);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:h,modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);if(h){l=u+(l.length>0?" "+l:l);continue}let v=!!g,m=s(v?p.substring(0,g):p);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=s(p),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=d.length===0?"":d.length===1?d[0]:r(d).join(":"),b=f?y+Wm:y,S=b+m;if(a.indexOf(S)>-1)continue;a.push(S);const w=i(m,v);for(let C=0;C<w.length;++C){const E=w[C];a.push(b+E)}l=u+(l.length>0?" "+l:l)}return l},Y4=(...t)=>{let e=0,n,s,i="";for(;e<t.length;)(n=t[e++])&&(s=qA(n))&&(i&&(i+=" "),i+=s);return i},qA=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=qA(t[s]))&&(n&&(n+=" "),n+=e);return n},X4=(t,...e)=>{let n,s,i,r;const a=l=>{const c=e.reduce((u,h)=>h(u),t());return n=H4(c),s=n.cache.get,i=n.cache.set,r=o,o(l)},o=l=>{const c=s(l);if(c)return c;const u=G4(l,n);return i(l,u),u};return r=a,(...l)=>r(Y4(...l))},W4=[],vt=t=>{const e=n=>n[t]||W4;return e.isThemeGetter=!0,e},GA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,K4=/^\d+\/\d+$/,Z4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,J4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ua=t=>K4.test(t),ye=t=>!!t&&!Number.isNaN(Number(t)),gi=t=>!!t&&Number.isInteger(Number(t)),up=t=>t.endsWith("%")&&ye(t.slice(0,-1)),Ps=t=>Z4.test(t),tP=()=>!0,nP=t=>Q4.test(t)&&!$4.test(t),XA=()=>!1,sP=t=>J4.test(t),iP=t=>eP.test(t),rP=t=>!Z(t)&&!Q(t),aP=t=>ko(t,ZA,XA),Z=t=>GA.test(t),vr=t=>ko(t,QA,nP),hp=t=>ko(t,hP,ye),u1=t=>ko(t,WA,XA),oP=t=>ko(t,KA,iP),ru=t=>ko(t,$A,sP),Q=t=>YA.test(t),Wo=t=>Oo(t,QA),lP=t=>Oo(t,dP),h1=t=>Oo(t,WA),cP=t=>Oo(t,ZA),uP=t=>Oo(t,KA),au=t=>Oo(t,$A,!0),ko=(t,e,n)=>{const s=GA.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Oo=(t,e,n=!1)=>{const s=YA.exec(t);return s?s[1]?e(s[1]):n:!1},WA=t=>t==="position"||t==="percentage",KA=t=>t==="image"||t==="url",ZA=t=>t==="length"||t==="size"||t==="bg-size",QA=t=>t==="length",hP=t=>t==="number",dP=t=>t==="family-name",$A=t=>t==="shadow",fP=()=>{const t=vt("color"),e=vt("font"),n=vt("text"),s=vt("font-weight"),i=vt("tracking"),r=vt("leading"),a=vt("breakpoint"),o=vt("container"),l=vt("spacing"),c=vt("radius"),u=vt("shadow"),h=vt("inset-shadow"),d=vt("text-shadow"),f=vt("drop-shadow"),p=vt("blur"),g=vt("perspective"),v=vt("aspect"),m=vt("ease"),y=vt("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...S(),Q,Z],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],T=()=>[Q,Z,l],O=()=>[ua,"full","auto",...T()],A=()=>[gi,"none","subgrid",Q,Z],N=()=>["auto",{span:["full",gi,Q,Z]},gi,Q,Z],D=()=>[gi,"auto",Q,Z],I=()=>["auto","min","max","fr",Q,Z],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...T()],k=()=>[ua,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],M=()=>[t,Q,Z],B=()=>[...S(),h1,u1,{position:[Q,Z]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",cP,aP,{size:[Q,Z]}],ne=()=>[up,Wo,vr],re=()=>["","none","full",c,Q,Z],ie=()=>["",ye,Wo,vr],K=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>[ye,up,h1,u1],P=()=>["","none",p,Q,Z],le=()=>["none",ye,Q,Z],fe=()=>["none",ye,Q,Z],de=()=>[ye,Q,Z],me=()=>[ua,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ps],breakpoint:[Ps],color:[tP],container:[Ps],"drop-shadow":[Ps],ease:["in","out","in-out"],font:[rP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ps],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ps],shadow:[Ps],spacing:["px",ye],text:[Ps],"text-shadow":[Ps],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ua,Z,Q,v]}],container:["container"],columns:[{columns:[ye,Z,Q,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[gi,"auto",Q,Z]}],basis:[{basis:[ua,"full","auto",o,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ye,ua,"auto","initial","none",Z]}],grow:[{grow:["",ye,Q,Z]}],shrink:[{shrink:["",ye,Q,Z]}],order:[{order:[gi,"first","last","none",Q,Z]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[o,"screen",...k()]}],"min-w":[{"min-w":[o,"screen","none",...k()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...k()]}],h:[{h:["screen","lh",...k()]}],"min-h":[{"min-h":["screen","lh","none",...k()]}],"max-h":[{"max-h":["screen","lh",...k()]}],"font-size":[{text:["base",n,Wo,vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Q,hp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",up,Z]}],"font-family":[{font:[lP,Z,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Q,Z]}],"line-clamp":[{"line-clamp":[ye,"none",Q,hp]}],leading:[{leading:[r,...T()]}],"list-image":[{"list-image":["none",Q,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Q,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:[ye,"from-font","auto",Q,vr]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[ye,"auto",Q,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gi,Q,Z],radial:["",Q,Z],conic:[gi,Q,Z]},uP,oP]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...K(),"hidden","none"]}],"divide-style":[{divide:[...K(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...K(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ye,Q,Z]}],"outline-w":[{outline:["",ye,Wo,vr]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",u,au,ru]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",h,au,ru]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[ye,vr]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",d,au,ru]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[ye,Q,Z]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":j()}],"mask-image-linear-to-pos":[{"mask-linear-to":j()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":j()}],"mask-image-t-to-pos":[{"mask-t-to":j()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":j()}],"mask-image-r-to-pos":[{"mask-r-to":j()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":j()}],"mask-image-b-to-pos":[{"mask-b-to":j()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":j()}],"mask-image-l-to-pos":[{"mask-l-to":j()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":j()}],"mask-image-x-to-pos":[{"mask-x-to":j()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":j()}],"mask-image-y-to-pos":[{"mask-y-to":j()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Q,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":j()}],"mask-image-radial-to-pos":[{"mask-radial-to":j()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":j()}],"mask-image-conic-to-pos":[{"mask-conic-to":j()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Q,Z]}],filter:[{filter:["","none",Q,Z]}],blur:[{blur:P()}],brightness:[{brightness:[ye,Q,Z]}],contrast:[{contrast:[ye,Q,Z]}],"drop-shadow":[{"drop-shadow":["","none",f,au,ru]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",ye,Q,Z]}],"hue-rotate":[{"hue-rotate":[ye,Q,Z]}],invert:[{invert:["",ye,Q,Z]}],saturate:[{saturate:[ye,Q,Z]}],sepia:[{sepia:["",ye,Q,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",Q,Z]}],"backdrop-blur":[{"backdrop-blur":P()}],"backdrop-brightness":[{"backdrop-brightness":[ye,Q,Z]}],"backdrop-contrast":[{"backdrop-contrast":[ye,Q,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ye,Q,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ye,Q,Z]}],"backdrop-invert":[{"backdrop-invert":["",ye,Q,Z]}],"backdrop-opacity":[{"backdrop-opacity":[ye,Q,Z]}],"backdrop-saturate":[{"backdrop-saturate":[ye,Q,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",ye,Q,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Q,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ye,"initial",Q,Z]}],ease:[{ease:["linear","initial",m,Q,Z]}],delay:[{delay:[ye,Q,Z]}],animate:[{animate:["none",y,Q,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Q,Z]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[Q,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q,Z]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[ye,Wo,vr,hp]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pP=X4(fP);function Ne(...t){return pP(zA(t))}function fc({...t}){return x.jsx(jj,{"data-slot":"select",...t})}function pc({...t}){return x.jsx(zj,{"data-slot":"select-value",...t})}function mc({className:t,size:e="default",children:n,...s}){return x.jsxs(Pj,{"data-slot":"select-trigger","data-size":e,className:Ne("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,x.jsx(Uj,{asChild:!0,children:x.jsx(FE,{className:"size-4 opacity-50"})})]})}function gc({className:t,children:e,position:n="item-aligned",align:s="center",...i}){return x.jsx(Fj,{children:x.jsxs(Hj,{"data-slot":"select-content",className:Ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,align:s,...i,children:[x.jsx(mP,{}),x.jsx(qj,{className:Ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),x.jsx(gP,{})]})})}function qr({className:t,children:e,...n}){return x.jsxs(Gj,{"data-slot":"select-item",className:Ne("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[x.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:x.jsx(Xj,{children:x.jsx(xV,{className:"size-4"})})}),x.jsx(Yj,{children:e})]})}function mP({className:t,...e}){return x.jsx(Wj,{"data-slot":"select-scroll-up-button",className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(TV,{className:"size-4"})})}function gP({className:t,...e}){return x.jsx(Kj,{"data-slot":"select-scroll-down-button",className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(FE,{className:"size-4"})})}function yP({devices:t,activeDeviceId:e,onSelect:n}){return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(nI,{className:"size-4 text-muted-foreground"}),x.jsxs(fc,{value:e??"",onValueChange:n,children:[x.jsx(mc,{size:"sm",className:"w-[180px]",children:x.jsx(pc,{placeholder:"No MIDI device"})}),x.jsx(gc,{children:t.length===0?x.jsx(qr,{value:"none",disabled:!0,children:"No devices found"}):t.map(s=>x.jsx(qr,{value:s.id,children:s.name},s.id))})]}),x.jsx("div",{className:"size-2 rounded-full transition-colors",style:{backgroundColor:e?"oklch(0.65 0.20 155)":"var(--muted-foreground)",opacity:e?1:.3,boxShadow:e?"0 0 6px 1px oklch(0.65 0.20 155 / 0.5)":"none"}})]})}const vP=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function ir(t){const e=Math.floor(t/12)-1;return`${vP[t%12]}${e}`}function Hl(t){const e=t%12;return e===1||e===3||e===6||e===8||e===10}function bP(t){return Math.max(0,Math.min(1,t/127))}function _P({activeNotes:t}){const e=Array.from(t.keys()).sort((n,s)=>n-s).map(ir);return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-muted-foreground text-[11px] font-semibold uppercase tracking-wider",children:"Notes"}),x.jsx("div",{className:"flex min-w-[120px] items-center gap-1.5 rounded-md bg-secondary/50 px-3 py-1.5",children:e.length>0?e.map((n,s)=>x.jsx("span",{className:"animate-note-pop rounded bg-primary/20 px-1.5 py-0.5 font-mono text-xs font-semibold text-primary",children:n},s)):x.jsx("span",{className:"text-muted-foreground/50 font-mono text-xs",children:"---"})})]})}function Md({className:t,defaultValue:e,value:n,min:s=0,max:i=100,...r}){const a=_.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[s,i],[n,e,s,i]);return x.jsxs(h4,{"data-slot":"slider",defaultValue:e,value:n,min:s,max:i,className:Ne("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...r,children:[x.jsx(d4,{"data-slot":"slider-track",className:Ne("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:x.jsx(f4,{"data-slot":"slider-range",className:Ne("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(o,l)=>x.jsx(p4,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}const $n=[{name:"Classic",oscillator:{type:"triangle"},envelope:{attack:.01,decay:.3,sustain:.4,release:.8}},{name:"Bright",oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.2,sustain:.3,release:.5}},{name:"FM",oscillator:{type:"fmsquare",modulationType:"sine",modulationIndex:3,harmonicity:2},envelope:{attack:.01,decay:.4,sustain:.2,release:.6}},{name:"Warm",oscillator:{type:"sine"},envelope:{attack:.05,decay:.5,sustain:.6,release:1.2}},{name:"AM",oscillator:{type:"amsquare",modulationType:"sine",harmonicity:1.5},envelope:{attack:.01,decay:.3,sustain:.35,release:.7}}],ql=36,xP=84,JA=-12,Km=-40,eN=0,nv=16,SP=/mpk\s*mini/i,wP=[{cc:1,effect:"filterCutoff",label:"Filter"},{cc:2,effect:"filterResonance",label:"Resonance"},{cc:3,effect:"reverbWet",label:"Reverb"},{cc:4,effect:"chorusDepth",label:"Chorus"},{cc:70,effect:"filterCutoff",label:"Filter"},{cc:71,effect:"filterResonance",label:"Resonance"},{cc:72,effect:"reverbWet",label:"Reverb"},{cc:73,effect:"chorusDepth",label:"Chorus"}],TP=[5,74],Rd=[{id:0,name:"Kick",shortName:"KCK",midiNote:36,color:"oklch(0.62 0.22 25)"},{id:1,name:"Snare",shortName:"SNR",midiNote:38,color:"oklch(0.70 0.18 65)"},{id:2,name:"Closed HH",shortName:"CHH",midiNote:42,color:"oklch(0.70 0.20 150)"},{id:3,name:"Open HH",shortName:"OHH",midiNote:46,color:"oklch(0.65 0.18 180)"},{id:4,name:"Clap",shortName:"CLP",midiNote:39,color:"oklch(0.62 0.22 310)"},{id:5,name:"Tom",shortName:"TOM",midiNote:45,color:"oklch(0.65 0.20 265)"},{id:6,name:"Crash",shortName:"CRS",midiNote:49,color:"oklch(0.75 0.17 90)"},{id:7,name:"Ride",shortName:"RDE",midiNote:51,color:"oklch(0.65 0.18 210)"}],Zm=new Map(Rd.map(t=>[t.midiNote,t.id])),EP=10,tN=120,CP=40,AP=240,d1="micro-daw-arrangement",f1=["oklch(0.65 0.20 250)","oklch(0.65 0.20 155)","oklch(0.62 0.22 25)","oklch(0.70 0.18 65)","oklch(0.62 0.22 310)","oklch(0.75 0.17 90)","oklch(0.62 0.16 195)","oklch(0.65 0.20 345)"],NP=30,sv=10,iv=80,nN=[.25,.5,1,2,4],p1=64;function MP({volume:t,onChange:e}){return x.jsxs("div",{className:"flex items-center gap-2",children:[t<=Km?x.jsx(XE,{className:"size-4 text-muted-foreground"}):x.jsx(YE,{className:"size-4 text-muted-foreground"}),x.jsx(Md,{value:[t],onValueChange:([n])=>e(n),min:Km,max:eN,step:1,className:"w-28"}),x.jsxs("span",{className:"whitespace-nowrap text-right font-mono text-xs text-muted-foreground",children:[t," dB"]})]})}function RP({presetIndex:t,onChange:e}){return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-muted-foreground text-[11px] font-semibold uppercase tracking-wider",children:"Synth"}),x.jsxs(fc,{value:String(t),onValueChange:n=>e(Number(n)),children:[x.jsx(mc,{size:"sm",className:"w-[130px]",children:x.jsx(pc,{})}),x.jsx(gc,{children:$n.map((n,s)=>x.jsx(qr,{value:String(s),children:n.name},s))})]})]})}const m1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,g1=zA,rv=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return g1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:r}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=r==null?void 0:r[c];if(u===null)return null;const d=m1(u)||m1(h);return i[c][d]}),o=n&&Object.entries(n).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:h,className:d,...f}=u;return Object.entries(f).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...r,...o}[g]):{...r,...o}[g]===v})?[...c,h,d]:c},[]);return g1(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},kP=rv("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function kh({className:t,variant:e="default",asChild:n=!1,...s}){const i=n?KE:"span";return x.jsx(i,{"data-slot":"badge","data-variant":e,className:Ne(kP({variant:e}),t),...s})}function OP({chord:t}){return x.jsx(kh,{variant:t?"default":"secondary",className:"min-w-[48px] justify-center font-mono text-xs",children:t?t.display:"---"})}const DP=rv("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),sN=_.createContext({size:"default",variant:"default",spacing:0});function VP({className:t,variant:e,size:n,spacing:s=0,children:i,...r}){return x.jsx(E4,{"data-slot":"toggle-group","data-variant":e,"data-size":n,"data-spacing":s,style:{"--gap":s},className:Ne("group/toggle-group flex w-fit items-center gap-[--spacing(var(--gap))] rounded-md data-[spacing=default]:data-[variant=outline]:shadow-xs",t),...r,children:x.jsx(sN.Provider,{value:{variant:e,size:n,spacing:s},children:i})})}function dp({className:t,children:e,variant:n,size:s,...i}){const r=_.useContext(sN);return x.jsx(C4,{"data-slot":"toggle-group-item","data-variant":r.variant||n,"data-size":r.size||s,"data-spacing":r.spacing,className:Ne(DP({variant:r.variant||n,size:r.size||s}),"w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10","data-[spacing=0]:rounded-none data-[spacing=0]:shadow-none data-[spacing=0]:first:rounded-l-md data-[spacing=0]:last:rounded-r-md data-[spacing=0]:data-[variant=outline]:border-l-0 data-[spacing=0]:data-[variant=outline]:first:border-l",t),...i,children:e})}function IP({mode:t,onChange:e}){return x.jsxs(VP,{type:"single",value:t,onValueChange:n=>{n&&e(n)},size:"sm",className:"gap-0",children:[x.jsx(dp,{value:"auto",className:"rounded-r-none text-[11px] font-semibold px-2 h-7",children:"Auto"}),x.jsx(dp,{value:"keys",className:"rounded-none text-[11px] font-semibold px-2 h-7",children:"Keys"}),x.jsx(dp,{value:"split",className:"rounded-l-none text-[11px] font-semibold px-2 h-7",children:"Split"})]})}const BP=rv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function et({className:t,variant:e="default",size:n="default",asChild:s=!1,...i}){const r=s?KE:"button";return x.jsx(r,{"data-slot":"button","data-variant":e,"data-size":n,className:Ne(BP({variant:e,size:n,className:t})),...i})}function LP({devices:t,activeDeviceId:e,onSelectDevice:n,activeNotes:s,volume:i,onVolumeChange:r,presetIndex:a,onPresetChange:o,detectedChord:l,routingMode:c,onRoutingModeChange:u,canUndo:h,canRedo:d,onUndo:f,onRedo:p}){const[g,v]=_.useState(!1);_.useEffect(()=>{if(window.electronAPI)return window.electronAPI.isFullscreen().then(v),window.electronAPI.onFullscreenChanged(v)},[]);const m=_.useCallback(()=>{var y;(y=window.electronAPI)==null||y.toggleFullscreen()},[]);return x.jsxs("div",{className:"flex items-center justify-between border-b border-border bg-card/80 backdrop-blur-md pl-20 pr-4 py-2",style:{WebkitAppRegion:"drag"},children:[x.jsxs("div",{className:"flex items-center gap-4",style:{WebkitAppRegion:"no-drag"},children:[x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx(et,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",disabled:!h,onClick:f,title:"Undo (Ctrl+Z)",children:x.jsx(GE,{className:"h-3.5 w-3.5"})}),x.jsx(et,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",disabled:!d,onClick:p,title:"Redo (Ctrl+Shift+Z)",children:x.jsx(qE,{className:"h-3.5 w-3.5"})})]}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsx(yP,{devices:t,activeDeviceId:e,onSelect:n}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsx(OP,{chord:l})]}),x.jsxs("div",{className:"flex items-center gap-4",style:{WebkitAppRegion:"no-drag"},children:[x.jsx(_P,{activeNotes:s}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsx(IP,{mode:c,onChange:u}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsx(RP,{presetIndex:a,onChange:o}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsx(MP,{volume:i,onChange:r}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsx(et,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:m,title:g?"Exit Fullscreen":"Fullscreen",children:g?x.jsx(LV,{className:"h-3.5 w-3.5"}):x.jsx(IV,{className:"h-3.5 w-3.5"})})]})]})}function jP({className:t,...e}){return x.jsx("div",{"data-slot":"card",className:Ne("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}const iN="15.1.22",y1=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),v1=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Qm=(t,e)=>({startTime:e,type:"setValue",value:t}),rN=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),aN=(t,e,{startTime:n,target:s,timeConstant:i})=>s+(e-s)*Math.exp((n-t)/i),Va=t=>t.type==="exponentialRampToValue",Oh=t=>t.type==="linearRampToValue",wi=t=>Va(t)||Oh(t),av=t=>t.type==="setValue",Fs=t=>t.type==="setValueCurve",Dh=(t,e,n,s)=>{const i=t[e];return i===void 0?s:wi(i)||av(i)?i.value:Fs(i)?i.values[i.values.length-1]:aN(n,Dh(t,e-1,i.startTime,s),i)},b1=(t,e,n,s,i)=>n===void 0?[s.insertTime,i]:wi(n)?[n.endTime,n.value]:av(n)?[n.startTime,n.value]:Fs(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Dh(t,e-1,n.startTime,i)],$m=t=>t.type==="cancelAndHold",Jm=t=>t.type==="cancelScheduledValues",yi=t=>$m(t)||Jm(t)?t.cancelTime:Va(t)||Oh(t)?t.endTime:t.startTime,_1=(t,e,n,{endTime:s,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((t-e)/(s-e)):0,x1=(t,e,n,{endTime:s,value:i})=>n+(t-e)/(s-e)*(i-n),PP=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},zP=(t,{duration:e,startTime:n,values:s})=>{const i=(t-n)/e*(s.length-1);return PP(s,i)},ou=t=>t.type==="setTarget";class UP{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=yi(e);if($m(e)||Jm(e)){const s=this._automationEvents.findIndex(r=>Jm(e)&&Fs(r)?r.startTime+r.duration>=n:yi(r)>=n),i=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),$m(e)){const r=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&wi(i)){if(r!==void 0&&ou(r))throw new Error("The internal list is malformed.");const a=r===void 0?i.insertTime:Fs(r)?r.startTime+r.duration:yi(r),o=r===void 0?this._defaultValue:Fs(r)?r.values[r.values.length-1]:r.value,l=Va(i)?_1(n,a,o,i):x1(n,a,o,i),c=Va(i)?y1(l,n,this._currenTime):v1(l,n,this._currenTime);this._automationEvents.push(c)}if(r!==void 0&&ou(r)&&this._automationEvents.push(Qm(this.getValue(n),n)),r!==void 0&&Fs(r)&&r.startTime+r.duration>n){const a=n-r.startTime,o=(r.values.length-1)/r.duration,l=Math.max(2,1+Math.ceil(a*o)),c=a/(l-1)*o,u=r.values.slice(0,l);if(c<1)for(let h=1;h<l;h+=1){const d=c*h%1;u[h]=r.values[h-1]*(1-d)+r.values[h]*d}this._automationEvents[this._automationEvents.length-1]=rN(u,r.startTime,a)}}}else{const s=this._automationEvents.findIndex(a=>yi(a)>n),i=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(i!==void 0&&Fs(i)&&yi(i)+i.duration>n)return!1;const r=Va(e)?y1(e.value,e.endTime,this._currenTime):Oh(e)?v1(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(r);else{if(Fs(e)&&n+e.duration>yi(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,r)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>yi(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),i=s[0];ou(i)&&s.unshift(Qm(Dh(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>yi(a)>e),s=this._automationEvents[n],i=(n===-1?this._automationEvents.length:n)-1,r=this._automationEvents[i];if(r!==void 0&&ou(r)&&(s===void 0||!wi(s)||s.insertTime>e))return aN(e,Dh(this._automationEvents,i-1,r.startTime,this._defaultValue),r);if(r!==void 0&&av(r)&&(s===void 0||!wi(s)))return r.value;if(r!==void 0&&Fs(r)&&(s===void 0||!wi(s)||r.startTime+r.duration>e))return e<r.startTime+r.duration?zP(e,r):r.values[r.values.length-1];if(r!==void 0&&wi(r)&&(s===void 0||!wi(s)))return r.value;if(s!==void 0&&Va(s)){const[a,o]=b1(this._automationEvents,i,r,s,this._defaultValue);return _1(e,a,o,s)}if(s!==void 0&&Oh(s)){const[a,o]=b1(this._automationEvents,i,r,s,this._defaultValue);return x1(e,a,o,s)}return this._defaultValue}}const FP=t=>({cancelTime:t,type:"cancelAndHold"}),HP=t=>({cancelTime:t,type:"cancelScheduledValues"}),qP=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),GP=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),YP=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),XP=()=>new DOMException("","AbortError"),WP=t=>(e,n,[s,i,r],a)=>{t(e[i],[n,s,r],o=>o[0]===n&&o[1]===s,a)},KP=t=>(e,n,s)=>{const i=[];for(let r=0;r<s.numberOfInputs;r+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},ZP=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},oo=new WeakSet,oN=new WeakMap,ov=new WeakMap,lN=new WeakMap,lv=new WeakMap,kd=new WeakMap,cN=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,uN={construct(){return uN}},QP=t=>{try{const e=new Proxy(t,uN);new e}catch{return!1}return!0},S1=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,w1=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),i=s.match(S1);for(;i!==null;){const r=i[1].slice(1,-1),a=i[0].replace(/([\s]+)?;?$/,"").replace(r,new URL(r,e).toString());n.push(a),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(S1)}return[n.join(";"),s]},T1=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},E1=t=>{if(!QP(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},$P=(t,e,n,s,i,r,a,o,l,c,u,h,d)=>{let f=0;return(p,g,v={credentials:"omit"})=>{const m=u.get(p);if(m!==void 0&&m.has(g))return Promise.resolve();const y=c.get(p);if(y!==void 0){const w=y.get(g);if(w!==void 0)return w}const b=r(p),S=b.audioWorklet===void 0?i(g).then(([w,C])=>{const[E,T]=w1(w,C),O=`${E};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${T}
})})(window,'_AWGS')`;return n(O)}).then(()=>{const w=d._AWGS.pop();if(w===void 0)throw new SyntaxError;s(b.currentTime,b.sampleRate,()=>w(class{},void 0,(C,E)=>{if(C.trim()==="")throw e();const T=tg.get(b);if(T!==void 0){if(T.has(C))throw e();E1(E),T1(E.parameterDescriptors),T.set(C,E)}else E1(E),T1(E.parameterDescriptors),tg.set(b,new Map([[C,E]]))},b.sampleRate,void 0,void 0))}):Promise.all([i(g),Promise.resolve(t(h,h))]).then(([[w,C],E])=>{const T=f+1;f=T;const[O,A]=w1(w,C),V=`${O};((AudioWorkletProcessor,registerProcessor)=>{${A}
})(${E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${T}',class extends AudioWorkletProcessor{process(){return !1}})`,L=new Blob([V],{type:"application/javascript; charset=utf-8"}),R=URL.createObjectURL(L);return b.audioWorklet.addModule(R,v).then(()=>{if(o(b))return b;const k=a(b);return k.audioWorklet.addModule(R,v).then(()=>k)}).then(k=>{if(l===null)throw new SyntaxError;try{new l(k,`__sac${T}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(R))});return y===void 0?c.set(p,new Map([[g,S]])):y.set(g,S),S.then(()=>{const w=u.get(p);w===void 0?u.set(p,new Set([g])):w.add(g)}).finally(()=>{const w=c.get(p);w!==void 0&&w.delete(g)}),S}},ss=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Od=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},hN=(t,e,n,s)=>{const i=ss(t,e),r=Od(i,a=>a[0]===n&&a[1]===s);return i.size===0&&t.delete(e),r},yc=t=>ss(cN,t),lo=t=>{if(oo.has(t))throw new Error("The AudioNode is already stored.");oo.add(t),yc(t).forEach(e=>e(!0))},dN=t=>"port"in t,vc=t=>{if(!oo.has(t))throw new Error("The AudioNode is not stored.");oo.delete(t),yc(t).forEach(e=>e(!1))},sg=(t,e)=>{!dN(t)&&e.every(n=>n.size===0)&&vc(t)},JP=(t,e,n,s,i,r,a,o,l,c,u,h,d)=>{const f=new WeakMap;return(p,g,v,m,y)=>{const{activeInputs:b,passiveInputs:S}=r(g),{outputs:w}=r(p),C=o(p),E=T=>{const O=l(g),A=l(p);if(T){const N=hN(S,p,v,m);t(b,p,N,!1),!y&&!h(p)&&n(A,O,v,m),d(g)&&lo(g)}else{const N=s(b,p,v,m);e(S,m,N,!1),!y&&!h(p)&&i(A,O,v,m);const D=a(g);if(D===0)u(g)&&sg(g,b);else{const I=f.get(g);I!==void 0&&clearTimeout(I),f.set(g,setTimeout(()=>{u(g)&&sg(g,b)},D*1e3))}}};return c(w,[g,v,m],T=>T[0]===g&&T[1]===v&&T[2]===m,!0)?(C.add(E),u(p)?t(b,p,[v,m,E],!0):e(S,m,[p,v,E],!0),!0):!1}},e6=t=>(e,n,[s,i,r],a)=>{const o=e.get(s);o===void 0?e.set(s,new Set([[i,n,r]])):t(o,[i,n,r],l=>l[0]===i&&l[1]===n,a)},t6=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(s),s.disconnect()};n.addEventListener("ended",i)},n6=t=>(e,n)=>{t(e).add(n)},s6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},i6=(t,e,n,s,i,r)=>class extends t{constructor(o,l){const c=i(o),u={...s6,...l},h=s(c,u),d=r(c)?e():null;super(o,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(o){this._nativeAnalyserNode.fftSize=o}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(o){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=o,!(o>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(o){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=o,!(this._nativeAnalyserNode.maxDecibels>o))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(o){this._nativeAnalyserNode.smoothingTimeConstant=o}getByteFrequencyData(o){this._nativeAnalyserNode.getByteFrequencyData(o)}getByteTimeDomainData(o){this._nativeAnalyserNode.getByteTimeDomainData(o)}getFloatFrequencyData(o){this._nativeAnalyserNode.getFloatFrequencyData(o)}getFloatTimeDomainData(o){this._nativeAnalyserNode.getFloatTimeDomainData(o)}},Ft=(t,e)=>t.context===e,r6=(t,e,n)=>()=>{const s=new WeakMap,i=async(r,a)=>{let o=e(r);if(!Ft(o,a)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(a,c)}return s.set(a,o),await n(r,a,o),o};return{render(r,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):i(r,a)}}},Vh=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ks=()=>new DOMException("","IndexSizeError"),cv=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?ks():s}})(t.getChannelData)},a6={numberOfChannels:1},o6=(t,e,n,s,i,r,a,o)=>{let l=null;return class fN{constructor(u){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:f}={...a6,...u};l===null&&(l=new i(1,1,44100));const p=s!==null&&e(r,r)?new s({length:h,numberOfChannels:d,sampleRate:f}):l.createBuffer(d,h,f);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(a(p),cv(p)):e(Vh,()=>Vh(p))||o(p),t.add(p),p}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===fN.prototype||t.has(u)}}},sn=-34028234663852886e22,qt=-sn,Qs=t=>oo.has(t),l6={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},c6=(t,e,n,s,i,r,a,o)=>class extends t{constructor(c,u){const h=r(c),d={...l6,...u},f=i(h,d),p=a(h),g=p?e():null;super(c,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,p,f.playbackRate,qt,sn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?o(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===u?c:h}get playbackRate(){return this._playbackRate}start(c=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(c,u,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[c,u]:[c,u,h]),this.context.state!=="closed"){lo(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),Qs(this)&&vc(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},u6=(t,e,n,s,i)=>()=>{const r=new WeakMap;let a=null,o=null;const l=async(c,u)=>{let h=n(c);const d=Ft(h,u);if(!d){const f={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(u,f),a!==null&&h.start(...a),o!==null&&h.stop(o)}return r.set(u,h),d?await t(u,c.playbackRate,h.playbackRate):await s(u,c.playbackRate,h.playbackRate),await i(c,u,h),h};return{set start(c){a=c},set stop(c){o=c},render(c,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):l(c,u)}}},h6=t=>"playbackRate"in t,d6=t=>"frequency"in t&&"gain"in t,f6=t=>"offset"in t,p6=t=>!("frequency"in t)&&"gain"in t,m6=t=>"detune"in t&&"frequency"in t&&!("gain"in t),g6=t=>"pan"in t,Wt=t=>ss(oN,t),bc=t=>ss(lN,t),ig=(t,e)=>{const{activeInputs:n}=Wt(t);n.forEach(i=>i.forEach(([r])=>{e.includes(t)||ig(r,[...e,t])}));const s=h6(t)?[t.playbackRate]:dN(t)?Array.from(t.parameters.values()):d6(t)?[t.Q,t.detune,t.frequency,t.gain]:f6(t)?[t.offset]:p6(t)?[t.gain]:m6(t)?[t.detune,t.frequency]:g6(t)?[t.pan]:[];for(const i of s){const r=bc(i);r!==void 0&&r.activeInputs.forEach(([a])=>ig(a,e))}Qs(t)&&vc(t)},pN=t=>{ig(t.destination,[])},y6=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),v6=(t,e,n,s,i,r,a,o,l)=>class extends t{constructor(u={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(u)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(h===null)throw s();if(!y6(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&h.sampleRate!==u.sampleRate)throw n();super(h,2);const{latencyHint:d}=u,{sampleRate:f}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/f:d==="interactive"||d===void 0?256/f:d==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(d*f/128)))*128/f,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),pN(this)}))}createMediaElementSource(u){return new i(this,{mediaElement:u})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(u){return new a(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new o(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},b6=(t,e,n,s,i,r,a,o)=>class extends t{constructor(c,u){const h=r(c),d=a(h),f=i(h,u,d),p=d?e(o):null;super(c,!1,f,p),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},_6=t=>{const e=new WeakMap,n=async(s,i)=>{const r=i.destination;return e.set(i,r),await t(s,i,r),r};return{render(s,i){const r=e.get(i);return r!==void 0?Promise.resolve(r):n(s,i)}}},x6=(t,e,n,s,i,r,a,o)=>(l,c)=>{const u=c.listener,h=()=>{const w=new Float32Array(1),C=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=a(c);let T=!1,O=[0,0,-1,0,1,0],A=[0,0,0];const N=()=>{if(T)return;T=!0;const L=s(c,256,9,0);L.onaudioprocess=({inputBuffer:R})=>{const k=[r(R,w,0),r(R,w,1),r(R,w,2),r(R,w,3),r(R,w,4),r(R,w,5)];k.some((B,z)=>B!==O[z])&&(u.setOrientation(...k),O=k);const M=[r(R,w,6),r(R,w,7),r(R,w,8)];M.some((B,z)=>B!==A[z])&&(u.setPosition(...M),A=M)},C.connect(L)},D=L=>R=>{R!==O[L]&&(O[L]=R,u.setOrientation(...O))},I=L=>R=>{R!==A[L]&&(A[L]=R,u.setPosition(...A))},V=(L,R,k)=>{const M=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R});M.connect(C,0,L),M.start(),Object.defineProperty(M.offset,"defaultValue",{get(){return R}});const B=t({context:l},E,M.offset,qt,sn);return o(B,"value",z=>()=>z.call(B),z=>X=>{try{z.call(B,X)}catch(ne){if(ne.code!==9)throw ne}N(),E&&k(X)}),B.cancelAndHoldAtTime=(z=>E?()=>{throw i()}:(...X)=>{const ne=z.apply(B,X);return N(),ne})(B.cancelAndHoldAtTime),B.cancelScheduledValues=(z=>E?()=>{throw i()}:(...X)=>{const ne=z.apply(B,X);return N(),ne})(B.cancelScheduledValues),B.exponentialRampToValueAtTime=(z=>E?()=>{throw i()}:(...X)=>{const ne=z.apply(B,X);return N(),ne})(B.exponentialRampToValueAtTime),B.linearRampToValueAtTime=(z=>E?()=>{throw i()}:(...X)=>{const ne=z.apply(B,X);return N(),ne})(B.linearRampToValueAtTime),B.setTargetAtTime=(z=>E?()=>{throw i()}:(...X)=>{const ne=z.apply(B,X);return N(),ne})(B.setTargetAtTime),B.setValueAtTime=(z=>E?()=>{throw i()}:(...X)=>{const ne=z.apply(B,X);return N(),ne})(B.setValueAtTime),B.setValueCurveAtTime=(z=>E?()=>{throw i()}:(...X)=>{const ne=z.apply(B,X);return N(),ne})(B.setValueCurveAtTime),B};return{forwardX:V(0,0,D(0)),forwardY:V(1,0,D(1)),forwardZ:V(2,-1,D(2)),positionX:V(6,0,I(0)),positionY:V(7,0,I(1)),positionZ:V(8,0,I(2)),upX:V(3,0,D(3)),upY:V(4,1,D(4)),upZ:V(5,0,D(5))}},{forwardX:d,forwardY:f,forwardZ:p,positionX:g,positionY:v,positionZ:m,upX:y,upY:b,upZ:S}=u.forwardX===void 0?h():u;return{get forwardX(){return d},get forwardY(){return f},get forwardZ(){return p},get positionX(){return g},get positionY(){return v},get positionZ(){return m},get upX(){return y},get upY(){return b},get upZ(){return S}}},Ih=t=>"context"in t,_c=t=>Ih(t[0]),ea=(t,e,n,s)=>{for(const i of t)if(n(i)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},C1=(t,e,[n,s],i)=>{ea(t,[e,n,s],r=>r[0]===e&&r[1]===n,i)},A1=(t,[e,n,s],i)=>{const r=t.get(e);r===void 0?t.set(e,new Set([[n,s]])):ea(r,[n,s],a=>a[0]===n,i)},Do=t=>"inputs"in t,Bh=(t,e,n,s)=>{if(Do(e)){const i=e.inputs[s];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,s),[e,n,s]},mN=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},S6=(t,e,n)=>Od(t,s=>s[0]===e&&s[1]===n),gN=(t,e)=>{if(!yc(t).delete(e))throw new Error("Missing the expected event listener.")},yN=(t,e,n)=>{const s=ss(t,e),i=Od(s,r=>r[0]===n);return s.size===0&&t.delete(e),i},Lh=(t,e,n,s)=>{Do(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},Qe=t=>ss(ov,t),Gl=t=>ss(lv,t),Gr=t=>eg.has(t),ju=t=>!oo.has(t),N1=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),i=t.createGain(),r=t.createBuffer(1,2,44100),a=r.getChannelData(0);a[0]=1,a[1]=1;const o=t.createBufferSource();o.buffer=r,o.loop=!0,o.connect(s).connect(t.destination),o.connect(i),o.disconnect(i),s.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?n(!0):n(!1),o.stop(),s.onaudioprocess=null,o.disconnect(s),s.disconnect(t.destination)},o.start()}}),fp=(t,e)=>{const n=new Map;for(const s of t)for(const i of s){const r=n.get(i);n.set(i,r===void 0?1:r+1)}n.forEach((s,i)=>e(i,s))},jh=t=>"context"in t,w6=t=>{const e=new Map;t.connect=(n=>(s,i=0,r=0)=>{const a=jh(s)?n(s,i,r):n(s,i),o=e.get(s);return o===void 0?e.set(s,[{input:r,output:i}]):o.every(l=>l.input!==r||l.output!==i)&&o.push({input:r,output:i}),a})(t.connect.bind(t)),t.disconnect=(n=>(s,i,r)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[a,o]of e){const l=o.filter(c=>c.output!==s);l.length===0?e.delete(a):e.set(a,l)}else if(e.has(s))if(i===void 0)e.delete(s);else{const a=e.get(s);if(a!==void 0){const o=a.filter(l=>l.output!==i&&(l.input!==r||r===void 0));o.length===0?e.delete(s):e.set(s,o)}}for(const[a,o]of e)o.forEach(l=>{jh(a)?t.connect(a,l.output,l.input):t.connect(a,l.output)})})(t.disconnect)},T6=(t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=bc(e),{outputs:a}=Wt(t),o=yc(t),l=c=>{const u=Qe(t),h=Gl(e);if(c){const d=yN(r,t,n);C1(i,t,d,!1),!s&&!Gr(t)&&u.connect(h,n)}else{const d=S6(i,t,n);A1(r,d,!1),!s&&!Gr(t)&&u.disconnect(h,n)}};return ea(a,[e,n],c=>c[0]===e&&c[1]===n,!0)?(o.add(l),Qs(t)?C1(i,t,[n,l],!0):A1(r,[t,n,l],!0),!0):!1},E6=(t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=Wt(e),a=mN(i[s],t,n);return a===null?[hN(r,t,n,s)[2],!1]:[a[2],!0]},C6=(t,e,n)=>{const{activeInputs:s,passiveInputs:i}=bc(e),r=mN(s,t,n);return r===null?[yN(i,t,n)[1],!1]:[r[2],!0]},uv=(t,e,n,s,i)=>{const[r,a]=E6(t,n,s,i);if(r!==null&&(gN(t,r),a&&!e&&!Gr(t)&&Lh(Qe(t),Qe(n),s,i)),Qs(n)){const{activeInputs:o}=Wt(n);sg(n,o)}},hv=(t,e,n,s)=>{const[i,r]=C6(t,n,s);i!==null&&(gN(t,i),r&&!e&&!Gr(t)&&Qe(t).disconnect(Gl(n),s))},A6=(t,e)=>{const n=Wt(t),s=[];for(const i of n.outputs)_c(i)?uv(t,e,...i):hv(t,e,...i),s.push(i[0]);return n.outputs.clear(),s},N6=(t,e,n)=>{const s=Wt(t),i=[];for(const r of s.outputs)r[1]===n&&(_c(r)?uv(t,e,...r):hv(t,e,...r),i.push(r[0]),s.outputs.delete(r));return i},M6=(t,e,n,s,i)=>{const r=Wt(t);return Array.from(r.outputs).filter(a=>a[0]===n&&(s===void 0||a[1]===s)&&(i===void 0||a[2]===i)).map(a=>(_c(a)?uv(t,e,...a):hv(t,e,...a),r.outputs.delete(a),a[0]))},R6=(t,e,n,s,i,r,a,o,l,c,u,h,d,f,p,g)=>class extends c{constructor(m,y,b,S){super(b),this._context=m,this._nativeAudioNode=b;const w=u(m);h(w)&&n(N1,()=>N1(w,g))!==!0&&w6(b),ov.set(this,b),cN.set(this,new Set),m.state!=="closed"&&y&&lo(this),t(this,S,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(m){this._nativeAudioNode.channelCount=m}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(m){this._nativeAudioNode.channelCountMode=m}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(m){this._nativeAudioNode.channelInterpretation=m}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(m,y=0,b=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw i();const S=u(this._context),w=p(S);if(d(m)||f(m))throw r();if(Ih(m)){const T=Qe(m);try{const A=Bh(this._nativeAudioNode,T,y,b),N=ju(this);(w||N)&&this._nativeAudioNode.disconnect(...A),this.context.state!=="closed"&&!N&&ju(m)&&lo(m)}catch(A){throw A.code===12?r():A}if(e(this,m,y,b,w)){const A=l([this],m);fp(A,s(w))}return m}const C=Gl(m);if(C.name==="playbackRate"&&C.maxValue===1024)throw a();try{this._nativeAudioNode.connect(C,y),(w||ju(this))&&this._nativeAudioNode.disconnect(C,y)}catch(T){throw T.code===12?r():T}if(T6(this,m,y,w)){const T=l([this],m);fp(T,s(w))}}disconnect(m,y,b){let S;const w=u(this._context),C=p(w);if(m===void 0)S=A6(this,C);else if(typeof m=="number"){if(m<0||m>=this.numberOfOutputs)throw i();S=N6(this,C,m)}else{if(y!==void 0&&(y<0||y>=this.numberOfOutputs)||Ih(m)&&b!==void 0&&(b<0||b>=m.numberOfInputs))throw i();if(S=M6(this,C,m,y,b),S.length===0)throw r()}for(const E of S){const T=l([this],E);fp(T,o)}}},k6=(t,e,n,s,i,r,a,o,l,c,u,h,d)=>(f,p,g,v=null,m=null)=>{const y=g.value,b=new UP(y),S=p?s(b):null,w={get defaultValue(){return y},get maxValue(){return v===null?g.maxValue:v},get minValue(){return m===null?g.minValue:m},get value(){return g.value},set value(C){g.value=C,w.setValueAtTime(C,f.context.currentTime)},cancelAndHoldAtTime(C){if(typeof g.cancelAndHoldAtTime=="function")S===null&&b.flush(f.context.currentTime),b.add(i(C)),g.cancelAndHoldAtTime(C);else{const E=Array.from(b).pop();S===null&&b.flush(f.context.currentTime),b.add(i(C));const T=Array.from(b).pop();g.cancelScheduledValues(C),E!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?g.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?g.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&g.setValueCurveAtTime(T.values,T.startTime,T.duration))}return w},cancelScheduledValues(C){return S===null&&b.flush(f.context.currentTime),b.add(r(C)),g.cancelScheduledValues(C),w},exponentialRampToValueAtTime(C,E){if(C===0)throw new RangeError;if(!Number.isFinite(E)||E<0)throw new RangeError;const T=f.context.currentTime;return S===null&&b.flush(T),Array.from(b).length===0&&(b.add(c(y,T)),g.setValueAtTime(y,T)),b.add(a(C,E)),g.exponentialRampToValueAtTime(C,E),w},linearRampToValueAtTime(C,E){const T=f.context.currentTime;return S===null&&b.flush(T),Array.from(b).length===0&&(b.add(c(y,T)),g.setValueAtTime(y,T)),b.add(o(C,E)),g.linearRampToValueAtTime(C,E),w},setTargetAtTime(C,E,T){return S===null&&b.flush(f.context.currentTime),b.add(l(C,E,T)),g.setTargetAtTime(C,E,T),w},setValueAtTime(C,E){return S===null&&b.flush(f.context.currentTime),b.add(c(C,E)),g.setValueAtTime(C,E),w},setValueCurveAtTime(C,E,T){const O=C instanceof Float32Array?C:new Float32Array(C);if(h!==null&&h.name==="webkitAudioContext"){const A=E+T,N=f.context.sampleRate,D=Math.ceil(E*N),I=Math.floor(A*N),V=I-D,L=new Float32Array(V);for(let k=0;k<V;k+=1){const M=(O.length-1)/T*((D+k)/N-E),B=Math.floor(M),z=Math.ceil(M);L[k]=B===z?O[B]:(1-(M-B))*O[B]+(1-(z-M))*O[z]}S===null&&b.flush(f.context.currentTime),b.add(u(L,E,T)),g.setValueCurveAtTime(L,E,T);const R=I/N;R<A&&d(w,L[L.length-1],R),d(w,O[O.length-1],A)}else S===null&&b.flush(f.context.currentTime),b.add(u(O,E,T)),g.setValueCurveAtTime(O,E,T);return w}};return n.set(w,g),e.set(w,f),t(w,S),w},O6=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:i}=n;e.exponentialRampToValueAtTime(i,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:i}=n;e.linearRampToValueAtTime(i,s)}else if(n.type==="setTarget"){const{startTime:s,target:i,timeConstant:r}=n;e.setTargetAtTime(i,s,r)}else if(n.type==="setValue"){const{startTime:s,value:i}=n;e.setValueAtTime(i,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:i,values:r}=n;e.setValueCurveAtTime(r,i,s)}else throw new Error("Can't apply an unknown automation.")}});class vN{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,i)=>e.call(n,s,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const D6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},V6=(t,e,n,s,i,r,a,o,l,c,u,h,d,f)=>class extends e{constructor(g,v,m){var y;const b=o(g),S=l(b),w=u({...D6,...m});d(w);const C=tg.get(b),E=C==null?void 0:C.get(v),T=S||b.state!=="closed"?b:(y=a(b))!==null&&y!==void 0?y:b,O=i(T,S?null:g.baseLatency,c,v,E,w),A=S?s(v,w,E):null;super(g,!0,O,A);const N=[];O.parameters.forEach((I,V)=>{const L=n(this,S,I);N.push([V,L])}),this._nativeAudioWorkletNode=O,this._onprocessorerror=null,this._parameters=new vN(N),S&&t(b,this);const{activeInputs:D}=r(this);h(O,D)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const v=typeof g=="function"?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=v;const m=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=m!==null&&m===v?g:m}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ph(t,e,n,s,i){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,i);else{const r=t.getChannelData(s);if(e[n].byteLength===0)e[n]=r.slice(i,i+128);else{const a=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}const bN=(t,e,n,s,i)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,i):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],i)},zh=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const i=[],r=typeof e=="number"?e:e[s];for(let a=0;a<r;a+=1)i.push(new Float32Array(128));n.push(i)}return n},I6=(t,e)=>{const n=ss(ng,t),s=Qe(e);return ss(n,s)},B6=async(t,e,n,s,i,r,a)=>{const o=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,c=i.reduce((v,m)=>v+m,0),u=c===0?null:n.createBuffer(c,o,n.sampleRate);if(r===void 0)throw new Error("Missing the processor constructor.");const h=Wt(t),d=await I6(n,t),f=zh(s.numberOfInputs,s.channelCount),p=zh(s.numberOfOutputs,i),g=Array.from(t.parameters.keys()).reduce((v,m)=>({...v,[m]:new Float32Array(128)}),{});for(let v=0;v<o;v+=128){if(s.numberOfInputs>0&&e!==null)for(let m=0;m<s.numberOfInputs;m+=1)for(let y=0;y<s.channelCount;y+=1)Ph(e,f[m],y,y,v);r.parameterDescriptors!==void 0&&e!==null&&r.parameterDescriptors.forEach(({name:m},y)=>{Ph(e,g,m,l+y,v)});for(let m=0;m<s.numberOfInputs;m+=1)for(let y=0;y<i[m];y+=1)p[m][y].byteLength===0&&(p[m][y]=new Float32Array(128));try{const m=f.map((b,S)=>h.activeInputs[S].size===0?[]:b),y=a(v/n.sampleRate,n.sampleRate,()=>d.process(m,p,g));if(u!==null)for(let b=0,S=0;b<s.numberOfOutputs;b+=1){for(let w=0;w<i[b];w+=1)bN(u,p[b],w,S+w,v);S+=i[b]}if(!y)break}catch(m){t.dispatchEvent(new ErrorEvent("processorerror",{colno:m.colno,filename:m.filename,lineno:m.lineno,message:m.message}));break}}return u},L6=(t,e,n,s,i,r,a,o,l,c,u,h,d,f,p,g)=>(v,m,y)=>{const b=new WeakMap;let S=null;const w=async(C,E)=>{let T=u(C),O=null;const A=Ft(T,E),N=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(h===null){const D=N.reduce((R,k)=>R+k,0),I=i(E,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),V=[];for(let R=0;R<C.numberOfOutputs;R+=1)V.push(s(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[R]}));const L=a(E,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1});L.connect=e.bind(null,V),L.disconnect=l.bind(null,V),O=[I,V,L]}else A||(T=new h(E,v));if(b.set(E,O===null?T:O[2]),O!==null){if(S===null){if(y===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=C.channelCount*C.numberOfInputs,M=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length,B=k+M;S=B6(C,B===0?null:await(async()=>{const X=new d(B,Math.ceil(C.context.length/128)*128,E.sampleRate),ne=[],re=[];for(let ee=0;ee<m.numberOfInputs;ee+=1)ne.push(a(X,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),re.push(i(X,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const ie=await Promise.all(Array.from(C.parameters.values()).map(async ee=>{const j=r(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ee.value});return await f(X,ee,j.offset),j})),K=s(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,k+M)});for(let ee=0;ee<m.numberOfInputs;ee+=1){ne[ee].connect(re[ee]);for(let j=0;j<m.channelCount;j+=1)re[ee].connect(K,j,ee*m.channelCount+j)}for(const[ee,j]of ie.entries())j.connect(K,0,k+ee),j.start(0);return K.connect(X.destination),await Promise.all(ne.map(ee=>p(C,X,ee))),g(X)})(),E,m,N,y,c)}const D=await S,I=n(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,L,R]=O;D!==null&&(I.buffer=D,I.start(0)),I.connect(V);for(let k=0,M=0;k<C.numberOfOutputs;k+=1){const B=L[k];for(let z=0;z<N[k];z+=1)V.connect(B,M+z,z);M+=N[k]}return R}if(A)for(const[D,I]of C.parameters.entries())await t(E,I,T.parameters.get(D));else for(const[D,I]of C.parameters.entries())await f(E,I,T.parameters.get(D));return await p(C,E,T),T};return{render(C,E){o(E,C);const T=b.get(E);return T!==void 0?Promise.resolve(T):w(C,E)}}},j6=(t,e,n,s,i,r,a,o,l,c,u,h,d,f,p,g,v,m,y,b)=>class extends p{constructor(w,C){super(w,C),this._nativeContext=w,this._audioWorklet=t===void 0?void 0:{addModule:(E,T)=>t(this,E,T)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(w,C,E){return new n({length:C,numberOfChannels:w,sampleRate:E})}createBufferSource(){return new s(this)}createChannelMerger(w=6){return new r(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new a(this,{numberOfOutputs:w})}createConstantSource(){return new o(this)}createConvolver(){return new l(this)}createDelay(w=1){return new u(this,{maxDelayTime:w})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(w,C){return new f(this,{feedback:C,feedforward:w})}createOscillator(){return new g(this)}createPanner(){return new v(this)}createPeriodicWave(w,C,E={disableNormalization:!1}){return new m(this,{...E,imag:C,real:w})}createStereoPanner(){return new y(this)}createWaveShaper(){return new b(this)}decodeAudioData(w,C,E){return c(this._nativeContext,w).then(T=>(typeof C=="function"&&C(T),T),T=>{throw typeof E=="function"&&E(T),T})}},P6={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},z6=(t,e,n,s,i,r,a,o)=>class extends t{constructor(c,u){const h=r(c),d={...P6,...u},f=i(h,d),p=a(h),g=p?n():null;super(c,!1,f,g),this._Q=e(this,p,f.Q,qt,sn),this._detune=e(this,p,f.detune,1200*Math.log2(qt),-1200*Math.log2(qt)),this._frequency=e(this,p,f.frequency,c.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(qt),sn),this._nativeBiquadFilterNode=f,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,h)}catch(d){throw d.code===11?s():d}if(c.length!==u.length||u.length!==h.length)throw s()}},U6=(t,e,n,s,i)=>()=>{const r=new WeakMap,a=async(o,l)=>{let c=n(o);const u=Ft(c,l);if(!u){const h={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,h)}return r.set(l,c),u?(await t(l,o.Q,c.Q),await t(l,o.detune,c.detune),await t(l,o.frequency,c.frequency),await t(l,o.gain,c.gain)):(await s(l,o.Q,c.Q),await s(l,o.detune,c.detune),await s(l,o.frequency,c.frequency),await s(l,o.gain,c.gain)),await i(o,l,c),c};return{render(o,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},F6=(t,e)=>(n,s)=>{const i=e.get(n);if(i!==void 0)return i;const r=t.get(n);if(r!==void 0)return r;try{const a=s();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(o=>(t.delete(n),e.set(n,o),o))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},H6={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},q6=(t,e,n,s,i)=>class extends t{constructor(a,o){const l=s(a),c={...H6,...o},u=n(l,c),h=i(l)?e():null;super(a,!1,u,h)}},G6=(t,e,n)=>()=>{const s=new WeakMap,i=async(r,a)=>{let o=e(r);if(!Ft(o,a)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(a,c)}return s.set(a,o),await n(r,a,o),o};return{render(r,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):i(r,a)}}},Y6={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},X6=(t,e,n,s,i,r)=>class extends t{constructor(o,l){const c=s(o),u=r({...Y6,...l}),h=n(c,u),d=i(c)?e():null;super(o,!1,h,d)}},W6=(t,e,n)=>()=>{const s=new WeakMap,i=async(r,a)=>{let o=e(r);if(!Ft(o,a)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(a,c)}return s.set(a,o),await n(r,a,o),o};return{render(r,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):i(r,a)}}},K6=t=>(e,n,s)=>t(n,e,s),Z6=t=>(e,n,s=0,i=0)=>{const r=e[s];if(r===void 0)throw t();return jh(n)?r.connect(n,0,i):r.connect(n,0)},Q6=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},$6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},J6=(t,e,n,s,i,r,a)=>class extends t{constructor(l,c){const u=i(l),h={...$6,...c},d=s(u,h),f=r(u),p=f?n():null;super(l,!1,d,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=d,this._offset=e(this,f,d.offset,qt,sn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?a(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){lo(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),Qs(this)&&vc(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},ez=(t,e,n,s,i)=>()=>{const r=new WeakMap;let a=null,o=null;const l=async(c,u)=>{let h=n(c);const d=Ft(h,u);if(!d){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(u,f),a!==null&&h.start(a),o!==null&&h.stop(o)}return r.set(u,h),d?await t(u,c.offset,h.offset):await s(u,c.offset,h.offset),await i(c,u,h),h};return{set start(c){a=c},set stop(c){o=c},render(c,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):l(c,u)}}},tz=t=>e=>(t[0]=e,t[0]),nz={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},sz=(t,e,n,s,i,r)=>class extends t{constructor(o,l){const c=s(o),u={...nz,...l},h=n(c,u),f=i(c)?e():null;super(o,!1,h,f),this._isBufferNullified=!1,this._nativeConvolverNode=h,u.buffer!==null&&r(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(o){if(this._nativeConvolverNode.buffer=o,o===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(o){this._nativeConvolverNode.normalize=o}},iz=(t,e,n)=>()=>{const s=new WeakMap,i=async(r,a)=>{let o=e(r);if(!Ft(o,a)){const c={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(a,c)}return s.set(a,o),Do(o)?await n(r,a,o.inputs[0]):await n(r,a,o),o};return{render(r,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):i(r,a)}}},rz=(t,e)=>(n,s,i)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,i)}catch(r){throw r.name==="SyntaxError"?t():r}},az=()=>new DOMException("","DataCloneError"),M1=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const i=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}})},oz=(t,e,n,s,i,r,a,o,l,c,u)=>(h,d)=>{const f=a(h)?h:r(h);if(i.has(d)){const p=n();return Promise.reject(p)}try{i.add(d)}catch{}return e(l,()=>l(f))?f.decodeAudioData(d).then(p=>(M1(d).catch(()=>{}),e(o,()=>o(p))||u(p),t.add(p),p)):new Promise((p,g)=>{const v=async()=>{try{await M1(d)}catch{}},m=y=>{g(y),v()};try{f.decodeAudioData(d,y=>{typeof y.copyFromChannel!="function"&&(c(y),cv(y)),t.add(y),v().then(()=>p(y))},y=>{m(y===null?s():y)})}catch(y){m(y)}})},lz=(t,e,n,s,i,r,a,o)=>(l,c)=>{const u=e.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=o(h);if(u===c){if(e.delete(l),!d&&a(l)){const f=s(l),{outputs:p}=n(l);for(const g of p)if(_c(g)){const v=s(g[0]);t(f,v,g[1],g[2])}else{const v=i(g[0]);f.connect(v,g[1])}}}else e.set(l,u-c)},cz={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},uz=(t,e,n,s,i,r,a)=>class extends t{constructor(l,c){const u=i(l),h={...cz,...c},d=s(u,h),f=r(u),p=f?n(h.maxDelayTime):null;super(l,!1,d,p),this._delayTime=e(this,f,d.delayTime),a(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},hz=(t,e,n,s,i)=>r=>{const a=new WeakMap,o=async(l,c)=>{let u=n(l);const h=Ft(u,c);if(!h){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:r};u=e(c,d)}return a.set(c,u),h?await t(c,l.delayTime,u.delayTime):await s(c,l.delayTime,u.delayTime),await i(l,c,u),u};return{render(l,c){const u=a.get(c);return u!==void 0?Promise.resolve(u):o(l,c)}}},dz=t=>(e,n,s,i)=>t(e[i],r=>r[0]===n&&r[1]===s),fz=t=>(e,n)=>{t(e).delete(n)},pz=t=>"delayTime"in t,mz=(t,e,n)=>function s(i,r){const a=Ih(r)?r:n(t,r);if(pz(a))return[];if(i[0]===a)return[i];if(i.includes(a))return[];const{outputs:o}=e(a);return Array.from(o).map(l=>s([...i,a],l[0])).reduce((l,c)=>l.concat(c),[])},lu=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},gz=t=>(e,n=void 0,s=void 0,i=0)=>n===void 0?e.forEach(r=>r.disconnect()):typeof n=="number"?lu(t,e,n).disconnect():jh(n)?s===void 0?e.forEach(r=>r.disconnect(n)):i===void 0?lu(t,e,s).disconnect(n,0):lu(t,e,s).disconnect(n,0,i):s===void 0?e.forEach(r=>r.disconnect(n)):lu(t,e,s).disconnect(n,0),yz={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},vz=(t,e,n,s,i,r,a,o)=>class extends t{constructor(c,u){const h=r(c),d={...yz,...u},f=s(h,d),p=a(h),g=p?n():null;super(c,!1,f,g),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},bz=(t,e,n,s,i)=>()=>{const r=new WeakMap,a=async(o,l)=>{let c=n(o);const u=Ft(c,l);if(!u){const h={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,h)}return r.set(l,c),u?(await t(l,o.attack,c.attack),await t(l,o.knee,c.knee),await t(l,o.ratio,c.ratio),await t(l,o.release,c.release),await t(l,o.threshold,c.threshold)):(await s(l,o.attack,c.attack),await s(l,o.knee,c.knee),await s(l,o.ratio,c.ratio),await s(l,o.release,c.release),await s(l,o.threshold,c.threshold)),await i(o,l,c),c};return{render(o,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},_z=()=>new DOMException("","EncodingError"),xz=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const i=t.document.head;if(i===null)s(new SyntaxError);else{const r=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),o=URL.createObjectURL(a),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(o)};t.onerror=(u,h,d,f,p)=>{if(h===o||h===t.location.href&&d===1&&f===1)return c(),s(p),!1;if(l!==null)return l(u,h,d,f,p)},r.onerror=()=>{c(),s(new SyntaxError)},r.onload=()=>{c(),n()},r.src=o,r.type="module",i.appendChild(r)}}),Sz=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,i){if(s!==null){let r=this._listeners.get(s);r===void 0&&(r=t(this,s),typeof s=="function"&&this._listeners.set(s,r)),this._nativeEventTarget.addEventListener(n,r,i)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,i){const r=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,r===void 0?null:r,i)}},wz=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},Tz=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},Ez={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Cz=(t,e,n,s,i,r)=>class extends t{constructor(o,l){const c=i(o),u={...Ez,...l},h=s(c,u),d=r(c),f=d?n():null;super(o,!1,h,f),this._gain=e(this,d,h.gain,qt,sn)}get gain(){return this._gain}},Az=(t,e,n,s,i)=>()=>{const r=new WeakMap,a=async(o,l)=>{let c=n(o);const u=Ft(c,l);if(!u){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,h)}return r.set(l,c),u?await t(l,o.gain,c.gain):await s(l,o.gain,c.gain),await i(o,l,c),c};return{render(o,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},Nz=(t,e)=>n=>e(t,n),Mz=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Rz=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},kz=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Oz=t=>e=>t.get(e),Nt=()=>new DOMException("","InvalidStateError"),Dz=t=>e=>{const n=t.get(e);if(n===void 0)throw Nt();return n},Vz=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},Iz=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Dd=()=>new DOMException("","InvalidAccessError"),Bz=t=>{t.getFrequencyResponse=(e=>(n,s,i)=>{if(n.length!==s.length||s.length!==i.length)throw Dd();return e.call(t,n,s,i)})(t.getFrequencyResponse)},Lz={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},jz=(t,e,n,s,i,r)=>class extends t{constructor(o,l){const c=s(o),u=i(c),h={...Lz,...l},d=e(c,u?null:o.baseLatency,h),f=u?n(h.feedback,h.feedforward):null;super(o,!1,d,f),Bz(d),this._nativeIIRFilterNode=d,r(this,1)}getFrequencyResponse(o,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(o,l,c)}},_N=(t,e,n,s,i,r,a,o,l,c,u)=>{const h=c.length;let d=o;for(let f=0;f<h;f+=1){let p=n[0]*c[f];for(let g=1;g<i;g+=1){const v=d-g&l-1;p+=n[g]*r[v],p-=t[g]*a[v]}for(let g=i;g<s;g+=1)p+=n[g]*r[d-g&l-1];for(let g=i;g<e;g+=1)p-=t[g]*a[d-g&l-1];r[d]=c[f],a[d]=p,d=d+1&l-1,u[f]=p}return d},Pz=(t,e,n,s)=>{const i=n instanceof Float64Array?n:new Float64Array(n),r=s instanceof Float64Array?s:new Float64Array(s),a=i.length,o=r.length,l=Math.min(a,o);if(i[0]!==1){for(let p=0;p<a;p+=1)r[p]/=i[0];for(let p=1;p<o;p+=1)i[p]/=i[0]}const c=32,u=new Float32Array(c),h=new Float32Array(c),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let p=0;p<f;p+=1){const g=t.getChannelData(p),v=d.getChannelData(p);u.fill(0),h.fill(0),_N(i,a,r,o,l,u,h,0,c,g,v)}return d},zz=(t,e,n,s,i)=>(r,a)=>{const o=new WeakMap;let l=null;const c=async(u,h)=>{let d=null,f=e(u);const p=Ft(f,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(f=h.createIIRFilter(a,r)),o.set(h,d===null?f:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const v=new n(u.context.destination.channelCount,u.context.length,h.sampleRate);l=(async()=>{await s(u,v,v.destination);const m=await i(v);return Pz(m,h,r,a)})()}const g=await l;return d.buffer=g,d.start(0),d}return await s(u,h,f),f};return{render(u,h){const d=o.get(h);return d!==void 0?Promise.resolve(d):c(u,h)}}},Uz=(t,e,n,s,i,r)=>a=>(o,l)=>{const c=t.get(o);if(c===void 0){if(!a&&r(o)){const u=s(o),{outputs:h}=n(o);for(const d of h)if(_c(d)){const f=s(d[0]);e(u,f,d[1],d[2])}else{const f=i(d[0]);u.disconnect(f,d[1])}}t.set(o,l)}else t.set(o,c+l)},Fz=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Hz=(t,e)=>n=>t.has(n)||e(n),qz=(t,e)=>n=>t.has(n)||e(n),Gz=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Yz=t=>e=>t!==null&&e instanceof t,Xz=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,Wz=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,Kz=(t,e)=>n=>t(n)||e(n),Zz=t=>e=>t!==null&&e instanceof t,Qz=t=>t!==null&&t.isSecureContext,$z=(t,e,n,s)=>class extends t{constructor(r,a){const o=n(r),l=e(o,a);if(s(o))throw TypeError();super(r,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Jz={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},eU=(t,e,n,s)=>class extends t{constructor(r,a){const o=n(r);if(s(o))throw new TypeError;const l={...Jz,...a},c=e(o,l);super(r,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},tU=(t,e,n,s)=>class extends t{constructor(r,a){const o=n(r),l=e(o,a);if(s(o))throw new TypeError;super(r,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},nU=(t,e,n)=>class extends t{constructor(i,r){const a=n(i),o=e(a,r);super(i,!0,o,null)}},sU=(t,e,n,s,i,r)=>class extends n{constructor(o,l){super(o),this._nativeContext=o,kd.set(this,o),s(o)&&i.set(o,new Set),this._destination=new t(this,l),this._listener=e(this,o),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(o){const l=typeof o=="function"?r(this,o):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?o:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Yl=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},iU=(t,e)=>(n,s,i)=>{const r=new Set;return n.connect=(a=>(o,l=0,c=0)=>{const u=r.size===0;if(e(o))return a.call(n,o,l,c),t(r,[o,l,c],h=>h[0]===o&&h[1]===l&&h[2]===c,!0),u&&s(),o;a.call(n,o,l),t(r,[o,l],h=>h[0]===o&&h[1]===l,!0),u&&s()})(n.connect),n.disconnect=(a=>(o,l,c)=>{const u=r.size>0;if(o===void 0)a.apply(n),r.clear();else if(typeof o=="number"){a.call(n,o);for(const d of r)d[1]===o&&r.delete(d)}else{e(o)?a.call(n,o,l,c):a.call(n,o,l);for(const d of r)d[0]===o&&(l===void 0||d[1]===l)&&(c===void 0||d[2]===c)&&r.delete(d)}const h=r.size===0;u&&h&&i()})(n.disconnect),n},tt=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},Tt=(t,e)=>{tt(t,e,"channelCount"),tt(t,e,"channelCountMode"),tt(t,e,"channelInterpretation")},R1=t=>typeof t.getFloatTimeDomainData=="function",rU=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let i=0;i<s;i+=1)e[i]=(n[i]-128)*.0078125;return e}},aU=(t,e)=>(n,s)=>{const i=n.createAnalyser();if(Tt(i,s),!(s.maxDecibels>s.minDecibels))throw e();return tt(i,s,"fftSize"),tt(i,s,"maxDecibels"),tt(i,s,"minDecibels"),tt(i,s,"smoothingTimeConstant"),t(R1,()=>R1(i))||rU(i),i},oU=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,at=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},lU=t=>{t.start=(e=>{let n=!1;return(s=0,i=0,r)=>{if(n)throw Nt();e.call(t,s,i,r),n=!0}})(t.start)},dv=t=>{t.start=(e=>(n=0,s=0,i)=>{if(typeof i=="number"&&i<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,i)})(t.start)},fv=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},cU=(t,e,n,s,i,r,a,o,l,c,u)=>(h,d)=>{const f=h.createBufferSource();return Tt(f,d),at(f,d,"playbackRate"),tt(f,d,"buffer"),tt(f,d,"loop"),tt(f,d,"loopEnd"),tt(f,d,"loopStart"),e(n,()=>n(h))||lU(f),e(s,()=>s(h))||l(f),e(i,()=>i(h))||c(f,h),e(r,()=>r(h))||dv(f),e(a,()=>a(h))||u(f,h),e(o,()=>o(h))||fv(f),t(h,f),f},uU=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,hU=(t,e)=>(n,s,i)=>{const r=n.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&r.channelCountMode!=="explicit"&&(r.channelCountMode="explicit"),r.maxChannelCount===0&&Object.defineProperty(r,"maxChannelCount",{value:s});const a=t(n,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(a,"channelCount",o=>()=>o.call(a),o=>l=>{o.call(a,l);try{r.channelCount=l}catch(c){if(l>r.maxChannelCount)throw c}}),e(a,"channelCountMode",o=>()=>o.call(a),o=>l=>{o.call(a,l),r.channelCountMode=l}),e(a,"channelInterpretation",o=>()=>o.call(a),o=>l=>{o.call(a,l),r.channelInterpretation=l}),Object.defineProperty(a,"maxChannelCount",{get:()=>r.maxChannelCount}),a.connect(r),a},dU=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,fU=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},pU=(t,e,n,s,i)=>(r,a,o,l,c,u)=>{if(o!==null)try{const h=new o(r,l,u),d=new Map;let f=null;if(Object.defineProperties(h,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:p=>{typeof f=="function"&&h.removeEventListener("processorerror",f),f=typeof p=="function"?p:null,typeof f=="function"&&h.addEventListener("processorerror",f)}}}),h.addEventListener=(p=>(...g)=>{if(g[0]==="processorerror"){const v=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(v!==null){const m=d.get(g[1]);m!==void 0?g[1]=m:(g[1]=y=>{y.type==="error"?(Object.defineProperties(y,{type:{value:"processorerror"}}),v(y)):v(new ErrorEvent(g[0],{...y}))},d.set(v,g[1]))}}return p.call(h,"error",g[1],g[2]),p.call(h,...g)})(h.addEventListener),h.removeEventListener=(p=>(...g)=>{if(g[0]==="processorerror"){const v=d.get(g[1]);v!==void 0&&(d.delete(g[1]),g[1]=v)}return p.call(h,"error",g[1],g[2]),p.call(h,g[0],g[1],g[2])})(h.removeEventListener),u.numberOfOutputs!==0){const p=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(r.destination),i(h,()=>p.disconnect(),()=>p.connect(r.destination))}return h}catch(h){throw h.code===11?s():h}if(c===void 0)throw s();return fU(u),e(r,a,c,u)},xN=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),mU=t=>new Promise((e,n)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:r})=>{s.close(),i.close(),e(r)},s.onmessageerror=({data:r})=>{s.close(),i.close(),n(r)},i.postMessage(t)}),gU=async(t,e)=>{const n=await mU(e);return new t(n)},yU=(t,e,n,s)=>{let i=ng.get(t);i===void 0&&(i=new WeakMap,ng.set(t,i));const r=gU(n,s);return i.set(e,r),r},vU=(t,e,n,s,i,r,a,o,l,c,u,h,d)=>(f,p,g,v)=>{if(v.numberOfInputs===0&&v.numberOfOutputs===0)throw l();const m=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(m.some(W=>W<1))throw l();if(m.length!==v.numberOfOutputs)throw e();if(v.channelCountMode!=="explicit")throw l();const y=v.channelCount*v.numberOfInputs,b=m.reduce((W,te)=>W+te,0),S=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(y+S>6||b>6)throw l();const w=new MessageChannel,C=[],E=[];for(let W=0;W<v.numberOfInputs;W+=1)C.push(a(f,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),E.push(i(f,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const T=[];if(g.parameterDescriptors!==void 0)for(const{defaultValue:W,maxValue:te,minValue:Ue,name:q}of g.parameterDescriptors){const Y=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:v.parameterData[q]!==void 0?v.parameterData[q]:W===void 0?0:W});Object.defineProperties(Y.offset,{defaultValue:{get:()=>W===void 0?0:W},maxValue:{get:()=>te===void 0?qt:te},minValue:{get:()=>Ue===void 0?sn:Ue}}),T.push(Y)}const O=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+S)}),A=xN(p,f.sampleRate),N=o(f,A,y+S,Math.max(1,b)),D=i(f,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),I=[];for(let W=0;W<v.numberOfOutputs;W+=1)I.push(s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:m[W]}));for(let W=0;W<v.numberOfInputs;W+=1){C[W].connect(E[W]);for(let te=0;te<v.channelCount;te+=1)E[W].connect(O,te,W*v.channelCount+te)}const V=new vN(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:W},te)=>{const Ue=T[te];return Ue.connect(O,0,y+te),Ue.start(0),[W,Ue.offset]}));O.connect(N);let L=v.channelInterpretation,R=null;const k=v.numberOfOutputs===0?[N]:I,M={get bufferSize(){return A},get channelCount(){return v.channelCount},set channelCount(W){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(W){throw n()},get channelInterpretation(){return L},set channelInterpretation(W){for(const te of C)te.channelInterpretation=W;L=W},get context(){return N.context},get inputs(){return C},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(W){typeof R=="function"&&M.removeEventListener("processorerror",R),R=typeof W=="function"?W:null,typeof R=="function"&&M.addEventListener("processorerror",R)},get parameters(){return V},get port(){return w.port2},addEventListener(...W){return N.addEventListener(W[0],W[1],W[2])},connect:t.bind(null,k),disconnect:c.bind(null,k),dispatchEvent(...W){return N.dispatchEvent(W[0])},removeEventListener(...W){return N.removeEventListener(W[0],W[1],W[2])}},B=new Map;w.port1.addEventListener=(W=>(...te)=>{if(te[0]==="message"){const Ue=typeof te[1]=="function"?te[1]:typeof te[1]=="object"&&te[1]!==null&&typeof te[1].handleEvent=="function"?te[1].handleEvent:null;if(Ue!==null){const q=B.get(te[1]);q!==void 0?te[1]=q:(te[1]=Y=>{u(f.currentTime,f.sampleRate,()=>Ue(Y))},B.set(Ue,te[1]))}}return W.call(w.port1,te[0],te[1],te[2])})(w.port1.addEventListener),w.port1.removeEventListener=(W=>(...te)=>{if(te[0]==="message"){const Ue=B.get(te[1]);Ue!==void 0&&(B.delete(te[1]),te[1]=Ue)}return W.call(w.port1,te[0],te[1],te[2])})(w.port1.removeEventListener);let z=null;Object.defineProperty(w.port1,"onmessage",{get:()=>z,set:W=>{typeof z=="function"&&w.port1.removeEventListener("message",z),z=typeof W=="function"?W:null,typeof z=="function"&&(w.port1.addEventListener("message",z),w.port1.start())}}),g.prototype.port=w.port1;let X=null;yU(f,M,g,v).then(W=>X=W);const re=zh(v.numberOfInputs,v.channelCount),ie=zh(v.numberOfOutputs,m),K=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((W,{name:te})=>({...W,[te]:new Float32Array(128)}),{});let ee=!0;const j=()=>{v.numberOfOutputs>0&&N.disconnect(D);for(let W=0,te=0;W<v.numberOfOutputs;W+=1){const Ue=I[W];for(let q=0;q<m[W];q+=1)D.disconnect(Ue,te+q,q);te+=m[W]}},P=new Map;N.onaudioprocess=({inputBuffer:W,outputBuffer:te})=>{if(X!==null){const Ue=h(M);for(let q=0;q<A;q+=128){for(let Y=0;Y<v.numberOfInputs;Y+=1)for(let ae=0;ae<v.channelCount;ae+=1)Ph(W,re[Y],ae,ae,q);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:Y},ae)=>{Ph(W,K,Y,y+ae,q)});for(let Y=0;Y<v.numberOfInputs;Y+=1)for(let ae=0;ae<m[Y];ae+=1)ie[Y][ae].byteLength===0&&(ie[Y][ae]=new Float32Array(128));try{const Y=re.map((we,Xe)=>{if(Ue[Xe].size>0)return P.set(Xe,A/128),we;const fi=P.get(Xe);return fi===void 0?[]:(we.every(mr=>mr.every(ia=>ia===0))&&(fi===1?P.delete(Xe):P.set(Xe,fi-1)),we)});ee=u(f.currentTime+q/f.sampleRate,f.sampleRate,()=>X.process(Y,ie,K));for(let we=0,Xe=0;we<v.numberOfOutputs;we+=1){for(let An=0;An<m[we];An+=1)bN(te,ie[we],An,Xe+An,q);Xe+=m[we]}}catch(Y){ee=!1,M.dispatchEvent(new ErrorEvent("processorerror",{colno:Y.colno,filename:Y.filename,lineno:Y.lineno,message:Y.message}))}if(!ee){for(let Y=0;Y<v.numberOfInputs;Y+=1){C[Y].disconnect(E[Y]);for(let ae=0;ae<v.channelCount;ae+=1)E[q].disconnect(O,ae,Y*v.channelCount+ae)}if(g.parameterDescriptors!==void 0){const Y=g.parameterDescriptors.length;for(let ae=0;ae<Y;ae+=1){const we=T[ae];we.disconnect(O,0,y+ae),we.stop()}}O.disconnect(N),N.onaudioprocess=null,le?j():me();break}}}};let le=!1;const fe=a(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),de=()=>N.connect(fe).connect(f.destination),me=()=>{N.disconnect(fe),fe.disconnect()},Rt=()=>{if(ee){me(),v.numberOfOutputs>0&&N.connect(D);for(let W=0,te=0;W<v.numberOfOutputs;W+=1){const Ue=I[W];for(let q=0;q<m[W];q+=1)D.connect(Ue,te+q,q);te+=m[W]}}le=!0},$t=()=>{ee&&(de(),j()),le=!1};return de(),d(M,Rt,$t)},SN=(t,e)=>{const n=t.createBiquadFilter();return Tt(n,e),at(n,e,"Q"),at(n,e,"detune"),at(n,e,"frequency"),at(n,e,"gain"),tt(n,e,"type"),n},bU=(t,e)=>(n,s)=>{const i=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,i),Tt(i,s),i},_U=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Nt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Nt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Nt()}})},xc=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Tt(n,e),_U(n),n},xU=(t,e,n,s,i)=>(r,a)=>{if(r.createConstantSource===void 0)return n(r,a);const o=r.createConstantSource();return Tt(o,a),at(o,a,"offset"),e(s,()=>s(r))||dv(o),e(i,()=>i(r))||fv(o),t(r,o),o},Vo=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),SU=(t,e,n,s)=>(i,{offset:r,...a})=>{const o=i.createBuffer(1,2,44100),l=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,{...a,gain:r}),u=o.getChannelData(0);u[0]=1,u[1]=1,l.buffer=o,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(p){c.channelCount=p},get channelCountMode(){return c.channelCountMode},set channelCountMode(p){c.channelCountMode=p},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(p){c.channelInterpretation=p},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(p){l.onended=p},addEventListener(...p){return l.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return l.dispatchEvent(p[0])},removeEventListener(...p){return l.removeEventListener(p[0],p[1],p[2])},start(p=0){l.start.call(l,p)},stop(p=0){l.stop.call(l,p)}},d=()=>l.connect(c),f=()=>l.disconnect(c);return t(i,l),s(Vo(h,c),d,f)},wU=(t,e)=>(n,s)=>{const i=n.createConvolver();if(Tt(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),tt(i,s,"buffer"),s.channelCount>2||(e(i,"channelCount",r=>()=>r.call(i),r=>a=>{if(a>2)throw t();return r.call(i,a)}),s.channelCountMode==="max"))throw t();return e(i,"channelCountMode",r=>()=>r.call(i),r=>a=>{if(a==="max")throw t();return r.call(i,a)}),i},wN=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Tt(n,e),at(n,e,"delayTime"),n},TU=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Tt(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return at(s,n,"attack"),at(s,n,"knee"),at(s,n,"ratio"),at(s,n,"release"),at(s,n,"threshold"),s},cn=(t,e)=>{const n=t.createGain();return Tt(n,e),at(n,e,"gain"),n},EU=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const i=e.createIIRFilter(s.feedforward,s.feedback);return Tt(i,s),i};function CU(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function AU(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function k1(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=AU(n,e),n[0]+=t[s];return n}const NU=(t,e,n,s)=>(i,r,{channelCount:a,channelCountMode:o,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=xN(r,i.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),f=u instanceof Float64Array?u:new Float64Array(u),p=d.length,g=f.length,v=Math.min(p,g);if(p===0||p>20)throw s();if(d[0]===0)throw e();if(g===0||g>20)throw s();if(f[0]===0)throw e();if(d[0]!==1){for(let T=0;T<g;T+=1)f[T]/=d[0];for(let T=1;T<p;T+=1)d[T]/=d[0]}const m=n(i,h,a,a);m.channelCount=a,m.channelCountMode=o,m.channelInterpretation=l;const y=32,b=[],S=[],w=[];for(let T=0;T<a;T+=1){b.push(0);const O=new Float32Array(y),A=new Float32Array(y);O.fill(0),A.fill(0),S.push(O),w.push(A)}m.onaudioprocess=T=>{const O=T.inputBuffer,A=T.outputBuffer,N=O.numberOfChannels;for(let D=0;D<N;D+=1){const I=O.getChannelData(D),V=A.getChannelData(D);b[D]=_N(d,p,f,g,v,S[D],w[D],b[D],y,I,V)}};const C=i.sampleRate/2;return Vo({get bufferSize(){return h},get channelCount(){return m.channelCount},set channelCount(T){m.channelCount=T},get channelCountMode(){return m.channelCountMode},set channelCountMode(T){m.channelCountMode=T},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(T){m.channelInterpretation=T},get context(){return m.context},get inputs(){return[m]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},addEventListener(...T){return m.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return m.dispatchEvent(T[0])},getFrequencyResponse(T,O,A){if(T.length!==O.length||O.length!==A.length)throw t();const N=T.length;for(let D=0;D<N;D+=1){const I=-Math.PI*(T[D]/C),V=[Math.cos(I),Math.sin(I)],L=k1(f,V),R=k1(d,V),k=CU(L,R);O[D]=Math.sqrt(k[0]*k[0]+k[1]*k[1]),A[D]=Math.atan2(k[1],k[0])}},removeEventListener(...T){return m.removeEventListener(T[0],T[1],T[2])}},m)},MU=(t,e)=>t.createMediaElementSource(e.mediaElement),RU=(t,e)=>{const n=t.createMediaStreamDestination();return Tt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},kU=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((r,a)=>r.id<a.id?-1:r.id>a.id?1:0);const s=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:e}),i},OU=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=n.createMediaStreamSource(i);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return r},DU=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,VU=(t,e,n,s,i,r)=>(a,o)=>{const l=a.createOscillator();return Tt(l,o),at(l,o,"detune"),at(l,o,"frequency"),o.periodicWave!==void 0?l.setPeriodicWave(o.periodicWave):tt(l,o,"type"),e(n,()=>n(a))||dv(l),e(s,()=>s(a))||r(l,a),e(i,()=>i(a))||fv(l),t(a,l),l},IU=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(Tt(s,n),at(s,n,"orientationX"),at(s,n,"orientationY"),at(s,n,"orientationZ"),at(s,n,"positionX"),at(s,n,"positionY"),at(s,n,"positionZ"),tt(s,n,"coneInnerAngle"),tt(s,n,"coneOuterAngle"),tt(s,n,"coneOuterGain"),tt(s,n,"distanceModel"),tt(s,n,"maxDistance"),tt(s,n,"panningModel"),tt(s,n,"refDistance"),tt(s,n,"rolloffFactor"),s)},BU=(t,e,n,s,i,r,a,o,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:g,orientationX:v,orientationY:m,orientationZ:y,panningModel:b,positionX:S,positionY:w,positionZ:C,refDistance:E,rolloffFactor:T,...O})=>{const A=u.createPanner();if(O.channelCount>2||O.channelCountMode==="max")throw a();Tt(A,O);const N={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},D=n(u,{...N,channelInterpretation:"speakers",numberOfInputs:6}),I=s(u,{...O,gain:1}),V=s(u,{...N,gain:1}),L=s(u,{...N,gain:0}),R=s(u,{...N,gain:0}),k=s(u,{...N,gain:0}),M=s(u,{...N,gain:0}),B=s(u,{...N,gain:0}),z=i(u,256,6,1),X=r(u,{...N,curve:new Float32Array([1,1]),oversample:"none"});let ne=[v,m,y],re=[S,w,C];const ie=new Float32Array(1);z.onaudioprocess=({inputBuffer:P})=>{const le=[l(P,ie,0),l(P,ie,1),l(P,ie,2)];le.some((de,me)=>de!==ne[me])&&(A.setOrientation(...le),ne=le);const fe=[l(P,ie,3),l(P,ie,4),l(P,ie,5)];fe.some((de,me)=>de!==re[me])&&(A.setPosition(...fe),re=fe)},Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0});const K={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(P){if(P>2)throw a();I.channelCount=P,A.channelCount=P},get channelCountMode(){return A.channelCountMode},set channelCountMode(P){if(P==="max")throw a();I.channelCountMode=P,A.channelCountMode=P},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(P){I.channelInterpretation=P,A.channelInterpretation=P},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(P){A.coneInnerAngle=P},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(P){A.coneOuterAngle=P},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(P){if(P<0||P>1)throw e();A.coneOuterGain=P},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(P){A.distanceModel=P},get inputs(){return[I]},get maxDistance(){return A.maxDistance},set maxDistance(P){if(P<0)throw new RangeError;A.maxDistance=P},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return L.gain},get orientationZ(){return R.gain},get panningModel(){return A.panningModel},set panningModel(P){A.panningModel=P},get positionX(){return k.gain},get positionY(){return M.gain},get positionZ(){return B.gain},get refDistance(){return A.refDistance},set refDistance(P){if(P<0)throw new RangeError;A.refDistance=P},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(P){if(P<0)throw new RangeError;A.rolloffFactor=P},addEventListener(...P){return I.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return I.dispatchEvent(P[0])},removeEventListener(...P){return I.removeEventListener(P[0],P[1],P[2])}};h!==K.coneInnerAngle&&(K.coneInnerAngle=h),d!==K.coneOuterAngle&&(K.coneOuterAngle=d),f!==K.coneOuterGain&&(K.coneOuterGain=f),p!==K.distanceModel&&(K.distanceModel=p),g!==K.maxDistance&&(K.maxDistance=g),v!==K.orientationX.value&&(K.orientationX.value=v),m!==K.orientationY.value&&(K.orientationY.value=m),y!==K.orientationZ.value&&(K.orientationZ.value=y),b!==K.panningModel&&(K.panningModel=b),S!==K.positionX.value&&(K.positionX.value=S),w!==K.positionY.value&&(K.positionY.value=w),C!==K.positionZ.value&&(K.positionZ.value=C),E!==K.refDistance&&(K.refDistance=E),T!==K.rolloffFactor&&(K.rolloffFactor=T),(ne[0]!==1||ne[1]!==0||ne[2]!==0)&&A.setOrientation(...ne),(re[0]!==0||re[1]!==0||re[2]!==0)&&A.setPosition(...re);const ee=()=>{I.connect(A),t(I,X,0,0),X.connect(V).connect(D,0,0),X.connect(L).connect(D,0,1),X.connect(R).connect(D,0,2),X.connect(k).connect(D,0,3),X.connect(M).connect(D,0,4),X.connect(B).connect(D,0,5),D.connect(z).connect(u.destination)},j=()=>{I.disconnect(A),o(I,X,0,0),X.disconnect(V),V.disconnect(D),X.disconnect(L),L.disconnect(D),X.disconnect(R),R.disconnect(D),X.disconnect(k),k.disconnect(D),X.disconnect(M),M.disconnect(D),X.disconnect(B),B.disconnect(D),D.disconnect(z),z.disconnect(u.destination)};return c(Vo(K,A),ee,j)},LU=t=>(e,{disableNormalization:n,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),a=i instanceof Float32Array?i:new Float32Array(i),o=e.createPeriodicWave(a,r,{disableNormalization:n});if(Array.from(s).length<2)throw t();return o},Sc=(t,e,n,s)=>t.createScriptProcessor(e,n,s),jU=(t,e)=>(n,s)=>{const i=s.channelCountMode;if(i==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const r=n.createStereoPanner();return Tt(r,s),at(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:a=>{if(a!==i)throw e()}}),r},PU=(t,e,n,s,i,r)=>{const o=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(p,g,v,m)=>{const y=new Float32Array(16385),b=new Float32Array(16385);for(let O=0;O<16385;O+=1){const A=O/16384*l;y[O]=Math.cos(A),b[O]=Math.sin(A)}const S=n(p,{...c,gain:0}),w=s(p,{...u,curve:y}),C=s(p,{...u,curve:o}),E=n(p,{...c,gain:0}),T=s(p,{...u,curve:b});return{connectGraph(){g.connect(S),g.connect(C.inputs===void 0?C:C.inputs[0]),g.connect(E),C.connect(v),v.connect(w.inputs===void 0?w:w.inputs[0]),v.connect(T.inputs===void 0?T:T.inputs[0]),w.connect(S.gain),T.connect(E.gain),S.connect(m,0,0),E.connect(m,0,1)},disconnectGraph(){g.disconnect(S),g.disconnect(C.inputs===void 0?C:C.inputs[0]),g.disconnect(E),C.disconnect(v),v.disconnect(w.inputs===void 0?w:w.inputs[0]),v.disconnect(T.inputs===void 0?T:T.inputs[0]),w.disconnect(S.gain),T.disconnect(E.gain),S.disconnect(m,0,0),E.disconnect(m,0,1)}}},d=(p,g,v,m)=>{const y=new Float32Array(16385),b=new Float32Array(16385),S=new Float32Array(16385),w=new Float32Array(16385),C=Math.floor(16385/2);for(let k=0;k<16385;k+=1)if(k>C){const M=(k-C)/(16384-C)*l;y[k]=Math.cos(M),b[k]=Math.sin(M),S[k]=0,w[k]=1}else{const M=k/(16384-C)*l;y[k]=1,b[k]=0,S[k]=Math.cos(M),w[k]=Math.sin(M)}const E=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),T=n(p,{...c,gain:0}),O=s(p,{...u,curve:y}),A=n(p,{...c,gain:0}),N=s(p,{...u,curve:b}),D=s(p,{...u,curve:o}),I=n(p,{...c,gain:0}),V=s(p,{...u,curve:S}),L=n(p,{...c,gain:0}),R=s(p,{...u,curve:w});return{connectGraph(){g.connect(E),g.connect(D.inputs===void 0?D:D.inputs[0]),E.connect(T,0),E.connect(A,0),E.connect(I,1),E.connect(L,1),D.connect(v),v.connect(O.inputs===void 0?O:O.inputs[0]),v.connect(N.inputs===void 0?N:N.inputs[0]),v.connect(V.inputs===void 0?V:V.inputs[0]),v.connect(R.inputs===void 0?R:R.inputs[0]),O.connect(T.gain),N.connect(A.gain),V.connect(I.gain),R.connect(L.gain),T.connect(m,0,0),I.connect(m,0,0),A.connect(m,0,1),L.connect(m,0,1)},disconnectGraph(){g.disconnect(E),g.disconnect(D.inputs===void 0?D:D.inputs[0]),E.disconnect(T,0),E.disconnect(A,0),E.disconnect(I,1),E.disconnect(L,1),D.disconnect(v),v.disconnect(O.inputs===void 0?O:O.inputs[0]),v.disconnect(N.inputs===void 0?N:N.inputs[0]),v.disconnect(V.inputs===void 0?V:V.inputs[0]),v.disconnect(R.inputs===void 0?R:R.inputs[0]),O.disconnect(T.gain),N.disconnect(A.gain),V.disconnect(I.gain),R.disconnect(L.gain),T.disconnect(m,0,0),I.disconnect(m,0,0),A.disconnect(m,0,1),L.disconnect(m,0,1)}}},f=(p,g,v,m,y)=>{if(g===1)return h(p,v,m,y);if(g===2)return d(p,v,m,y);throw i()};return(p,{channelCount:g,channelCountMode:v,pan:m,...y})=>{if(v==="max")throw i();const b=t(p,{...y,channelCount:1,channelCountMode:v,numberOfInputs:2}),S=n(p,{...y,channelCount:g,channelCountMode:v,gain:1}),w=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:m});let{connectGraph:C,disconnectGraph:E}=f(p,g,S,w,b);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const T={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(D){S.channelCount!==D&&(O&&E(),{connectGraph:C,disconnectGraph:E}=f(p,D,S,w,b),O&&C()),S.channelCount=D},get channelCountMode(){return S.channelCountMode},set channelCountMode(D){if(D==="clamped-max"||D==="max")throw i();S.channelCountMode=D},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(D){S.channelInterpretation=D},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get pan(){return w.gain},addEventListener(...D){return S.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return S.dispatchEvent(D[0])},removeEventListener(...D){return S.removeEventListener(D[0],D[1],D[2])}};let O=!1;const A=()=>{C(),O=!0},N=()=>{E(),O=!1};return r(Vo(T,b),A,N)}},zU=(t,e,n,s,i,r,a)=>(o,l)=>{const c=o.createWaveShaper();if(r!==null&&r.name==="webkitAudioContext"&&o.createGain().gain.automationRate===void 0)return n(o,l);Tt(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw e();tt(c,{curve:u},"curve"),tt(c,l,"oversample");let h=null,d=!1;return a(c,"curve",g=>()=>g.call(c),g=>v=>(g.call(c,v),d&&(s(v)&&h===null?h=t(o,c):!s(v)&&h!==null&&(h(),h=null)),v)),i(c,()=>{d=!0,s(c.curve)&&(h=t(o,c))},()=>{d=!1,h!==null&&(h(),h=null)})},UU=(t,e,n,s,i)=>(r,{curve:a,oversample:o,...l})=>{const c=r.createWaveShaper(),u=r.createWaveShaper();Tt(c,l),Tt(u,l);const h=n(r,{...l,gain:1}),d=n(r,{...l,gain:-1}),f=n(r,{...l,gain:1}),p=n(r,{...l,gain:-1});let g=null,v=!1,m=null;const y={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(w){h.channelCount=w,d.channelCount=w,c.channelCount=w,f.channelCount=w,u.channelCount=w,p.channelCount=w},get channelCountMode(){return c.channelCountMode},set channelCountMode(w){h.channelCountMode=w,d.channelCountMode=w,c.channelCountMode=w,f.channelCountMode=w,u.channelCountMode=w,p.channelCountMode=w},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(w){h.channelInterpretation=w,d.channelInterpretation=w,c.channelInterpretation=w,f.channelInterpretation=w,u.channelInterpretation=w,p.channelInterpretation=w},get context(){return c.context},get curve(){return m},set curve(w){if(w!==null&&w.length<2)throw e();if(w===null)c.curve=w,u.curve=w;else{const C=w.length,E=new Float32Array(C+2-C%2),T=new Float32Array(C+2-C%2);E[0]=w[0],T[0]=-w[C-1];const O=Math.ceil((C+1)/2),A=(C+1)/2-1;for(let N=1;N<O;N+=1){const D=N/O*A,I=Math.floor(D),V=Math.ceil(D);E[N]=I===V?w[I]:(1-(D-I))*w[I]+(1-(V-D))*w[V],T[N]=I===V?-w[C-1-I]:-((1-(D-I))*w[C-1-I])-(1-(V-D))*w[C-1-V]}E[O]=C%2===1?w[O-1]:(w[O-2]+w[O-1])/2,c.curve=E,u.curve=T}m=w,v&&(s(m)&&g===null?g=t(r,h):g!==null&&(g(),g=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(w){c.oversample=w,u.oversample=w},addEventListener(...w){return h.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return h.dispatchEvent(w[0])},removeEventListener(...w){return h.removeEventListener(w[0],w[1],w[2])}};a!==null&&(y.curve=a instanceof Float32Array?a:new Float32Array(a)),o!==y.oversample&&(y.oversample=o);const b=()=>{h.connect(c).connect(f),h.connect(d).connect(u).connect(p).connect(f),v=!0,s(m)&&(g=t(r,h))},S=()=>{h.disconnect(c),c.disconnect(f),h.disconnect(d),d.disconnect(u),u.disconnect(p),p.disconnect(f),v=!1,g!==null&&(g(),g=null)};return i(Vo(y,f),b,S)},Qt=()=>new DOMException("","NotSupportedError"),FU={numberOfChannels:1},HU=(t,e,n,s,i)=>class extends t{constructor(a,o,l){let c;if(typeof a=="number"&&o!==void 0&&l!==void 0)c={length:o,numberOfChannels:a,sampleRate:l};else if(typeof a=="object")c=a;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:h,sampleRate:d}={...FU,...c},f=s(h,u,d);e(Yl,()=>Yl(f))||f.addEventListener("statechange",(()=>{let p=0;const g=v=>{this._state==="running"&&(p>0?(f.removeEventListener("statechange",g),v.stopImmediatePropagation(),this._waitForThePromiseToSettle(v)):p+=1)};return g})()),super(f,h),this._length=u,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,pN(this)}))}_waitForThePromiseToSettle(a){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(a):setTimeout(()=>this._waitForThePromiseToSettle(a))}},qU={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},GU=(t,e,n,s,i,r,a)=>class extends t{constructor(l,c){const u=i(l),h={...qU,...c},d=n(u,h),f=r(u),p=f?s():null,g=l.sampleRate/2;super(l,!1,d,p),this._detune=e(this,f,d.detune,153600,-153600),this._frequency=e(this,f,d.frequency,g,-g),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?a(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){lo(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),Qs(this)&&vc(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},YU=(t,e,n,s,i)=>()=>{const r=new WeakMap;let a=null,o=null,l=null;const c=async(u,h)=>{let d=n(u);const f=Ft(d,h);if(!f){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:a===null?void 0:a,type:d.type};d=e(h,p),o!==null&&d.start(o),l!==null&&d.stop(l)}return r.set(h,d),f?(await t(h,u.detune,d.detune),await t(h,u.frequency,d.frequency)):(await s(h,u.detune,d.detune),await s(h,u.frequency,d.frequency)),await i(u,h,d),d};return{set periodicWave(u){a=u},set start(u){o=u},set stop(u){l=u},render(u,h){const d=r.get(h);return d!==void 0?Promise.resolve(d):c(u,h)}}},XU={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},WU=(t,e,n,s,i,r,a)=>class extends t{constructor(l,c){const u=i(l),h={...XU,...c},d=n(u,h),f=r(u),p=f?s():null;super(l,!1,d,p),this._nativePannerNode=d,this._orientationX=e(this,f,d.orientationX,qt,sn),this._orientationY=e(this,f,d.orientationY,qt,sn),this._orientationZ=e(this,f,d.orientationZ,qt,sn),this._positionX=e(this,f,d.positionX,qt,sn),this._positionY=e(this,f,d.positionY,qt,sn),this._positionZ=e(this,f,d.positionZ,qt,sn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},KU=(t,e,n,s,i,r,a,o,l,c)=>()=>{const u=new WeakMap;let h=null;const d=async(f,p)=>{let g=null,v=r(f);const m={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation},y={...m,coneInnerAngle:v.coneInnerAngle,coneOuterAngle:v.coneOuterAngle,coneOuterGain:v.coneOuterGain,distanceModel:v.distanceModel,maxDistance:v.maxDistance,panningModel:v.panningModel,refDistance:v.refDistance,rolloffFactor:v.rolloffFactor},b=Ft(v,p);if("bufferSize"in v)g=s(p,{...m,gain:1});else if(!b){const S={...y,orientationX:v.orientationX.value,orientationY:v.orientationY.value,orientationZ:v.orientationZ.value,positionX:v.positionX.value,positionY:v.positionY.value,positionZ:v.positionZ.value};v=i(p,S)}if(u.set(p,g===null?v:g),g!==null){if(h===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new a(6,f.context.length,p.sampleRate),D=e(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});D.connect(N.destination),h=(async()=>{const I=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(V,L)=>{const R=n(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:L===0?1:0});return await o(N,V,R.offset),R}));for(let V=0;V<6;V+=1)I[V].connect(D,0,V),I[V].start(0);return c(N)})()}const S=await h,w=s(p,{...m,gain:1});await l(f,p,w);const C=[];for(let N=0;N<S.numberOfChannels;N+=1)C.push(S.getChannelData(N));let E=[C[0][0],C[1][0],C[2][0]],T=[C[3][0],C[4][0],C[5][0]],O=s(p,{...m,gain:1}),A=i(p,{...y,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:T[0],positionY:T[1],positionZ:T[2]});w.connect(O).connect(A.inputs[0]),A.connect(g);for(let N=128;N<S.length;N+=128){const D=[C[0][N],C[1][N],C[2][N]],I=[C[3][N],C[4][N],C[5][N]];if(D.some((V,L)=>V!==E[L])||I.some((V,L)=>V!==T[L])){E=D,T=I;const V=N/p.sampleRate;O.gain.setValueAtTime(0,V),O=s(p,{...m,gain:0}),A=i(p,{...y,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:T[0],positionY:T[1],positionZ:T[2]}),O.gain.setValueAtTime(1,V),w.connect(O).connect(A.inputs[0]),A.connect(g)}}return g}return b?(await t(p,f.orientationX,v.orientationX),await t(p,f.orientationY,v.orientationY),await t(p,f.orientationZ,v.orientationZ),await t(p,f.positionX,v.positionX),await t(p,f.positionY,v.positionY),await t(p,f.positionZ,v.positionZ)):(await o(p,f.orientationX,v.orientationX),await o(p,f.orientationY,v.orientationY),await o(p,f.orientationZ,v.orientationZ),await o(p,f.positionX,v.positionX),await o(p,f.positionY,v.positionY),await o(p,f.positionZ,v.positionZ)),Do(v)?await l(f,p,v.inputs[0]):await l(f,p,v),v};return{render(f,p){const g=u.get(p);return g!==void 0?Promise.resolve(g):d(f,p)}}},ZU={disableNormalization:!1},QU=(t,e,n,s)=>class TN{constructor(r,a){const o=e(r),l=s({...ZU,...a}),c=t(o,l);return n.add(c),c}static[Symbol.hasInstance](r){return r!==null&&typeof r=="object"&&Object.getPrototypeOf(r)===TN.prototype||n.has(r)}},$U=(t,e)=>(n,s,i)=>(t(s).replay(i),e(s,n,i)),JU=(t,e,n)=>async(s,i,r)=>{const a=t(s);await Promise.all(a.activeInputs.map((o,l)=>Array.from(o).map(async([c,u])=>{const d=await e(c).render(c,i),f=s.context.destination;!n(c)&&(s!==f||!n(s))&&d.connect(r,u,l)})).reduce((o,l)=>[...o,...l],[]))},e8=(t,e,n)=>async(s,i,r)=>{const a=e(s);await Promise.all(Array.from(a.activeInputs).map(async([o,l])=>{const u=await t(o).render(o,i);n(o)||u.connect(r,l)}))},t8=(t,e,n,s)=>i=>t(Yl,()=>Yl(i))?Promise.resolve(t(s,s)).then(r=>{if(!r){const a=n(i,512,0,1);i.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>i.currentTime,a.connect(i.destination)}return i.startRendering()}):new Promise(r=>{const a=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=o=>{a.disconnect(),r(o.renderedBuffer)},a.connect(i.destination),i.startRendering()}),n8=t=>(e,n)=>{t.set(e,n)},s8=t=>(e,n)=>t.set(e,n),i8=(t,e,n,s,i,r,a,o)=>(l,c)=>n(l).render(l,c).then(()=>Promise.all(Array.from(s(c)).map(u=>n(u).render(u,c)))).then(()=>i(c)).then(u=>(typeof u.copyFromChannel!="function"?(a(u),cv(u)):e(r,()=>r(u))||o(u),t.add(u),u)),r8={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},a8=(t,e,n,s,i,r)=>class extends t{constructor(o,l){const c=i(o),u={...r8,...l},h=n(c,u),d=r(c),f=d?s():null;super(o,!1,h,f),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},o8=(t,e,n,s,i)=>()=>{const r=new WeakMap,a=async(o,l)=>{let c=n(o);const u=Ft(c,l);if(!u){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,h)}return r.set(l,c),u?await t(l,o.pan,c.pan):await s(l,o.pan,c.pan),Do(c)?await i(o,l,c.inputs[0]):await i(o,l,c),c};return{render(o,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},l8=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},c8=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),i=URL.createObjectURL(n);let r=!1,a=!1;try{await s.audioWorklet.addModule(i);const o=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();o.port.onmessage=()=>r=!0,o.onprocessorerror=()=>a=!0,l.connect(o),l.start(0),await s.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(i)}return r&&!a},u8=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{n.oncomplete=()=>{s.disconnect(),i(n.currentTime!==0)},n.startRendering()})},h8=()=>new DOMException("","UnknownError"),d8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},f8=(t,e,n,s,i,r,a)=>class extends t{constructor(l,c){const u=i(l),h={...d8,...c},d=n(u,h),p=r(u)?s():null;super(l,!0,d,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},p8=(t,e,n)=>()=>{const s=new WeakMap,i=async(r,a)=>{let o=e(r);if(!Ft(o,a)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(a,c)}return s.set(a,o),Do(o)?await n(r,a,o.inputs[0]):await n(r,a,o),o};return{render(r,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):i(r,a)}}},m8=()=>typeof window>"u"?null:window,g8=(t,e)=>n=>{n.copyFromChannel=(s,i,r=0)=>{const a=t(r),o=t(i);if(o>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(o),u=s.length;for(let h=a<0?-a:0;h+a<l&&h<u;h+=1)s[h]=c[h+a]},n.copyToChannel=(s,i,r=0)=>{const a=t(r),o=t(i);if(o>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(o),u=s.length;for(let h=a<0?-a:0;h+a<l&&h<u;h+=1)c[h+a]=s[h]}},y8=t=>e=>{e.copyFromChannel=(n=>(s,i,r=0)=>{const a=t(r),o=t(i);if(a<e.length)return n.call(e,s,o,a)})(e.copyFromChannel),e.copyToChannel=(n=>(s,i,r=0)=>{const a=t(r),o=t(i);if(a<e.length)return n.call(e,s,o,a)})(e.copyToChannel)},v8=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",i=>()=>{const r=i.call(e);return r===s?null:r},i=>r=>i.call(e,r===null?s:r))},b8=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(s,()=>{const o=s.numberOfInputs;for(let l=0;l<o;l+=1)i.connect(s,0,l)},()=>i.disconnect(s))},EN=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),CN=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},wc=(t,e,n,s)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:r,set:a}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(r),set:s(a)})},_8=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),x8=t=>({...t,channelCount:t.numberOfOutputs}),S8=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},AN=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;AN(t,e,n+1e-7)}},w8=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},T8=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},E8=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},pv=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},NN=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},mv=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},C8=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},A8=t=>{t.start=(e=>(n=0,s=0,i)=>{const r=t.buffer,a=r===null?s:Math.min(r.duration,s);r!==null&&a>r.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,i)})(t.start)},MN=(t,e)=>{const n=e.createGain();t.connect(n);const s=(i=>()=>{i.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Vo(t,n),t.stop=(i=>{let r=!1;return(a=0)=>{if(r)try{i.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else i.call(t,a),r=!0}})(t.stop)},Io=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},N8=WP(ea),M8=e6(ea),R8=dz(Od),RN=new WeakMap,k8=Rz(RN),ls=F6(new Map,new WeakMap),Es=m8(),kN=aU(ls,ks),gv=Mz(Wt),jt=JU(Wt,gv,Gr),O8=r6(kN,Qe,jt),Ye=Dz(kd),ui=DU(Es),Pe=Zz(ui),ON=new WeakMap,DN=Sz(Io),Tc=uU(Es),yv=Yz(Tc),vv=Xz(Es),VN=Wz(Es),Xl=dU(Es),ht=R6(KP(oN),JP(N8,M8,Bh,R8,Lh,Wt,k8,yc,Qe,ea,Qs,Gr,ju),ls,Uz(eg,Lh,Wt,Qe,Gl,Qs),ks,Dd,Qt,lz(Bh,eg,Wt,Qe,Gl,Ye,Qs,Pe),mz(ON,Wt,ss),DN,Ye,yv,vv,VN,Pe,Xl),D8=i6(ht,O8,ks,kN,Ye,Pe),bv=new WeakSet,O1=oU(Es),IN=tz(new Uint32Array(1)),_v=g8(IN,ks),xv=y8(IN),BN=o6(bv,ls,Qt,O1,ui,l8(O1),_v,xv),Vd=t6(cn),LN=e8(gv,bc,Gr),Os=K6(LN),Bo=cU(Vd,ls,w8,T8,E8,pv,NN,mv,A8,v8(wc),MN),Ds=$U(kz(bc),LN),V8=u6(Os,Bo,Qe,Ds,jt),cs=k6(ZP(lN),ON,lv,O6,FP,HP,qP,GP,YP,Qm,rN,Tc,AN),I8=c6(ht,V8,cs,Nt,Bo,Ye,Pe,Io),B8=b6(ht,_6,ks,Nt,hU(cn,wc),Ye,Pe,jt),L8=U6(Os,SN,Qe,Ds,jt),ta=s8(RN),j8=z6(ht,cs,L8,Dd,SN,Ye,Pe,ta),fr=iU(ea,vv),P8=b8(Nt,fr),pr=bU(Tc,P8),z8=G6(pr,Qe,jt),U8=q6(ht,z8,pr,Ye,Pe),F8=W6(xc,Qe,jt),H8=X6(ht,F8,xc,Ye,Pe,x8),q8=SU(Vd,Bo,cn,fr),Lo=xU(Vd,ls,q8,pv,mv),G8=ez(Os,Lo,Qe,Ds,jt),Y8=J6(ht,cs,G8,Lo,Ye,Pe,Io),jN=wU(Qt,wc),X8=iz(jN,Qe,jt),W8=sz(ht,X8,jN,Ye,Pe,ta),K8=hz(Os,wN,Qe,Ds,jt),Z8=uz(ht,cs,K8,wN,Ye,Pe,ta),PN=TU(Qt),Q8=bz(Os,PN,Qe,Ds,jt),$8=vz(ht,cs,Q8,PN,Qt,Ye,Pe,ta),J8=Az(Os,cn,Qe,Ds,jt),e7=Cz(ht,cs,J8,cn,Ye,Pe),t7=NU(Dd,Nt,Sc,Qt),Id=t8(ls,cn,Sc,u8(cn,ui)),n7=zz(Bo,Qe,ui,jt,Id),s7=EU(t7),i7=jz(ht,s7,n7,Ye,Pe,ta),r7=x6(cs,pr,Lo,Sc,Qt,EN,Pe,wc),zN=new WeakMap,a7=sU(B8,r7,DN,Pe,zN,Io),UN=VU(Vd,ls,pv,NN,mv,MN),o7=YU(Os,UN,Qe,Ds,jt),l7=GU(ht,cs,UN,o7,Ye,Pe,Io),FN=Q6(Bo),c7=UU(FN,Nt,cn,CN,fr),Bd=zU(FN,Nt,c7,CN,fr,Tc,wc),u7=BU(Bh,Nt,pr,cn,Sc,Bd,Qt,Lh,EN,fr),HN=IU(u7),h7=KU(Os,pr,Lo,cn,HN,Qe,ui,Ds,jt,Id),d7=WU(ht,cs,HN,h7,Ye,Pe,ta),f7=LU(ks),p7=QU(f7,Ye,new WeakSet,S8),m7=PU(pr,xc,cn,Bd,Qt,fr),qN=jU(m7,Qt),g7=o8(Os,qN,Qe,Ds,jt),y7=a8(ht,cs,qN,g7,Ye,Pe),v7=p8(Bd,Qe,jt),b7=f8(ht,Nt,Bd,v7,Ye,Pe,ta),GN=Qz(Es),Sv=wz(Es),YN=new WeakMap,_7=Vz(YN,ui),x7=GN?$P(ls,Qt,xz(Es),Sv,Tz(XP),Ye,_7,Pe,Xl,new WeakMap,new WeakMap,c8(Xl,ui),Es):void 0,S7=Kz(yv,Pe),w7=oz(bv,ls,az,_z,new WeakSet,Ye,S7,Vh,Yl,_v,xv),XN=j6(x7,D8,BN,I8,j8,U8,H8,Y8,W8,w7,Z8,$8,e7,i7,a7,l7,d7,p7,y7,b7),T7=$z(ht,MU,Ye,Pe),E7=eU(ht,RU,Ye,Pe),C7=tU(ht,kU,Ye,Pe),A7=OU(Nt,Pe),N7=nU(ht,A7,Ye),M7=v6(XN,Nt,Qt,h8,T7,E7,C7,N7,Tc),wv=Iz(zN),R7=n6(wv),WN=Z6(ks),k7=fz(wv),KN=gz(ks),ZN=new WeakMap,O7=Nz(ZN,ss),D7=vU(WN,ks,Nt,pr,xc,Lo,cn,Sc,Qt,KN,Sv,O7,fr),V7=pU(Nt,D7,cn,Qt,fr),I7=L6(Os,WN,Bo,pr,xc,Lo,cn,k7,KN,Sv,Qe,Xl,ui,Ds,jt,Id),B7=Oz(YN),L7=n8(ZN),D1=GN?V6(R7,ht,cs,I7,V7,Wt,B7,Ye,Pe,Xl,_8,L7,C8,Io):void 0,j7=rz(Qt,ui),P7=i8(bv,ls,gv,wv,Id,Vh,_v,xv),z7=HU(XN,ls,Nt,j7,P7),U7=Fz(kd,yv),F7=Hz(ov,vv),H7=qz(lv,VN),q7=Gz(kd,Pe);function Tn(t){return t===void 0}function ve(t){return t!==void 0}function G7(t){return typeof t=="function"}function is(t){return typeof t=="number"}function Gi(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function QN(t){return typeof t=="boolean"}function an(t){return Array.isArray(t)}function ai(t){return typeof t=="string"}function cu(t){return ai(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function oe(t,e){if(!t)throw new Error(e)}function Ln(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function $N(t){!t.isOffline&&t.state!=="running"&&Ld('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let JN=!1,V1=!1;function I1(t){JN=t}function Y7(t){Tn(t)&&JN&&!V1&&(V1=!0,Ld("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let eM=console;function X7(...t){eM.log(...t)}function Ld(...t){eM.warn(...t)}function W7(t){return new M7(t)}function K7(t,e,n){return new z7(t,e,n)}const pn=typeof self=="object"?self:null,Z7=pn&&(pn.hasOwnProperty("AudioContext")||pn.hasOwnProperty("webkitAudioContext"));function Q7(t,e,n){return oe(ve(D1),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(pn==null?void 0:pn.BaseAudioContext)?pn==null?void 0:pn.AudioWorkletNode:D1)(t,e,n)}function us(t,e,n,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,n,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}function lt(t,e,n,s){function i(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?r(u.value):i(u.value).then(o,l)}c((s=s.apply(t,e||[])).next())})}class $7{constructor(e,n,s,i){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(i||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Yr(t){return H7(t)}function Yi(t){return F7(t)}function Pu(t){return q7(t)}function ga(t){return U7(t)}function J7(t){return t instanceof BN}function eF(t,e){return t==="value"||Yr(e)||Yi(e)||J7(e)}function Xi(t,...e){if(!e.length)return t;const n=e.shift();if(Gi(t)&&Gi(n))for(const s in n)eF(s,n[s])?t[s]=n[s]:Gi(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Xi(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Xi(t,...e)}function tF(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function J(t,e,n=[],s){const i={},r=Array.from(e);if(Gi(r[0])&&s&&!Reflect.has(r[0],s)&&(Object.keys(r[0]).some(o=>Reflect.has(t,o))||(Xi(i,{[s]:r[0]}),n.splice(n.indexOf(s),1),r.shift())),r.length===1&&Gi(r[0]))Xi(i,r[0]);else for(let a=0;a<n.length;a++)ve(r[a])&&(i[n[a]]=r[a]);return Xi(t,i)}function nF(t){return t.constructor.getDefaults()}function xs(t,e){return Tn(t)?e:t}function co(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class hi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||pn&&this.toString()===pn.TONE_DEBUG_CLASS)&&X7(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}hi.version=iN;const Tv=1e-6;function uo(t,e){return t>e+Tv}function rg(t,e){return uo(t,e)||Zn(t,e)}function Uh(t,e){return t+Tv<e}function Zn(t,e){return Math.abs(t-e)<Tv}function sF(t,e,n){return Math.max(Math.min(t,n),e)}class Un extends hi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=J(Un.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(oe(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];oe(rg(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Zn(this._timeline[n].time,e)){for(let s=n;s>=0&&Zn(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&rg(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const i=this._timeline.length;let r=i;if(i>0&&this._timeline[i-1][n]<=e)return i-1;for(;s<r;){let a=Math.floor(s+(r-s)/2);const o=this._timeline[a],l=this._timeline[a+1];if(Zn(o[n],e)){for(let c=a;c<this._timeline.length;c++){const u=this._timeline[c];if(Zn(u[n],e))a=c;else break}return a}else{if(Uh(o[n],e)&&uo(l[n],e))return a;uo(o[n],e)?r=a:s=a+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let i=this._search(e),r=this._search(n);return i!==-1&&r!==-1?(this._timeline[i].time!==e&&(i+=1),this._timeline[r].time===n&&(r-=1),this._iterate(s,i,r)):i===-1&&this._iterate(s,0,r),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Zn(this._timeline[s].time,e)){let i=s;for(let r=s;r>=0&&Zn(this._timeline[r].time,e);r--)i=r;this._iterate(r=>{n(r)},i,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const tM=[];function jd(t){tM.push(t)}function iF(t){tM.forEach(e=>e(t))}const nM=[];function Pd(t){nM.push(t)}function rF(t){nM.forEach(e=>e(t))}class Ec extends hi{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(i=>{Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(n)}),this}once(e,n){const s=(...i)=>{n(...i),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(i=>{if(Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(i))if(Tn(n))this._events[i]=[];else{const r=this._events[i];for(let a=r.length-1;a>=0;a--)r[a]===n&&r.splice(a,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let i=0,r=s.length;i<r;i++)s[i].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(Ec.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class sM extends Ec{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Cc extends sM{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Un,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=J(Cc.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=W7({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new $7(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(iF(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return oe(ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return oe(ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return oe(ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){oe(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){oe(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){oe(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){oe(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Q7(this.rawContext,e,n)}addAudioWorkletModule(e){return lt(this,void 0,void 0,function*(){oe(ve(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return lt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ga(this._context)?this._context.resume():Promise.resolve()}close(){return lt(this,void 0,void 0,function*(){ga(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&rF(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let r=0;r<s.length;r++)s[r]=e;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=n,i.loop=!0,i.start(0),this._constants.set(e,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,i=()=>{const r=this.now();this._timeouts.add({callback:()=>{e(),i()},id:s,time:r+n})};return i(),s}}class aF extends sM{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return lt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function De(t,e){an(e)?e.forEach(n=>De(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Ev(t,e){an(e)?e.forEach(n=>Ev(t,n)):Object.defineProperty(t,e,{writable:!0})}const Ae=()=>{};class Be extends hi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ae;const e=J(Be.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,ai(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Ae,onload:Ae,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Kt().sampleRate}set(e){return e instanceof Be?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return lt(this,void 0,void 0,function*(){const n=Be.load(e).then(s=>{this.set(s),this.onload(this)});Be.downloads.push(n);try{yield n}finally{const s=Be.downloads.indexOf(n);Be.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=an(e)&&e[0].length>0,s=n?e.length:1,i=n?e[0].length:e.length,r=Kt(),a=r.createBuffer(s,i,r.sampleRate),o=!n&&s===1?[e]:e;for(let l=0;l<s;l++)a.copyToChannel(o[l],l);return this._buffer=a,this}toMono(e){if(is(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let i=0;i<s;i++){const r=this.toArray(i);for(let a=0;a<r.length;a++)n[a]+=r[a]}n=n.map(i=>i/s),this.fromArray(n)}return this}toArray(e){if(is(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){oe(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),i=Math.floor(n*this.sampleRate);oe(s<i,"The start time must be less than the end time");const r=i-s,a=Kt().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)a.copyToChannel(this.getChannelData(o).subarray(s,i),o);return new Be(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Be().fromArray(e)}static fromUrl(e){return lt(this,void 0,void 0,function*(){return yield new Be().load(e)})}static load(e){return lt(this,void 0,void 0,function*(){const n=Be.baseUrl===""||Be.baseUrl.endsWith("/")?Be.baseUrl:Be.baseUrl+"/",s=yield fetch(n+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const i=yield s.arrayBuffer();return yield Kt().decodeAudioData(i)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return lt(this,void 0,void 0,function*(){for(yield Promise.resolve();Be.downloads.length;)yield Be.downloads[0]})}}Be.baseUrl="";Be.downloads=[];class Ac extends Cc{constructor(){super({clockSource:"offline",context:Pu(arguments[0])?arguments[0]:K7(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Pu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Pu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return lt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(i=>setTimeout(i,1)))}})}render(){return lt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new Be(n)})}close(){return Promise.resolve()}}const iM=new aF;let Ar=iM;function Kt(){return Ar===iM&&Z7&&ag(new Cc),Ar}function ag(t,e=!1){e&&Ar.dispose(),ga(t)?Ar=new Cc(t):Pu(t)?Ar=new Ac(t):Ar=t}function oF(){return Ar.resume()}if(pn&&!pn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${iN} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function lF(t){return Math.pow(10,t/20)}function cF(t){return 20*(Math.log(t)/Math.LN10)}function rM(t){return Math.pow(2,t/12)}let zd=440;function uF(){return zd}function hF(t){zd=t}function Nr(t){return Math.round(aM(t))}function aM(t){return 69+12*Math.log2(t/zd)}function oM(t){return zd*Math.pow(2,(t-69)/12)}class Cv extends hi{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),i=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/s)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let i=0;return e&&e!=="0"&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(i+=this._beatsToUnits(parseFloat(s)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Cv&&this.fromType(this._val),Tn(this._val))return this._noArg();if(ai(this._val)&&Tn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Gi(this._val)){let e=0;for(const n in this._val)if(ve(this._val[n])){const s=this._val[n],i=new this.constructor(this.context,n).valueOf()*s;e+=i}return e}if(ve(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return ai(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Jn extends Cv{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Jn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),i=this.valueOf(),o=Math.round(i/s)*s-i;return i+o*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let r=1;r<9;r++){const a=Math.pow(2,r);n.push(a+"n."),n.push(a+"n"),n.push(a+"t")}n.push("0");let s=n[0],i=new Jn(this.context,n[0]).toSeconds();return n.forEach(r=>{const a=new Jn(this.context,r).toSeconds();Math.abs(a-e)<Math.abs(i-e)&&(s=r,i=a)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let i=n%1*4;n=Math.floor(n)%this._getTimeSignature();const r=i.toString();return r.length>3&&(i=parseFloat(parseFloat(r).toFixed(3))),[s,n,i].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Nr(this.toFrequency())}_now(){return this.context.now()}}class yn extends Jn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return uF()}static set A4(e){hF(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:yn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const i=dF[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?i:yn.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let i=1;return e&&e!=="0"&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(i*=this._beatsToUnits(parseFloat(s)/4)),i}}})}transpose(e){return new yn(this.context,this.valueOf()*rM(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Nr(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/yn.A4);let s=Math.round(12*n)+57;const i=Math.floor(s/12);return i<0&&(s+=-12*i),fF[s%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return oM(e)}static ftom(e){return Nr(e)}}const dF={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},fF=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Xa extends Jn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Mt extends hi{constructor(){super();const e=J(Mt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Kt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Y7(e),new Jn(this.context,e).toSeconds()}toFrequency(e){return new yn(this.context,e).toFrequency()}toTicks(e){return new Xa(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{Tn(e[s])&&delete n[s]}),n}get(){const e=nF(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];ve(s)&&ve(s.value)&&ve(s.setValueAtTime)?e[n]=s.value:s instanceof Mt?e[n]=s._getPartialProperties(e[n]):an(s)||is(s)||ai(s)||QN(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ve(this[n])&&(this[n]&&ve(this[n].value)&&ve(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Mt?this[n].set(e[n]):this[n]=e[n])}),this}}class Nc extends Un{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return Ln(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let i=s;i>=0;i--){const r=this._timeline[i];if(r.state===e)return r}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let i=s;i<this._timeline.length;i++){const r=this._timeline[i];if(r.state===e)return r}}}class Ce extends Mt{constructor(){const e=J(Ce.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,oe(ve(e.param)&&(Yr(e.param)||e.param instanceof Ce),"param must be an AudioParam");!Yr(e.param);)e.param=e.param._param;this._swappable=ve(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Un(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ve(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Mt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ve(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ve(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ve(this.maxValue)&&ve(this.minValue)&&Ln(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?lF(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?cF(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),i=this._fromType(e);return oe(isFinite(i)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),i=this._events.get(n);let r=this._initialValue;if(i===null)r=this._initialValue;else if(i.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const a=this._events.getBefore(i.time);let o;a===null?o=this._initialValue:o=a.value,i.type==="setTargetAtTime"&&(r=this._exponentialApproach(i.time,o,i.value,i.constant,n))}else if(s===null)r=i.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let a=i.value;if(i.type==="setTargetAtTime"){const o=this._events.getBefore(i.time);o===null?a=this._initialValue:a=o.value}s.type==="linearRampToValueAtTime"?r=this._linearInterpolate(i.time,a,s.time,s.value,n):r=this._exponentialInterpolate(i.time,a,s.time,s.value,n)}else r=i.value;return this._toType(r)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),i=this.toSeconds(n);return oe(isFinite(s)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:i,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,i),this._param.linearRampToValueAtTime(s,i),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Zn(s,0)?this._minOutput:s,this._assertRange(s);const i=this.toSeconds(n);return oe(isFinite(s)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,i),this._param.exponentialRampToValueAtTime(s,i),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const i=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,i),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const i=this._fromType(e);oe(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(n);return this._assertRange(i),oe(isFinite(i)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:r,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",e,r,s),this._param.setTargetAtTime(i,r,s),this}setValueCurveAtTime(e,n,s,i=1){s=this.toSeconds(s),n=this.toSeconds(n);const r=this._fromType(e[0])*i;this.setValueAtTime(this._toType(r),n);const a=s/(e.length-1);for(let o=1;o<e.length;o++){const l=this._fromType(e[o])*i;this.linearRampToValueAtTime(this._toType(l),n+o*a)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return oe(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));oe(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const i=this._events.get(n),r=this._events.getAfter(n);return i&&Zn(i.time,n)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),r.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):r.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const i=this._events.getAfter(s.time),r=i?i.time:n+2,a=(r-n)/10;for(let o=n;o<r;o+=a)e.linearRampToValueAtTime(this.getValueAtTime(o),o)}return this._events.forEachAfter(this.context.currentTime,i=>{i.type==="cancelScheduledValues"?e.cancelScheduledValues(i.time):i.type==="setTargetAtTime"?e.setTargetAtTime(i.value,i.time,i.constant):e[i.type](i.value,i.time)}),this}setParam(e){oe(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,i,r){return s+(n-s)*Math.exp(-(r-e)/i)}_linearInterpolate(e,n,s,i,r){return n+(i-n)*((r-e)/(s-e))}_exponentialInterpolate(e,n,s,i,r){return n*Math.pow(i/n,(r-e)/(s-e))}}class se extends Mt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ve(this.input)?Yr(this.input)||this.input instanceof Ce?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ve(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ve(e)&&(e instanceof se||Yi(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();oe(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return rs(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ld("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return lM(this,e,n,s),this}chain(...e){return Xr(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ve(this.input)&&(this.input instanceof se?this.input.dispose():Yi(this.input)&&this.input.disconnect()),ve(this.output)&&(this.output instanceof se?this.output.dispose():Yi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Xr(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof se?n.connect(s):Yi(n)&&rs(n,s),s),e)}function rs(t,e,n=0,s=0){for(oe(ve(t),"Cannot connect from undefined node"),oe(ve(e),"Cannot connect to undefined node"),(e instanceof se||Yi(e))&&oe(e.numberOfInputs>0,"Cannot connect to node with no inputs"),oe(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof se||e instanceof Ce;)ve(e.input)&&(e=e.input);for(;t instanceof se;)ve(t.output)&&(t=t.output);Yr(e)?t.connect(e,n):t.connect(e,n,s)}function lM(t,e,n=0,s=0){if(ve(e))for(;e instanceof se;)e=e.input;for(;!Yi(t);)ve(t.output)&&(t=t.output);Yr(e)?t.disconnect(e,n):Yi(e)?t.disconnect(e,n,s):t.disconnect()}class Me extends se{constructor(){const e=J(Me.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Ce({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),De(this,"gain")}static getDefaults(){return Object.assign(se.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ho extends se{constructor(e){super(e),this.onended=Ae,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Me({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(se.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ae})}_startGain(e,n=1){oe(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){oe(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ae&&(this.onended(this),this.onended=Ae,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),oe(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ae,this}}class Av extends ho{constructor(){const e=J(Av.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),rs(this._source,this._gainNode),this.offset=new Ce({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ho.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Oe extends se{constructor(){const e=J(Oe.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Av({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(se.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Ud(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,i){return this._param.setValueCurveAtTime(e,n,s,i),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ud(t,e,n,s){(e instanceof Ce||Yr(e)||e instanceof Oe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Oe&&(e.overridden=!0)),rs(t,e,n,s)}class Nv extends Ce{constructor(){const e=J(Nv.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Un(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ce.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const i=this._fromType(e),r=this._events.get(n),a=Math.round(Math.max(1/s,1));for(let o=0;o<=a;o++){const l=s*o+n,c=this._exponentialApproach(r.time,r.value,i,s,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const i=this._events.get(s),r=this._events.previousEvent(i),a=this._getTicksUntilEvent(r,s);return i.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const i=this._events.get(s),r=this._events.previousEvent(i),a=this._getTicksUntilEvent(r,s);return i.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),i=this._events.get(n),r=Math.round(Math.max((n-i.time)*10,1)),a=(n-i.time)/r;for(let o=0;o<=r;o++){const l=a*o+i.time,c=this._exponentialInterpolate(i.time,i.value,n,s,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Tn(e.ticks)){const a=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(a,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let i=this._fromType(this.getValueAtTime(n));const r=this._events.get(n);return r&&r.time===n&&r.type==="setValueAtTime"&&(i=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+i)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),i=this.getTicksAtTime(n);return this.getTimeOfTick(i+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const i=this._fromType(this.getValueAtTime(n.time)),a=(this._fromType(this.getValueAtTime(s.time))-i)/(s.time-n.time),o=Math.sqrt(Math.pow(i,2)-2*a*(n.ticks-e)),l=(-i+o)/a,c=(-i-o)/a;return(l>0?l:c)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),i=this.toSeconds(e),r=this.getTicksAtTime(s);return this.getTicksAtTime(s+i)-r}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Mv extends Oe{constructor(){const e=J(Mv.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Nv({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Oe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Rv extends Mt{constructor(){const e=J(Rv.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Nc,this._tickOffset=new Un,this._ticksAtTime=new Un,this._secondsAtTime=new Un,this.frequency=new Mv({context:this.context,units:e.units,value:e.frequency}),De(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Mt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),ve(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),i=this._ticksAtTime.get(n),r={state:"paused",time:n};this._state.add(r);let a=i||s,o=i?i.ticks:0,l=null;return this._state.forEachBetween(a.time,n+this.sampleTime,c=>{let u=a.time;const h=this._tickOffset.get(c.time);h&&h.time>=a.time&&(o=h.ticks,u=h.time),a.state==="started"&&c.state!=="started"&&(o+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(u),c.time!==r.time&&(l={state:c.state,time:c.time,ticks:o})),a=c}),this._state.remove(r),l&&this._ticksAtTime.add(l),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const i=this._secondsAtTime.get(e);let r=i||n,a=i?i.seconds:0,o=null;return this._state.forEachBetween(r.time,e+this.sampleTime,l=>{let c=r.time;const u=this._tickOffset.get(l.time);u&&u.time>=r.time&&(a=u.seconds,c=u.time),r.state==="started"&&l.state!=="started"&&(a+=l.time-c,l.time!==s.time&&(o={state:l.state,time:l.time,seconds:a})),r=l}),this._state.remove(s),o&&this._secondsAtTime.add(o),a}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),i=this._state.get(n),r=Math.max(s.time,i.time),a=this.frequency.getTicksAtTime(r)+e-s.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,n,s){let i=this._state.get(e);this._state.forEachBetween(e,n,a=>{i&&i.state==="started"&&a.state!=="started"&&this.forEachTickBetween(Math.max(i.time,e),a.time-this.sampleTime,s),i=a});let r=null;if(i&&i.state==="started"){const a=Math.max(i.time,e),o=this.frequency.getTicksAtTime(a),l=this.frequency.getTicksAtTime(i.time),c=o-l;let u=Math.ceil(c)-c;u=Zn(u,1)?0:u;let h=this.frequency.getTimeOfTick(o+u);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(d){r=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Fd extends Mt{constructor(){const e=J(Fd.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Ae,this._lastUpdate=0,this._state=new Nc("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Rv({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,De(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Mt.getDefaults(),{callback:Ae,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){$N(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),i=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(i+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const i=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,i);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,i)=>{this.callback(s,i)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ec.mixin(Fd);class Fh extends se{constructor(){const e=J(Fh.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new Ce({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),De(this,"delayTime")}static getDefaults(){return Object.assign(se.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Vs extends se{constructor(){const e=J(Vs.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Me({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,De(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(se.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class kv extends se{constructor(){const e=J(kv.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Vs({context:this.context}),this.output=new Me({context:this.context}),this.volume=this.input.volume,Xr(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(se.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Xr(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}jd(t=>{t.destination=new kv({context:t})});Pd(t=>{t.destination.dispose()});class pF extends se{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ce({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ce({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ce({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ce({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ce({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ce({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ce({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ce({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ce({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(se.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}jd(t=>{t.listener=new pF({context:t})});Pd(t=>{t.listener.dispose()});function mF(t,e){return lt(this,arguments,void 0,function*(n,s,i=2,r=Kt().sampleRate){const a=Kt(),o=new Ac(i,s,r);ag(o),yield n(o);const l=o.render();ag(a);const c=yield l;return new Be(c)})}class Ov extends hi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=J(Ov.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ae,onload:Ae,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return oe(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=Ae,i=Ae){return ai(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Be(this.baseUrl+n,s,i))):this._buffers.set(e.toString(),new Be(n,s,i)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Hh extends yn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Nr(super._frequencyToUnits(e))}_ticksToUnits(e){return Nr(super._ticksToUnits(e))}_beatsToUnits(e){return Nr(super._beatsToUnits(e))}_secondsToUnits(e){return Nr(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return oM(this.toMidi())}transpose(e){return new Hh(this.context,this.toMidi()+e)}}class xt extends Xa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class gF extends Mt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Un,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}jd(t=>{t.draw=new gF({context:t})});Pd(t=>{t.draw.dispose()});class yF extends hi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){oe(ve(e.time),"Events must have a time property"),oe(ve(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new vF(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,i=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,i=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,i=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,i=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,i=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),i&&this._rebalance(i)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),i=e.right;i&&(e.right=i.left,i.left=e),n!==null?s?n.left=i:n.right=i:this._setRoot(i)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),i=e.left;i&&(e.left=i.right,i.right=e),n!==null?s?n.left=i:n.right=i:this._setRoot(i)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let i=1;i<n.length;i++)n[i].low>s.low&&(s=n[i]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(i=>{i.event&&n(i.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(i=>{i.event&&n(i.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class vF{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class bF extends hi{constructor(e){super(),this.name="TimelineValue",this._timeline=new Un({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Cs extends se{constructor(){super(J(Cs.getDefaults(),arguments,["context"]))}connect(e,n=0,s=0){return Ud(this,e,n,s),this}}class jo extends Cs{constructor(){const e=J(jo.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,an(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):G7(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Oe.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let i=0,r=n;i<r;i++){const a=i/(r-1)*2-1;s[i]=e(a,i)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));oe(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Dv extends Cs{constructor(){const e=J(Dv.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new jo({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Cs.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class rr{constructor(e,n){this.id=rr._eventId++,this._remainderTime=0;const s=Object.assign(rr.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:Ae,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}rr._eventId=0;class Vv extends rr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Vv.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},rr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Uh(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new xt(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Uh(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new xt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);uo(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Hd extends Mt{constructor(){const e=J(Hd.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new bF(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Un,this._repeatedEvents=new yF,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Fd({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),De(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Mt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),i=Math.sin(s*Math.PI)*this._swingAmount;e+=new xt(this.context,this._swingTicks*2/3).toSeconds()*i}I1(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),I1(!1)}schedule(e,n){const s=new rr(this,{callback:e,time:new Xa(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,i=1/0){const r=new Vv(this,{callback:e,duration:new Jn(this.context,i).toTicks(),interval:new Jn(this.context,n).toTicks(),time:new Xa(this.context,s).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(e,n){const s=new rr(this,{callback:e,once:!0,time:new Xa(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new xt(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return ve(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){an(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Jn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Jn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new xt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new xt(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),i=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),r=n+i;this.emit("stop",r),this._clock.setTicksAtTime(e,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),i=e-s%e;return this._clock.nextTickTime(i,n)}}syncSignal(e,n){const s=this.now();let i=this.bpm,r=1/(60/i.getValueAtTime(s)/this.PPQ),a=[];if(e.units==="time"){const l=.015625/r,c=new Me(l),u=new Dv(-1),h=new Me(l);i.chain(c,u,h),i=h,r=1/r,a=[c,u,h]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/r:n=0);const o=new Me(n);return i.connect(o),o.connect(e._param),a.push(o),this._syncedSignals.push({initial:e.value,nodes:a,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(i=>i.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ev(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ec.mixin(Hd);jd(t=>{t.transport=new Hd({context:t})});Pd(t=>{t.transport.dispose()});class Ut extends se{constructor(e){super(e),this.input=void 0,this._state=new Nc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ae,this._syncedStop=Ae,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Vs({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,De(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(se.getDefaults(),{mute:!1,onstop:Ae,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let i=Tn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),!this._synced&&this._state.getValueAtTime(i)==="started")oe(uo(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,n,s);else if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const r=this._state.get(i);r&&(r.offset=this.toSeconds(xs(n,0)),r.duration=s?this.toSeconds(s):void 0);const a=this.context.transport.schedule(o=>{this._start(o,n,s)},i);this._scheduled.push(a),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else $N(this.context),this._start(i,n,s);return this}stop(e){let n=Tn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ve(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(uo(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const i=n-this.toSeconds(s.time);let r;s.duration&&(r=this.toSeconds(s.duration)-i),this._start(e,this.toSeconds(s.offset)+i,r)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ae,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Mc extends ho{constructor(){const e=J(Mc.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,rs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ce({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Be(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ho.getDefaults(),{url:new Be,loop:!1,loopEnd:0,loopStart:0,onload:Ae,onerror:Ae,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,i=1){oe(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(e);this._startGain(r,i),this.loop?n=xs(n,this.loopStart):n=xs(n,0);let a=Math.max(this.toSeconds(n),0);if(this.loop){const o=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=o-l;rg(a,o)&&(a=(a-l)%c+l),Zn(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Uh(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,a)),ve(s)){let o=this.toSeconds(s);o=Math.max(o,0),this.stop(r+o)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class fo extends Ut{constructor(){const e=J(fo.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ut.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(oe(e in B1,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=B1[this._type];this._source=new Mc({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const ha=44100*5,pp=2,zs={brown:null,pink:null,white:null},B1={get brown(){if(!zs.brown){const t=[];for(let e=0;e<pp;e++){const n=new Float32Array(ha);t[e]=n;let s=0;for(let i=0;i<ha;i++){const r=Math.random()*2-1;n[i]=(s+.02*r)/1.02,s=n[i],n[i]*=3.5}}zs.brown=new Be().fromArray(t)}return zs.brown},get pink(){if(!zs.pink){const t=[];for(let e=0;e<pp;e++){const n=new Float32Array(ha);t[e]=n;let s,i,r,a,o,l,c;s=i=r=a=o=l=c=0;for(let u=0;u<ha;u++){const h=Math.random()*2-1;s=.99886*s+h*.0555179,i=.99332*i+h*.0750759,r=.969*r+h*.153852,a=.8665*a+h*.3104856,o=.55*o+h*.5329522,l=-.7616*l-h*.016898,n[u]=s+i+r+a+o+l+c+h*.5362,n[u]*=.11,c=h*.115926}}zs.pink=new Be().fromArray(t)}return zs.pink},get white(){if(!zs.white){const t=[];for(let e=0;e<pp;e++){const n=new Float32Array(ha);t[e]=n;for(let s=0;s<ha;s++)n[s]=Math.random()*2-1}zs.white=new Be().fromArray(t)}return zs.white}};function na(t,e){return lt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new Ac(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class Iv extends ho{constructor(){const e=J(Iv.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],rs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Ce({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Ce({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),De(this,["frequency","detune"])}static getDefaults(){return Object.assign(ho.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ot extends Ut{constructor(){const e=J(ot.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),De(this,"frequency"),this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),De(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ut.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new Iv({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ot._periodicWaveCache.find(n=>n.phase===this._phase&&tF(n.partials,this._partials));{const e=ot._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(ve(s)){const{partials:i,wave:r}=s;this._wave=r,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,r]=this._getRealImaginary(e,this._phase),a=this.context.createPeriodicWave(i,r);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ot._periodicWaveCache.push({imag:r,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),ot._periodicWaveCache.length>100&&ot._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ln(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const i=new Float32Array(e);this._partials.forEach((r,a)=>i[a]=r),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(e,n){let i=2048;const r=new Float32Array(i),a=new Float32Array(i);let o=1;if(e==="custom"){if(o=this._partials.length+1,this._partialCount=this._partials.length,i=o,this._partials.length===0)return[r,a]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(o=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],o=Math.max(o,2),i=o):this._partialCount=0,this._partials=[]}for(let l=1;l<i;++l){const c=2/(l*Math.PI);let u;switch(e){case"sine":u=l<=o?1:0,this._partials[l-1]=u;break;case"square":u=l&1?2*c:0,this._partials[l-1]=u;break;case"sawtooth":u=c*(l&1?1:-1),this._partials[l-1]=u;break;case"triangle":l&1?u=2*(c*c)*(l-1>>1&1?-1:1):u=0,this._partials[l-1]=u;break;case"custom":u=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(r[l]=-u*Math.sin(n*l),a[l]=u*Math.cos(n*l)):(r[l]=0,a[l]=0)}return[r,a]}_inverseFFT(e,n,s){let i=0;const r=e.length;for(let a=0;a<r;a++)i+=e[a]*Math.cos(a*s)+n[a]*Math.sin(a*s);return i}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const i=Math.PI*2,r=32;for(let a=0;a<r;a++)s=Math.max(this._inverseFFT(e,n,a/r*i),s);return sF(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return lt(this,arguments,void 0,function*(e=1024){return na(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ot._periodicWaveCache=[];class cM extends Cs{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new jo({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ar extends Oe{constructor(){const e=J(ar.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Me({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Oe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class qd extends Ut{constructor(){const e=J(qd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new cM({context:this.context}),this._modulationNode=new Me({context:this.context}),this._carrier=new ot({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ot({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ar({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),De(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ot.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return lt(this,arguments,void 0,function*(e=1024){return na(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Rc extends Ut{constructor(){const e=J(Rc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Me({context:this.context,gain:0}),this._carrier=new ot({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ot({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ar({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new ar({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),De(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ot.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return lt(this,arguments,void 0,function*(e=1024){return na(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class kc extends Ut{constructor(){const e=J(kc.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Me({context:this.context,gain:0}),this._thresh=new jo({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Oe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ot({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),De(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ut.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return lt(this,arguments,void 0,function*(e=1024){return na(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Gd extends Ut{constructor(){const e=J(Gd.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,De(this,["frequency","detune"])}static getDefaults(){return Object.assign(ot.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((i,r)=>i.detune.value=n+s*r)}}get count(){return this._oscillators.length}set count(e){if(Ln(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new ot({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Ae});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return lt(this,arguments,void 0,function*(e=1024){return na(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Yd extends Ut{constructor(){const e=J(Yd.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ar({context:this.context,value:2}),this._pulse=new kc({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ot({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),De(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ut.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return lt(this,arguments,void 0,function*(e=1024){return na(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const L1={am:qd,fat:Gd,fm:Rc,oscillator:ot,pulse:kc,pwm:Yd};class qh extends Ut{constructor(){const e=J(qh.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),De(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ot.getDefaults(),Rc.getDefaults(),qd.getDefaults(),Gd.getDefaults(),kc.getDefaults(),Yd.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=L1[e],s=this.now();if(this._oscillator){const i=this._oscillator;i.stop(s),this.context.setTimeout(()=>i.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof L1[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&is(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&is(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ai(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return lt(this,arguments,void 0,function*(e=1024){return na(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Bv extends Oe{constructor(){super(J(Bv.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Me({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Xr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Oe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Xd extends Cs{constructor(){const e=J(Xd.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new ar({context:this.context,value:e.max-e.min}),this._add=this.output=new Bv({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Cs.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Lv extends Cs{constructor(){super(J(Lv.getDefaults(),arguments)),this.name="Zero",this._gain=new Me({context:this.context}),this.output=this._gain,this.input=void 0,rs(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),lM(this.context.getConstant(0),this._gain),this}}class Gh extends se{constructor(){const e=J(Gh.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Ce.prototype._fromType,this._toType=Ce.prototype._toType,this._is=Ce.prototype._is,this._clampValue=Ce.prototype._clampValue,this._oscillator=new ot(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Me({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Oe({context:this.context,units:"audioRange",value:0}),this._zeros=new Lv({context:this.context}),this._a2g=new cM({context:this.context}),this._scaler=this.output=new Xd({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),De(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(ot.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,s=this.max;this._units=e,this.min=n,this.max=s}get state(){return this._oscillator.state}connect(e,n,s){return(e instanceof Ce||e instanceof Oe)&&(this.convert=e.convert,this.units=e.units),Ud(this,e,n,s),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function uM(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Ln(r,t,e),n.set(this,r)}})}}function di(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Ln(this.toSeconds(r),t,e),n.set(this,r)}})}}class Wd extends Ut{constructor(){const e=J(Wd.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Be({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ut.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ae,onerror:Ae,playbackRate:1,reverse:!1})}load(e){return lt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ae){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=xs(n,this._loopStart):n=xs(n,0);const i=this.toSeconds(n),r=s;s=xs(s,Math.max(this._buffer.duration-i,0));let a=this.toSeconds(s);a=a/this._playbackRate,e=this.toSeconds(e);const o=new Mc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Tn(r)?o.start(e,i):o.start(e,i,a-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var i;(i=[...this._activeSources].pop())===null||i===void 0||i.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const i=this.toSeconds(e);this._stop(s),this._start(s,i)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ln(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ln(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(i=>i.cancelStop())),this._activeSources.forEach(i=>{i.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}us([di(0)],Wd.prototype,"fadeIn",void 0);us([di(0)],Wd.prototype,"fadeOut",void 0);class _F extends Cs{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new jo({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class as extends se{constructor(){const e=J(as.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Oe({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(se.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(ai(e))return e;{let s;for(s in uu)if(uu[s][n]===e)return s;return e}}_setCurve(e,n,s){if(ai(s)&&Reflect.has(uu,s)){const i=uu[s];Gi(i)?e!=="_decayCurve"&&(this[e]=i[n]):this[e]=i}else if(an(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let i=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){const o=1/i;i=(1-a)/o}if(i<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,i,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,i,e);else{this._sig.cancelAndHoldAtTime(e);let o=this._attackCurve;for(let l=1;l<o.length;l++)if(o[l-1]<=a&&a<=o[l]){o=this._attackCurve.slice(l),o[0]=a;break}this._sig.setValueCurveAtTime(o,e,i,n)}if(r&&this.sustain<1){const o=n*this.sustain,l=e+i;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(o,r+l):this._sig.exponentialApproachValueAtTime(o,l,r)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(oe(an(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Ud(this,e,n,s),this}asArray(){return lt(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,s=new Ac(1,n,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=i+this.toSeconds(this.release),a=r*.1,o=r+a,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/o,decay:n*this.toSeconds(this.decay)/o,release:n*this.toSeconds(this.release)/o,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(i+a)/o,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}us([di(0)],as.prototype,"attack",void 0);us([di(0)],as.prototype,"decay",void 0);us([uM(0,1)],as.prototype,"sustain",void 0);us([di(0)],as.prototype,"release",void 0);const uu=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const i=[],r=6.4;for(e=0;e<127;e++){n=e/127;const d=Math.sin(n*(Math.PI*2)*r-Math.PI/2)+1;i[e]=d/10+n*.83}i[127]=1;const a=[],o=5;for(e=0;e<128;e++)a[e]=Math.ceil(e/127*o)/o;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<128;e++){n=e/127;const d=Math.pow(n,3)*4+.2,f=Math.cos(d*Math.PI*2*n);c[e]=Math.abs(f*(1-n))}function u(d){const f=new Array(d.length);for(let p=0;p<d.length;p++)f[p]=1-d[p];return f}function h(d){return d.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:u(i)},sine:{In:l,Out:u(l)},step:{In:a,Out:u(a)}}})();class As extends se{constructor(){const e=J(As.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Vs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,De(this,"volume")}static getDefaults(){return Object.assign(se.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...i)=>{const r=i[n],a=this.context.transport.schedule(o=>{i[n]=o,s.apply(this,i)},r);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,i){const r=this.toSeconds(s),a=this.toSeconds(n);return this.triggerAttack(e,r,i),this.triggerRelease(r+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class oi extends As{constructor(){const e=J(oi.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(As.getDefaults(),{detune:0,onsilence:Ae,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const i=this.toSeconds(n);return this._triggerEnvelopeAttack(i,s),this.setNote(e,i),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),i=e instanceof yn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const r=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,r,s)}else this.frequency.setValueAtTime(i,s);return this}}us([di(0)],oi.prototype,"portamento",void 0);class Kd extends as{constructor(){super(J(Kd.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Me({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class li extends oi{constructor(){const e=J(li.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new qh(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Kd(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),De(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(oi.getDefaults(),{envelope:Object.assign(co(as.getDefaults(),Object.keys(se.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(co(qh.getDefaults(),[...Object.keys(Ut.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Yh extends se{constructor(){const e=J(Yh.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ce({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Ce({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Ce({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Ce({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(se.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){oe(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let a=0;a<e;a++){const l=Math.pow(a/e,2)*19980+20;n[a]=l}const s=new Float32Array(e),i=new Float32Array(e),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(n,s,i),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class sa extends se{constructor(){const e=J(sa.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Me({context:this.context}),this.output=new Me({context:this.context}),this._filters=[],this._filters=[],this.Q=new Oe({context:this.context,units:"positive",value:e.Q}),this.frequency=new Oe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),this.gain=new Oe({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,De(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(se.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){oe(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=is(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let i=s.indexOf(n);oe(i!==-1,`rolloff can only be ${s.join(", ")}`),i+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(r=>r.disconnect()),this._filters=new Array(i);for(let r=0;r<i;r++){const a=new Yh({context:this.context});a.type=this._type,this.frequency.connect(a.frequency),this.detune.connect(a.detune),this.Q.connect(a.Q),this.gain.connect(a.gain),this._filters[r]=a}this._internalChannels=this._filters,Xr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new Yh({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((r,a)=>s[a]*=r)}),n.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Ev(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}const j1=[1,1.483,1.932,2.546,2.63,3.897];class Ss extends oi{constructor(){const e=J(Ss.getDefaults(),arguments);super(e),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new Oe({context:this.context,units:"cents",value:e.detune}),this.frequency=new Oe({context:this.context,units:"frequency"}),this._amplitude=new Me({context:this.context,gain:0}).connect(this.output),this._highpass=new sa({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let n=0;n<j1.length;n++){const s=new Rc({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:n===0?()=>this.onsilence(this):Ae,type:"square"});s.connect(this._highpass),this._oscillators[n]=s;const i=new ar({context:this.context,value:j1[n]});this._freqMultipliers[n]=i,this.frequency.chain(i,s.frequency),this.detune.connect(s.detune)}this._filterFreqScaler=new Xd({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new as({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Xi(oi.getDefaults(),{envelope:Object.assign(co(as.getDefaults(),Object.keys(se.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,n=1){return this.envelope.triggerAttack(e,n),this._oscillators.forEach(s=>s.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(s=>{s.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(n=>n.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(n=>n.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(n=>n.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Fn extends li{constructor(){const e=J(Fn.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,De(this,["oscillator","envelope"])}static getDefaults(){return Xi(oi.getDefaults(),li.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),i=this.toFrequency(e instanceof yn?e.toFrequency():e),r=i*this.octaves;return this.oscillator.frequency.setValueAtTime(r,s),this.oscillator.frequency.exponentialRampToValueAtTime(i,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}us([uM(0)],Fn.prototype,"octaves",void 0);us([di(0)],Fn.prototype,"pitchDecay",void 0);class Pt extends As{constructor(){const e=J(Pt.getDefaults(),arguments);super(e),this.name="NoiseSynth",this.noise=new fo(Object.assign({context:this.context},e.noise)),this.envelope=new Kd(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(As.getDefaults(),{envelope:Object.assign(co(as.getDefaults(),Object.keys(se.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(co(fo.getDefaults(),Object.keys(Ut.getDefaults())),{type:"white"})})}triggerAttack(e,n=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,n),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(n,s),this.triggerRelease(n+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const hM=new Set;function jv(t){hM.add(t)}function dM(t,e){const n=`registerProcessor("${t}", ${e})`;hM.add(n)}const xF=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;jv(xF);const SF=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;jv(SF);const wF=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;jv(wF);const TF="feedback-comb-filter",EF=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;dM(TF,EF);class Oc extends As{constructor(){const e=J(Oc.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=i=>this.releaseAll(i),oe(!is(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(As.getDefaults(),{maxPolyphony:32,options:{},voice:li})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return oe(e instanceof oi,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Ld("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,s){e.forEach(i=>{const r=new Hh(this.context,i).toMidi(),a=this._getNextAvailableVoice();a&&(a.triggerAttack(i,n,s),this._activeVoices.push({midi:r,voice:a,released:!1}),this.log("triggerAttack",i,n))})}_triggerRelease(e,n){e.forEach(s=>{const i=new Hh(this.context,s).toMidi(),r=this._activeVoices.find(({midi:a,released:o})=>a===i&&!o);r&&(r.voice.triggerRelease(n),r.released=!0,this.log("triggerRelease",s,n))})}_scheduleEvent(e,n,s,i){oe(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(n,s,i):this._triggerRelease(n,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,s,i)},s-this.now())}triggerAttack(e,n,s){Array.isArray(e)||(e=[e]);const i=this.toSeconds(n);return this._scheduleEvent("attack",e,i,s),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,n,s,i){const r=this.toSeconds(s);if(this.triggerAttack(e,r,i),an(n)){oe(an(e),"If the duration is an array, the notes must also be an array"),e=e;for(let a=0;a<e.length;a++){const o=n[Math.min(a,n.length-1)],l=this.toSeconds(o);oe(l>0,"The duration must be greater than 0"),this.triggerRelease(e[a],r+l)}}else{const a=this.toSeconds(n);oe(a>0,"The duration must be greater than 0"),this.triggerRelease(e,r+a)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=co(e,["onsilence","context"]);return this.options=Xi(this.options,n),this._voices.forEach(s=>s.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Zd extends As{constructor(){const e=J(Zd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(s=>{const i=parseInt(s,10);if(oe(cu(s)||is(i)&&isFinite(i),`url key is neither a note or midi pitch: ${s}`),cu(s)){const r=new yn(this.context,s).toMidi();n[r]=e.urls[s]}else is(i)&&isFinite(i)&&(n[i]=e.urls[i])}),this._buffers=new Ov({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(As.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ae,onerror:Ae,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(i=>{const r=aM(new yn(this.context,i).toFrequency()),a=Math.round(r),o=r-a,l=this._findClosest(a),c=a-l,u=this._buffers.get(c),h=rM(l+o),d=new Mc({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,u.duration/h,s),an(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const f=this._activeSources.get(a),p=f.indexOf(d);p!==-1&&f.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=new yn(this.context,s).toMidi();if(this._activeSources.has(i)&&this._activeSources.get(i).length){const r=this._activeSources.get(i);n=this.toSeconds(n),r.forEach(a=>{a.stop(n)}),this._activeSources.set(i,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,i=1){const r=this.toSeconds(s);return this.triggerAttack(e,r,i),an(n)?(oe(an(e),"notes must be an array when duration is array"),e.forEach((a,o)=>{const l=n[Math.min(o,n.length-1)];this.triggerRelease(a,r+this.toSeconds(l))})):this.triggerRelease(e,r+this.toSeconds(n)),this}add(e,n,s){if(oe(cu(e)||isFinite(e),`note must be a pitch or midi: ${e}`),cu(e)){const i=new yn(this.context,e).toMidi();this._buffers.add(i,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}us([di(0)],Zd.prototype,"attack",void 0);us([di(0)],Zd.prototype,"release",void 0);class Mr extends Mt{constructor(){const e=J(Mr.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Nc("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Mt.getDefaults(),{callback:Ae,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let s;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const i=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||is(this._loop)&&this._loop>1){s=1/0,is(this._loop)&&(s=this._loop*this._getLoopDuration());const r=this._state.getAfter(i);r!==null&&(s=Math.min(s,r.time-i)),s!==1/0&&(s=new xt(this.context,s));const a=new xt(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),a,new xt(this.context,i),s)}else n.id=this.context.transport.schedule(this._tick.bind(this),new xt(this.context,i))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const s=this._state.getBefore(n);let i=n;s!==null&&(i=s.time),this._rescheduleEvents(i)}return this}cancel(e){e=xs(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,s=>{this.context.transport.clear(s.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let s=.02;QN(this.humanize)||(s=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*s}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new xt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new xt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const s=this._getLoopDuration();return(e-n.time)%s/s}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Pv extends Mt{constructor(){const e=J(Pv.getDefaults(),arguments,["callback","interval"]);super(e),this.name="Loop",this._event=new Mr({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability,humanize:e.humanize}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(Mt.getDefaults(),{interval:"4n",callback:Ae,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}class Wl extends Mr{constructor(){const e=J(Wl.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new Nc("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(n=>{an(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(Mr.getDefaults(),{events:[]})}start(e,n){const s=this.toTicks(e);if(this._state.getValueAtTime(s)!=="started"){n=xs(n,this._loop?this._loopStart:0),this._loop?n=xs(n,this._loopStart):n=xs(n,0);const i=this.toTicks(n);this._state.add({id:-1,offset:i,state:"started",time:s}),this._forEach(r=>{this._startNote(r,s,i)})}return this}_startNote(e,n,s){n-=s,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<s&&(n+=this._getLoopDuration()),e.start(new xt(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=s&&(e.loop=!1,e.start(new xt(this.context,n))):e.startOffset>=s&&e.start(new xt(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(s=>{s.stop(e)}),this}at(e,n){const s=new Xa(this.context,e).toTicks(),i=new xt(this.context,1).toSeconds(),r=this._events.values();let a=r.next();for(;!a.done;){const o=a.value;if(Math.abs(s-o.startOffset)<i)return ve(n)&&(o.value=n),o;a=r.next()}return ve(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const s=this.toTicks(e);let i;return n instanceof Mr?(i=n,i.callback=this._tick.bind(this)):i=new Mr({callback:this._tick.bind(this),context:this.context,value:n}),i.startOffset=s,i.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(i),this._restartEvent(i),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new xt(this.context,n.time))})}remove(e,n){return Gi(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(s=>{s.startOffset===e&&(Tn(n)||ve(n)&&s.value===n)&&(this._events.delete(s),s.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof Wl?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(s=>{s[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new xt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new xt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class Qd extends se{constructor(){const e=J(Qd.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new _F({context:this.context}),this.a=new Me({context:this.context,gain:0}),this.b=new Me({context:this.context,gain:0}),this.output=new Me({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Oe({context:this.context,units:"normalRange",value:e.fade}),De(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",rs(this._split,this.a.gain,0),rs(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(se.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class P1 extends se{constructor(e){super(e),this.name="Effect",this._dryWet=new Qd({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Me({context:this.context}),this.effectReturn=new Me({context:this.context}),this.input=new Me({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],De(this,"wet")}static getDefaults(){return Object.assign(se.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class zv extends se{constructor(){const e=J(zv.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Ce({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",De(this,"pan")}static getDefaults(){return Object.assign(se.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const CF="bit-crusher",AF=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;dM(CF,AF);class $d extends se{constructor(){const e=J($d.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(se.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Dc extends se{constructor(){const e=J(Dc.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(se.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class z1 extends se{constructor(e){super(e),this.name="StereoEffect",this.input=new Me({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Qd({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new $d({context:this.context,channels:2}),this._merge=new Dc({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),De(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Xr(...e),rs(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Xr(...e),rs(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(se.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class U1 extends z1{constructor(e){super(e),this.feedback=new Oe({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Me({context:this.context}),this._feedbackR=new Me({context:this.context}),this._feedbackSplit=new $d({context:this.context,channels:2}),this._feedbackMerge=new Dc({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),De(this,["feedback"])}static getDefaults(){return Object.assign(z1.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Uv extends U1{constructor(){const e=J(Uv.getDefaults(),arguments,["frequency","delayTime","depth"]);super(e),this.name="Chorus",this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new Gh({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Gh({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Fh({context:this.context}),this._delayNodeR=new Fh({context:this.context}),this.frequency=this._lfoL.frequency,De(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(U1.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const n=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-n,0),this._lfoL.max=this._delayTime+n,this._lfoR.min=Math.max(this._delayTime-n,0),this._lfoR.max=this._delayTime+n}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Fv extends P1{constructor(){const e=J(Fv.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const n=this.toSeconds(e.decay);Ln(n,.001),this._decay=n;const s=this.toSeconds(e.preDelay);Ln(s,0),this._preDelay=s,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(P1.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),Ln(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),Ln(e,0),this._preDelay=e,this.generate()}generate(){return lt(this,void 0,void 0,function*(){const e=this.ready,n=new Ac(2,this._decay+this._preDelay,this.context.sampleRate),s=new fo({context:n}),i=new fo({context:n}),r=new Dc({context:n});s.connect(r,0,0),i.connect(r,0,1);const a=new Me({context:n}).toDestination();r.connect(a),s.start(0),i.start(0),a.gain.setValueAtTime(0,0),a.gain.setValueAtTime(1,this._preDelay),a.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=n.render();return this.ready=o.then(Ae),yield e,this._convolver.buffer=(yield o).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class dt extends se{constructor(){const e=J(dt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Me({context:this.context}),dt._allSolos.has(this.context)||dt._allSolos.set(this.context,new Set),dt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(se.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),dt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){dt._soloed.has(this.context)||dt._soloed.set(this.context,new Set),dt._soloed.get(this.context).add(this)}_removeSolo(){dt._soloed.has(this.context)&&dt._soloed.get(this.context).delete(this)}_isSoloed(){return dt._soloed.has(this.context)&&dt._soloed.get(this.context).has(this)}_noSolos(){return!dt._soloed.has(this.context)||dt._soloed.has(this.context)&&dt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),dt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}dt._allSolos=new Map;dt._soloed=new Map;class Hv extends se{constructor(){const e=J(Hv.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new zv({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Vs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,De(this,["pan","volume"])}static getDefaults(){return Object.assign(se.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ia extends se{constructor(){const e=J(Ia.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new dt({solo:e.solo,context:this.context}),this._panVol=this.output=new Hv({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),De(this,["pan","volume"])}static getDefaults(){return Object.assign(se.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ia.buses.has(e)||Ia.buses.set(e,new Me({context:this.context})),Ia.buses.get(e)}send(e,n=0){const s=this._getBus(e),i=new Me({context:this.context,units:"decibels",gain:n});return this.connect(i),i.connect(s),i}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ia.buses=new Map;function ds(){return Kt().now()}Kt().transport;function Yn(){return Kt().transport}Kt().destination;Kt().destination;Kt().listener;Kt().draw;Kt();class NF{constructor(){he(this,"synth",null);he(this,"volume",null);he(this,"filter",null);he(this,"chorus",null);he(this,"reverb",null);he(this,"started",!1);he(this,"currentPresetIndex",0);he(this,"effectParams",{reverbWet:0,chorusDepth:0,filterCutoff:18e3,filterResonance:1})}async start(){this.started||(await oF(),this.volume=new Vs(JA).toDestination(),this.reverb=new Fv({decay:2.5,wet:0}),this.chorus=new Uv({frequency:1.5,delayTime:3.5,depth:0,wet:0}).start(),this.filter=new sa({frequency:18e3,type:"lowpass",Q:1}),this.filter.connect(this.chorus),this.chorus.connect(this.reverb),this.reverb.connect(this.volume),this.createSynth($n[0]),this.started=!0)}createSynth(e){this.synth&&(this.synth.releaseAll(),this.synth.dispose()),this.synth=new Oc(li,{maxPolyphony:nv,oscillator:e.oscillator,envelope:e.envelope}),this.synth.connect(this.filter)}noteOn(e,n){if(!this.synth||!this.started)return;const s=ir(e);this.synth.triggerAttack(s,ds(),n)}noteOff(e){if(!this.synth||!this.started)return;const n=ir(e);this.synth.triggerRelease(n,ds())}releaseAll(){var e;(e=this.synth)==null||e.releaseAll()}setVolume(e){this.volume&&(this.volume.volume.value=e)}setPreset(e){e<0||e>=$n.length||(this.currentPresetIndex=e,this.started&&this.createSynth($n[e]))}setReverbWet(e){this.reverb&&(this.reverb.wet.value=e,this.effectParams.reverbWet=e)}setChorusDepth(e){this.chorus&&(this.chorus.depth=e,this.chorus.wet.value=e>0?.5:0,this.effectParams.chorusDepth=e)}setFilterCutoff(e){this.filter&&(this.filter.frequency.value=e,this.effectParams.filterCutoff=e)}setFilterResonance(e){this.filter&&(this.filter.Q.value=e,this.effectParams.filterResonance=e)}getEffectParams(){return{...this.effectParams}}getPresetIndex(){return this.currentPresetIndex}isStarted(){return this.started}dispose(){var e,n,s,i,r,a;(e=this.synth)==null||e.releaseAll(),(n=this.synth)==null||n.dispose(),(s=this.filter)==null||s.dispose(),(i=this.chorus)==null||i.dispose(),(r=this.reverb)==null||r.dispose(),(a=this.volume)==null||a.dispose(),this.synth=null,this.filter=null,this.chorus=null,this.reverb=null,this.volume=null,this.started=!1}}const Dt=new NF;function MF({effectParams:t,onEffectChange:e}){const n=(s,i)=>{switch(s){case"reverbWet":Dt.setReverbWet(i);break;case"chorusDepth":Dt.setChorusDepth(i);break;case"filterCutoff":Dt.setFilterCutoff(i);break;case"filterResonance":Dt.setFilterResonance(i);break}e(Dt.getEffectParams())};return x.jsxs(jP,{className:"flex flex-row items-center gap-6 border-border bg-card/60 backdrop-blur-sm px-4 py-2",children:[x.jsx(hu,{label:"Reverb",value:t.reverbWet,min:0,max:1,step:.01,displayValue:`${Math.round(t.reverbWet*100)}%`,onChange:s=>n("reverbWet",s)}),x.jsx(hu,{label:"Chorus",value:t.chorusDepth,min:0,max:1,step:.01,displayValue:`${Math.round(t.chorusDepth*100)}%`,onChange:s=>n("chorusDepth",s)}),x.jsx(hu,{label:"Filter",value:t.filterCutoff,min:60,max:18e3,step:1,displayValue:t.filterCutoff>=1e3?`${(t.filterCutoff/1e3).toFixed(1)}k`:`${Math.round(t.filterCutoff)}`,onChange:s=>n("filterCutoff",s)}),x.jsx(hu,{label:"Resonance",value:t.filterResonance,min:0,max:20,step:.1,displayValue:t.filterResonance.toFixed(1),onChange:s=>n("filterResonance",s)})]})}function hu({label:t,value:e,min:n,max:s,step:i,displayValue:r,onChange:a}){return x.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[x.jsx("span",{className:"w-16 text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:t}),x.jsx(Md,{min:n,max:s,step:i,value:[e],onValueChange:([o])=>a(o),className:"flex-1"}),x.jsx(kh,{variant:"secondary",className:"w-12 justify-center font-mono text-[10px]",children:r})]})}function RF({className:t,size:e="default",...n}){return x.jsx(b4,{"data-slot":"switch","data-size":e,className:Ne("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",t),...n,children:x.jsx(_4,{"data-slot":"switch-thumb",className:Ne("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Xh({className:t,...e}){return x.jsx(pj,{"data-slot":"label",className:Ne("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function kF(t){const e=Math.floor(t/4)+1,n=Math.floor(t%4)+1;return`${e}:${n}`}function OF({state:t,bpm:e,metronomeOn:n,positionBeats:s,recordDisabled:i,onRecord:r,onStopRecording:a,onPlay:o,onStop:l,onBpmChange:c,onMetronomeToggle:u}){const h=t==="recording",d=t==="playing";return x.jsxs("div",{className:"flex items-center gap-4 border-b border-border bg-card/60 backdrop-blur-sm px-4 py-2",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(et,{variant:h?"destructive":"ghost",size:"sm",className:Ne("h-8 w-8 p-0",h&&"animate-rec-pulse"),onClick:h?a:r,disabled:!h&&i,children:x.jsx(CV,{className:Ne("h-4 w-4",h?"fill-current":"")})}),x.jsx(et,{variant:d?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",style:d?{backgroundColor:"oklch(0.65 0.20 155)",boxShadow:"0 0 12px 2px oklch(0.65 0.20 155 / 0.35)"}:void 0,onClick:o,disabled:h,children:x.jsx(qV,{className:Ne("h-4 w-4",d&&"fill-current")})}),x.jsx(et,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:h?a:l,disabled:t==="stopped",children:x.jsx(ZV,{className:"h-4 w-4"})})]}),x.jsx(kh,{variant:"secondary",className:"min-w-[52px] justify-center font-mono text-xs",style:{backgroundColor:"oklch(0.14 0.01 270)",border:"1px solid oklch(0.30 0.02 270)",boxShadow:"inset 0 1px 3px oklch(0 0 0 / 0.3)"},children:kF(s)}),h&&x.jsx(kh,{variant:"destructive",className:"text-[10px]",children:"REC"}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Xh,{className:"text-[11px] font-semibold text-muted-foreground",children:"BPM"}),x.jsx(Md,{min:CP,max:AP,step:1,value:[e],onValueChange:([f])=>c(f),className:"w-20"}),x.jsx("span",{className:"w-7 text-center font-mono text-xs text-primary",children:e})]}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Xh,{htmlFor:"metronome",className:"text-[11px] font-semibold text-muted-foreground",children:"Metro"}),x.jsx(RF,{id:"metronome",checked:n,onCheckedChange:u})]})]})}function DF({activePads:t,onHit:e,compact:n}){return x.jsx("div",{className:Ne("grid grid-cols-4 grid-rows-2",n?"gap-1":"gap-2"),children:Rd.map(s=>x.jsx(VF,{id:s.id,name:s.name,shortName:s.shortName,color:s.color,isActive:t.has(s.id),onHit:e,compact:n},s.id))})}function VF({id:t,name:e,shortName:n,color:s,isActive:i,onHit:r,compact:a}){const[o,l]=_.useState(!1),c=_.useCallback(u=>{u.preventDefault(),l(!0),r(t,.8),setTimeout(()=>l(!1),120)},[t,r]);return x.jsxs("button",{className:Ne("flex flex-col items-center justify-center rounded-xl border border-border/50","select-none transition-all duration-75",a?"h-10":"h-16",o&&"animate-pad-hit",!i&&"hover:brightness-110"),style:{backgroundColor:i?s:`color-mix(in oklch, ${s} 20%, var(--secondary))`,boxShadow:i?`0 0 16px 3px ${s}`:"inset 0 2px 4px rgba(0,0,0,0.3)"},onPointerDown:c,children:[x.jsx("span",{className:Ne("font-bold text-foreground",a?"text-[10px]":"text-xs"),children:n}),!a&&x.jsx("span",{className:"text-[9px] text-muted-foreground",children:e})]})}function F1({midiNote:t,isActive:e,isHighlighted:n,onNoteOn:s,onNoteOff:i,showLabel:r,compact:a}){const o=_.useRef(!1),l=Hl(t),c=ir(t),u=_.useCallback(f=>{f.preventDefault(),f.target.setPointerCapture(f.pointerId),o.current=!0,s(t,.7)},[t,s]),h=_.useCallback(f=>{f.preventDefault(),o.current&&(o.current=!1,i(t))},[t,i]),d=_.useCallback(f=>{o.current&&(o.current=!1,i(t))},[t,i]);return x.jsx("button",{className:Ne("relative flex flex-col items-center justify-end select-none transition-colors duration-75",l?Ne("z-10 rounded-b-md border border-border/50",a?"h-[60px] w-[24px]":"h-[100px] w-[30px]",e?"shadow-[0_0_12px_2px] shadow-primary/40":n?"ring-1 ring-primary/40":"hover:brightness-125"):Ne("rounded-b-lg border border-border/30",a?"h-[100px] w-[32px]":"h-[160px] w-[40px]",e?"shadow-[0_0_12px_2px] shadow-primary/30":n?"ring-1 ring-primary/30":"")),style:{backgroundColor:l?e?"var(--primary)":n?"oklch(0.20 0.04 265)":"oklch(0.15 0.02 270)":e?"oklch(0.75 0.12 265)":n?"oklch(0.85 0.03 265)":"oklch(0.90 0.008 270)"},onPointerDown:u,onPointerUp:h,onPointerLeave:d,children:r&&!l&&x.jsx("span",{className:Ne("mb-2 font-mono text-[10px] font-medium",e?"text-primary-foreground":"text-muted-foreground"),children:c})})}function IF({activeNotes:t,onNoteOn:e,onNoteOff:n,highlightedNotes:s,compact:i}){const r=_.useMemo(()=>{const d=[];for(let f=ql;f<=xP;f++)d.push(f);return d},[]),a=r.filter(d=>!Hl(d)),o=r.filter(d=>Hl(d)),l=i?32:40,c=1,u=l+c,h=i?12:15;return x.jsxs("div",{className:Ne("flex flex-col items-center justify-end",i?"pb-2":"flex-1 pb-6"),children:[x.jsx("div",{className:"relative mb-2 flex",children:x.jsx("div",{className:"flex",style:{gap:`${c}px`},children:a.map(d=>x.jsx("div",{className:"flex items-center justify-center",style:{width:l},children:d%12===0&&x.jsx("span",{className:"font-mono text-[10px] font-medium text-muted-foreground",children:ir(d)})},d))})}),x.jsxs("div",{className:"relative flex",style:{gap:`${c}px`},children:[a.map(d=>x.jsx(F1,{midiNote:d,isActive:t.has(d),isHighlighted:s?s.has(d%12):!1,onNoteOn:e,onNoteOff:n,showLabel:!i,compact:i},d)),o.map(d=>{const p=a.filter(g=>g<d).length*u-h;return x.jsx("div",{className:"absolute top-0",style:{left:`${p}px`},children:x.jsx(F1,{midiNote:d,isActive:t.has(d),isHighlighted:s?s.has(d%12):!1,onNoteOn:e,onNoteOff:n,showLabel:!1,compact:i})},d)})]})]})}function BF({activeNotes:t,onNoteOn:e,onNoteOff:n,highlightedNotes:s,activePads:i,onDrumHit:r}){return x.jsxs("div",{className:"flex h-[140px] shrink-0 items-end gap-3 border-t px-3 py-2",style:{backgroundColor:"oklch(0.15 0.012 270 / 0.6)",backdropFilter:"blur(12px)",borderColor:"oklch(0.28 0.02 270)"},children:[x.jsx("div",{className:"w-[200px] shrink-0",children:x.jsx(DF,{activePads:i,onHit:r,compact:!0})}),x.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden",children:x.jsx(IF,{activeNotes:t,onNoteOn:e,onNoteOff:n,highlightedNotes:s,compact:!0})})]})}const LF={.25:"1/16",.5:"1/8",1:"1/4",2:"1/2",4:"Bar"};function jF({snapValue:t,pxPerBeat:e,canUndo:n,canRedo:s,onSnapChange:i,onZoomChange:r,onAddSynthTrack:a,onAddDrumTrack:o,onUndo:l,onRedo:c,onExport:u,tool:h,onToolChange:d}){return x.jsxs("div",{className:"flex items-center gap-3 border-b border-border bg-card/60 backdrop-blur-sm px-3 py-1.5",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsxs(et,{variant:"outline",size:"sm",className:"h-6 gap-1 px-2 text-[11px] font-semibold",style:{borderColor:"var(--primary)",color:"var(--primary)"},onClick:a,children:[x.jsx(V_,{className:"h-3 w-3"})," Synth"]}),x.jsxs(et,{variant:"outline",size:"sm",className:"h-6 gap-1 px-2 text-[11px] font-semibold",onClick:o,children:[x.jsx(V_,{className:"h-3 w-3"})," Drums"]})]}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx(et,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",disabled:!n,onClick:l,title:"Undo (Ctrl+Z)",children:x.jsx(GE,{className:"h-3.5 w-3.5"})}),x.jsx(et,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",disabled:!s,onClick:c,title:"Redo (Ctrl+Shift+Z)",children:x.jsx(qE,{className:"h-3.5 w-3.5"})})]}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx(et,{variant:h==="pointer"?"default":"ghost",size:"sm",className:`h-6 w-6 p-0 ${h==="pointer"?"ring-1 ring-primary/50 shadow-sm shadow-primary/30":""}`,onClick:()=>d("pointer"),title:"Pointer (V)",children:x.jsx(HE,{className:"h-3.5 w-3.5"})}),x.jsx(et,{variant:h==="cut"?"default":"ghost",size:"sm",className:`h-6 w-6 p-0 ${h==="cut"?"ring-1 ring-primary/50 shadow-sm shadow-primary/30":""}`,onClick:()=>d("cut"),title:"Cut (C)",children:x.jsx(WV,{className:"h-3.5 w-3.5"})})]}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx(Xh,{className:"text-[11px] font-semibold text-muted-foreground",children:"Snap"}),x.jsxs(fc,{value:String(t),onValueChange:f=>i(Number(f)),children:[x.jsx(mc,{className:"h-6 w-16 border-0 bg-transparent text-[11px]",children:x.jsx(pc,{})}),x.jsx(gc,{children:nN.map(f=>x.jsx(qr,{value:String(f),children:LF[f]},f))})]})]}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(et,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>r(Math.max(sv,e-10)),children:x.jsx(uI,{className:"h-3 w-3"})}),x.jsx("span",{className:"w-6 text-center font-mono text-[10px] text-muted-foreground",children:e}),x.jsx(et,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>r(Math.min(iv,e+10)),children:x.jsx(lI,{className:"h-3 w-3"})})]}),x.jsx("div",{className:"flex-1"}),x.jsxs(et,{variant:"outline",size:"sm",className:"h-6 gap-1 px-2 text-[11px] font-semibold",onClick:u,children:[x.jsx(NV,{className:"h-3 w-3"})," Export"]})]})}function vn(t,e){return t*e}function og(t,e){return t/e}function sl(t,e){return e<=0?t:Math.round(t/e)*e}function PF({lengthBeats:t,pxPerBeat:e,snapValue:n,onSeek:s}){const i=vn(t,e),r=[];for(let o=0;o<=t;o++)o%4===0?r.push({beat:o,isBar:!0,label:`${o/4+1}`}):e>=20&&r.push({beat:o,isBar:!1,label:""});const a=o=>{const l=o.currentTarget.getBoundingClientRect(),c=o.clientX-l.left,u=sl(og(c,e),n);s(Math.max(0,u))};return x.jsx("div",{className:"relative h-6 cursor-pointer border-b border-border bg-card/80",style:{width:i},onClick:a,children:r.map(o=>x.jsxs("div",{className:"absolute top-0",style:{left:vn(o.beat,e)},children:[x.jsx("div",{className:`w-px ${o.isBar?"h-6 bg-border":"h-3 bg-border/50"}`}),o.isBar&&x.jsx("span",{className:"absolute left-1 top-0 select-none font-mono text-[10px] text-muted-foreground",children:o.label})]},o.beat))})}function zF({track:t,isArmed:e,isRecording:n,onMuteToggle:s,onSoloToggle:i,onVolumeChange:r,onInstrumentChange:a,onDelete:o,onArmToggle:l}){return x.jsxs("div",{className:"flex h-16 shrink-0 flex-col justify-center border-b border-border px-2",style:{borderLeft:`3px solid ${t.color}`,boxShadow:`inset 4px 0 12px -4px ${t.color}33`},children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:Ne("h-4 w-4 rounded-full border-2 transition-colors",n?"border-red-500 bg-red-500 animate-pulse":e?"border-red-500 bg-red-500":"border-muted-foreground/50 bg-transparent"),onClick:l,title:e?"Disarm track":"Arm track for recording"}),x.jsxs(fc,{value:`${t.instrument.type}-${t.instrument.presetIndex}`,onValueChange:c=>{const[u,h]=c.split("-");a({type:u,presetIndex:Number(h)})},children:[x.jsx(mc,{className:"h-5 flex-1 border-0 bg-transparent px-1 text-[11px] font-semibold",children:x.jsx(pc,{})}),x.jsxs(gc,{children:[$n.map((c,u)=>x.jsx(qr,{value:`synth-${u}`,children:c.name},`synth-${u}`)),x.jsx(qr,{value:"drums-0",children:"Drums"})]})]}),x.jsx(et,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:o,children:x.jsx($V,{className:"h-3 w-3 text-muted-foreground"})})]}),x.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[x.jsx(et,{variant:"ghost",size:"sm",className:Ne("h-5 w-5 p-0",t.muted&&"text-red-500"),onClick:s,title:"Mute",children:t.muted?x.jsx(XE,{className:"h-3 w-3"}):x.jsx(YE,{className:"h-3 w-3"})}),x.jsx(et,{variant:"ghost",size:"sm",className:Ne("h-5 w-5 p-0 text-[10px] font-bold",t.solo&&"text-yellow-500"),onClick:i,title:"Solo",children:"S"}),x.jsx(Md,{min:Km,max:eN,step:1,value:[t.volume],onValueChange:([c])=>r(c),className:"w-16"})]})]})}function UF({notes:t,lengthBeats:e,isDrum:n}){if(t.length===0)return null;const s=n?36:Math.min(...t.map(a=>a.note),ql),i=n?43:Math.max(...t.map(a=>a.note),ql+12),r=Math.max(i-s+1,4);return x.jsx("div",{className:"absolute inset-0.5 overflow-hidden",children:t.map((a,o)=>{const l=`${a.startBeat/e*100}%`,c=`${Math.max(a.durationBeats/e*100,1)}%`,u=`${(a.note-s)/r*100}%`,h=`${Math.max(100/r,4)}%`;return x.jsx("div",{className:"absolute rounded-[1px] bg-white/60",style:{left:l,width:c,bottom:u,height:Math.max(2,parseFloat(h))}},o)})})}function FF({region:t,trackColor:e,pxPerBeat:n,snapValue:s,selected:i,onMove:r,onResize:a,onCut:o,onSelect:l,onContextMenu:c,onDoubleClick:u,tool:h}){const[d,f]=_.useState(null),p=_.useRef({x:0,startBeat:0,lengthBeats:0}),g=vn(t.startBeat,n),v=vn(t.lengthBeats,n),m=t.color||e,y=t.notes.some(T=>T.isDrum),b=6,S=T=>{const O=T.currentTarget.getBoundingClientRect(),A=T.clientX-O.left;return A<b&&a?"resize-left":A>O.width-b&&a?"resize-right":"move"},w=_.useCallback(T=>{if(T.button!==0)return;if(T.stopPropagation(),h==="cut"&&o){const A=T.currentTarget.getBoundingClientRect(),N=T.clientX-A.left,D=og(N,n),I=sl(D,s),V=t.startBeat+I;o(t.id,V);return}l==null||l(t.id,T.shiftKey),T.currentTarget.setPointerCapture(T.pointerId);const O=S(T);p.current={x:T.clientX,startBeat:t.startBeat,lengthBeats:t.lengthBeats},f(O)},[t.startBeat,t.lengthBeats,a,h,o,l,n,s]),C=_.useCallback(T=>{if(!d){const N=T.currentTarget;if(h==="cut")N.style.cursor="crosshair";else{const D=S(T);D==="resize-left"||D==="resize-right"?N.style.cursor="col-resize":N.style.cursor="grab"}return}const O=T.clientX-p.current.x,A=og(O,n);if(d==="move"){const N=sl(p.current.startBeat+A,s);r(t.id,Math.max(0,N))}else if(d==="resize-right"&&a){const N=sl(p.current.lengthBeats+A,s);a(t.id,t.startBeat,Math.max(s||.25,N))}else if(d==="resize-left"&&a){const N=sl(p.current.startBeat+A,s),D=Math.max(0,N),I=p.current.startBeat-D,V=p.current.lengthBeats+I;V>=(s||.25)&&a(t.id,D,V)}},[d,n,s,r,a,t.id,t.startBeat]),E=_.useCallback(()=>{f(null)},[]);return x.jsxs("div",{className:"absolute top-0.5 bottom-0.5 select-none rounded-md transition-[filter] hover:brightness-110",style:{left:g,width:Math.max(v,4),background:`linear-gradient(to bottom, ${m}, color-mix(in oklch, ${m} 80%, black))`,opacity:d?.7:1,border:i?"2px solid white":"1px solid rgba(255,255,255,0.2)",boxShadow:i?"0 0 8px rgba(255,255,255,0.3)":void 0},onPointerDown:w,onPointerMove:C,onPointerUp:E,onDoubleClick:()=>u==null?void 0:u(t.id),onContextMenu:T=>{T.preventDefault(),c(T,t.id)},children:[t.name&&x.jsx("span",{className:"absolute left-1 top-0 truncate text-[9px] font-medium text-white/80",children:t.name}),x.jsx(UF,{notes:t.notes,lengthBeats:t.lengthBeats,isDrum:y})]})}function HF({notes:t,lengthBeats:e,isDrum:n}){if(t.length===0)return null;const s=n?36:Math.min(...t.map(a=>a.note),ql),i=n?43:Math.max(...t.map(a=>a.note),ql+12),r=Math.max(i-s+1,4);return x.jsx("div",{className:"absolute inset-0.5 overflow-hidden",children:t.map((a,o)=>{const l=`${a.startBeat/e*100}%`,c=`${Math.max(a.durationBeats/e*100,1)}%`,u=`${(a.note-s)/r*100}%`,h=`${Math.max(100/r,4)}%`;return x.jsx("div",{className:"absolute rounded-[1px] bg-white/70",style:{left:l,width:c,bottom:u,height:Math.max(2,parseFloat(h))}},o)})})}function qF({region:t,trackColor:e,pxPerBeat:n}){const s=vn(t.startBeat,n),i=vn(t.lengthBeats,n),r=t.color||e,a=t.notes.some(o=>o.isDrum);return x.jsxs("div",{className:"absolute top-0.5 bottom-0.5 select-none rounded-sm border border-white/30",style:{left:s,width:Math.max(i,4),backgroundColor:r,opacity:.75,boxShadow:`0 0 8px 1px ${r}80`},children:[x.jsx("span",{className:"absolute left-1 top-0 truncate text-[9px] font-medium text-white/90",children:"REC"}),x.jsx(HF,{notes:t.notes,lengthBeats:t.lengthBeats,isDrum:a})]})}function GF({track:t,lengthBeats:e,pxPerBeat:n,snapValue:s,selectedRegionIds:i,liveRegion:r,onMoveRegion:a,onResizeRegion:o,onSplitRegion:l,onSelectRegion:c,onRegionContextMenu:u,onEditRegion:h,tool:d}){const f=vn(e,n),p=[];for(let g=0;g<=e;g++)g%4===0&&p.push(g);return x.jsxs("div",{className:"relative h-16 border-b border-border bg-background/50",style:{width:f},children:[p.map(g=>x.jsx("div",{className:"absolute top-0 h-full w-px bg-border/30",style:{left:vn(g,n)}},g)),t.regions.map(g=>x.jsx(FF,{region:g,trackColor:t.color,pxPerBeat:n,snapValue:s,tool:d,selected:(i==null?void 0:i.has(g.id))??!1,onMove:(v,m)=>a(t.id,v,m),onResize:o?(v,m,y)=>o(t.id,v,m,y):void 0,onCut:(v,m)=>l(t.id,v,m),onSelect:c?(v,m)=>c(t.id,v,m):void 0,onContextMenu:(v,m)=>u(v,t.id,m),onDoubleClick:h?v=>h(t.id,v):void 0},g.id)),r&&x.jsx(qF,{region:r,trackColor:t.color,pxPerBeat:n})]})}function YF({position:t,pxPerBeat:e,height:n}){const s=vn(t,e);return x.jsx("div",{className:"pointer-events-none absolute top-0 z-30 w-px bg-red-500",style:{left:s,height:n,boxShadow:"0 0 6px 2px oklch(0.58 0.22 25 / 0.30)"},children:x.jsx("div",{className:"absolute -left-1 -top-0.5 h-2 w-2 rotate-45 bg-red-500"})})}function XF({x:t,y:e,onSplit:n,onDuplicate:s,onDelete:i,onClose:r,onCopy:a,onPaste:o,canPaste:l}){const c=_.useRef(null);_.useEffect(()=>{const h=f=>{c.current&&!c.current.contains(f.target)&&r()},d=f=>{f.key==="Escape"&&r()};return window.addEventListener("mousedown",h),window.addEventListener("keydown",d),()=>{window.removeEventListener("mousedown",h),window.removeEventListener("keydown",d)}},[r]);const u=[{label:"Split at playhead",action:n},{label:"Duplicate",action:s},...a?[{label:"Copy",action:a}]:[],...o&&l?[{label:"Paste",action:o}]:[],{label:"Delete",action:i,destructive:!0}];return x.jsx("div",{ref:c,className:"fixed z-50 min-w-[140px] rounded-md border border-border bg-popover py-1 shadow-lg",style:{left:t,top:e},children:u.map(h=>x.jsx("button",{className:`w-full px-3 py-1.5 text-left text-xs hover:bg-accent ${h.destructive?"text-red-500":"text-popover-foreground"}`,onClick:()=>{h.action(),r()},children:h.label},h.label))})}const H1=50;class WF{constructor(){he(this,"undoStack",[]);he(this,"redoStack",[]);he(this,"callbacks",[]);he(this,"groupLabel",null);he(this,"groupSnapshot",null)}pushUndo(e,n){if(this.groupLabel!==null){this.groupSnapshot===null&&(this.groupSnapshot=n);return}this.undoStack.push({label:e,snapshot:n}),this.undoStack.length>H1&&this.undoStack.shift(),this.redoStack=[],this.emit()}beginUndoGroup(e,n){this.groupLabel=e,this.groupSnapshot=n}endUndoGroup(){this.groupLabel!==null&&this.groupSnapshot!==null&&(this.undoStack.push({label:this.groupLabel,snapshot:this.groupSnapshot}),this.undoStack.length>H1&&this.undoStack.shift(),this.redoStack=[],this.emit()),this.groupLabel=null,this.groupSnapshot=null}undo(){const e=this.undoStack.pop();return e?e.snapshot:null}redo(){const e=this.redoStack.pop();return e?e.snapshot:null}pushRedo(e,n){this.redoStack.push({label:e,snapshot:n}),this.emit()}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undoLabel(){var e;return(e=this.undoStack[this.undoStack.length-1])==null?void 0:e.label}redoLabel(){var e;return(e=this.redoStack[this.redoStack.length-1])==null?void 0:e.label}clear(){this.undoStack=[],this.redoStack=[],this.groupLabel=null,this.groupSnapshot=null,this.emit()}onStateChange(e){return this.callbacks.push(e),()=>{this.callbacks=this.callbacks.filter(n=>n!==e)}}emit(){for(const e of this.callbacks)e()}}const Mn=new WF;class KF{constructor(){he(this,"arrangement");he(this,"transportState","stopped");he(this,"trackAudio",new Map);he(this,"stateCallbacks",[]);he(this,"positionCallbacks",[]);he(this,"positionRAF",0);he(this,"metronomeSynth",null);he(this,"metronomeLoop",null);he(this,"metronomeEnabled",!1);he(this,"armedTrackId",null);he(this,"recordingTrackId",null);he(this,"recordingStartBeat",0);he(this,"recordingOpenNotes",new Map);he(this,"capturedNotes",[]);he(this,"colorIndex",0);he(this,"clipboard",null);this.arrangement=this.createDefaultArrangement()}createDefaultArrangement(){return{id:crypto.randomUUID(),name:"Untitled",bpm:tN,lengthBeats:p1,tracks:[]}}getArrangement(){return this.arrangement}getTracks(){return this.arrangement.tracks}getState(){return this.transportState}getBpm(){return this.arrangement.bpm}getPosition(){return this.transportState==="stopped"?0:Yn().seconds*(this.arrangement.bpm/60)}isMetronomeEnabled(){return this.metronomeEnabled}getArmedTrackId(){return this.armedTrackId}getRecordingTrackId(){return this.recordingTrackId}getLiveRegion(){if(this.transportState!=="recording"||!this.recordingTrackId)return null;const n=Yn().seconds*(this.arrangement.bpm/60),s=Math.max(.25,n-this.recordingStartBeat),i=[...this.capturedNotes];for(const[a,o]of this.recordingOpenNotes)i.push({note:a,velocity:o.velocity,startBeat:o.startBeat,durationBeats:Math.max(.125,n-this.recordingStartBeat-o.startBeat),isDrum:o.isDrum});const r=this.findTrack(this.recordingTrackId);return{id:"__live__",startBeat:this.recordingStartBeat,lengthBeats:s,notes:i,color:r==null?void 0:r.color}}addTrack(e="synth",n=0){var r;this.pushUndoSnapshot("Add Track");const s=f1[this.colorIndex%f1.length];this.colorIndex++;const i={id:crypto.randomUUID(),name:e==="drums"?"Drums":((r=$n[n])==null?void 0:r.name)??"Synth",instrument:{type:e,presetIndex:n},regions:[],volume:-6,muted:!1,solo:!1,color:s};return this.arrangement.tracks.push(i),this.createTrackAudio(i),this.emitStateChange(),i}removeTrack(e){this.pushUndoSnapshot("Remove Track"),this.disposeTrackAudio(e),this.arrangement.tracks=this.arrangement.tracks.filter(n=>n.id!==e),this.armedTrackId===e&&(this.armedTrackId=null),this.emitStateChange()}setTrackInstrument(e,n){var i;this.pushUndoSnapshot("Change Instrument");const s=this.findTrack(e);s&&(s.instrument=n,s.name=n.type==="drums"?"Drums":((i=$n[n.presetIndex])==null?void 0:i.name)??"Synth",this.disposeTrackAudio(e),this.createTrackAudio(s),this.emitStateChange())}setTrackVolume(e,n){const s=this.findTrack(e);if(!s)return;s.volume=n;const i=this.trackAudio.get(e);i&&(i.volume.volume.value=n),this.emitStateChange()}setTrackMute(e,n){const s=this.findTrack(e);if(!s)return;s.muted=n;const i=this.trackAudio.get(e);i&&(i.volume.mute=n),this.emitStateChange()}setTrackSolo(e,n){const s=this.findTrack(e);s&&(s.solo=n,this.updateSoloState(),this.emitStateChange())}addRegion(e,n){this.pushUndoSnapshot("Add Region");const s=this.findTrack(e);s&&(s.regions.push(n),this.autoExtendLength(),this.emitStateChange())}removeRegion(e,n){this.pushUndoSnapshot("Remove Region");const s=this.findTrack(e);s&&(s.regions=s.regions.filter(i=>i.id!==n),this.emitStateChange())}moveRegion(e,n,s){this.pushUndoSnapshot("Move Region");const i=this.findTrack(e);if(!i)return;const r=i.regions.find(a=>a.id===n);r&&(r.startBeat=Math.max(0,s),this.autoExtendLength(),this.emitStateChange())}moveRegionToTrack(e,n,s){this.pushUndoSnapshot("Move Region to Track");const i=this.findTrack(e),r=this.findTrack(n);if(!i||!r)return;const a=i.regions.findIndex(l=>l.id===s);if(a===-1)return;const[o]=i.regions.splice(a,1);r.regions.push(o),this.emitStateChange()}splitRegion(e,n,s){this.pushUndoSnapshot("Split Region");const i=this.findTrack(e);if(!i)return;const r=i.regions.find(u=>u.id===n);if(!r)return;const a=s-r.startBeat;if(a<=0||a>=r.lengthBeats)return;const o=[],l=[];for(const u of r.notes)u.startBeat+u.durationBeats<=a?o.push(u):u.startBeat>=a?l.push({...u,startBeat:u.startBeat-a}):(o.push({...u,durationBeats:a-u.startBeat}),l.push({...u,startBeat:0,durationBeats:u.startBeat+u.durationBeats-a}));const c={id:crypto.randomUUID(),startBeat:s,lengthBeats:r.lengthBeats-a,notes:l,color:r.color,name:r.name?`${r.name} (R)`:void 0};r.lengthBeats=a,r.notes=o,r.name&&(r.name=`${r.name} (L)`),i.regions.push(c),this.emitStateChange()}duplicateRegion(e,n){this.pushUndoSnapshot("Duplicate Region");const s=this.findTrack(e);if(!s)return;const i=s.regions.find(a=>a.id===n);if(!i)return;const r={...i,id:crypto.randomUUID(),startBeat:i.startBeat+i.lengthBeats,notes:i.notes.map(a=>({...a})),name:i.name?`${i.name} (copy)`:void 0};s.regions.push(r),this.autoExtendLength(),this.emitStateChange()}armTrackForRecording(e){this.armedTrackId=e,this.emitStateChange()}startRecordingToTrack(e){const n=e??this.armedTrackId;if(!n&&this.arrangement.tracks.length===0){const r=this.addTrack("synth");return this.armedTrackId=r.id,this.startRecordingToTrack(r.id)}if(!n||!this.findTrack(n)||this.transportState!=="stopped")return;this.recordingTrackId=n,this.recordingOpenNotes.clear(),this.capturedNotes=[],this.transportState="recording";const i=Yn();i.stop(),i.position=0,i.bpm.value=this.arrangement.bpm,this.metronomeEnabled&&this.startMetronome(),this.recordingStartBeat=0,i.start(),this.startPositionUpdates(),this.emitStateChange()}stopRecordingToTrack(){if(this.transportState!=="recording"||!this.recordingTrackId)return null;this.pushUndoSnapshot("Record");const n=Yn().seconds*(this.arrangement.bpm/60);for(const[a,o]of this.recordingOpenNotes)this.capturedNotes.push({note:a,velocity:o.velocity,startBeat:o.startBeat,durationBeats:Math.max(.125,n-o.startBeat),isDrum:o.isDrum});const s=this.findTrack(this.recordingTrackId);if(this.stopTransport(),!s||this.capturedNotes.length===0)return this.capturedNotes=[],this.recordingTrackId=null,this.recordingOpenNotes.clear(),this.emitStateChange(),null;const i=Math.max(1,Math.ceil(n)),r={id:crypto.randomUUID(),startBeat:this.recordingStartBeat,lengthBeats:i,notes:[...this.capturedNotes],color:s.color};return s.regions.push(r),this.autoExtendLength(),this.capturedNotes=[],this.recordingTrackId=null,this.recordingOpenNotes.clear(),this.emitStateChange(),r}captureNoteOn(e,n,s){if(this.transportState!=="recording")return;const r=Yn().seconds*(this.arrangement.bpm/60);s?this.capturedNotes.push({note:e,velocity:n,startBeat:r-this.recordingStartBeat,durationBeats:.25,isDrum:!0}):this.recordingOpenNotes.set(e,{startBeat:r-this.recordingStartBeat,velocity:n,isDrum:!1})}captureNoteOff(e){if(this.transportState!=="recording")return;const n=this.recordingOpenNotes.get(e);if(!n)return;const i=Yn().seconds*(this.arrangement.bpm/60);this.capturedNotes.push({note:e,velocity:n.velocity,startBeat:n.startBeat,durationBeats:Math.max(.125,i-this.recordingStartBeat-n.startBeat),isDrum:!1}),this.recordingOpenNotes.delete(e)}play(){if(this.transportState!=="stopped")return;this.transportState="playing";const e=Yn();e.stop(),e.position=0,e.bpm.value=this.arrangement.bpm,this.scheduleAllTracks(),this.metronomeEnabled&&this.startMetronome(),e.start(),this.startPositionUpdates(),this.emitStateChange()}stop(){if(this.transportState==="recording"){this.stopRecordingToTrack();return}this.stopTransport(),this.emitStateChange()}stopTransport(){const e=Yn();e.stop(),e.cancel(),e.position=0;for(const n of this.trackAudio.values())n.part&&(n.part.stop(),n.part.dispose(),n.part=null);this.stopMetronome(),this.stopPositionUpdates(),this.transportState="stopped"}setPosition(e){const n=Yn();n.seconds=e/this.arrangement.bpm*60}setBpm(e){this.arrangement.bpm=e,Yn().bpm.value=e,this.emitStateChange()}setMetronomeEnabled(e){this.metronomeEnabled=e,e?this.transportState!=="stopped"&&this.startMetronome():this.stopMetronome()}startMetronome(){if(this.metronomeLoop)return;this.metronomeSynth||(this.metronomeSynth=new li({oscillator:{type:"sine"},envelope:{attack:.001,decay:.05,sustain:0,release:.01},volume:-6}).toDestination());let e=0;this.metronomeLoop=new Pv(n=>{const s=e%4===0?"C6":"G5";this.metronomeSynth.triggerAttackRelease(s,"32n",n),e++},"4n"),this.metronomeLoop.start(0)}stopMetronome(){this.metronomeLoop&&(this.metronomeLoop.stop(),this.metronomeLoop.dispose(),this.metronomeLoop=null)}createTrackAudio(e){const n=new Vs(e.volume).toDestination();e.muted&&(n.mute=!0);const s={synth:null,drumSynths:null,drumFilter:null,volume:n,part:null};if(e.instrument.type==="synth"){const i=$n[e.instrument.presetIndex]||$n[0];s.synth=new Oc(li,{maxPolyphony:nv,oscillator:i.oscillator,envelope:i.envelope}),s.synth.connect(n)}else{s.drumSynths=new Map,s.drumFilter=new sa({frequency:8e3,type:"highpass"}),s.drumFilter.connect(n);const i=new Fn({pitchDecay:.05,octaves:6,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}});i.connect(n),s.drumSynths.set(36,i);const r=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.15,sustain:0,release:.05}});r.connect(n),s.drumSynths.set(37,r);const a=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.05,sustain:0,release:.01}});a.connect(s.drumFilter),s.drumSynths.set(38,a);const o=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}});o.connect(s.drumFilter),s.drumSynths.set(39,o);const l=new Pt({noise:{type:"pink"},envelope:{attack:.001,decay:.12,sustain:0,release:.05}});l.connect(n),s.drumSynths.set(40,l);const c=new Fn({pitchDecay:.03,octaves:4,oscillator:{type:"sine"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}});c.connect(n),s.drumSynths.set(41,c);const u=new Ss({frequency:300,envelope:{attack:.001,decay:1.2,release:.3},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5});u.connect(n),s.drumSynths.set(42,u);const h=new Ss({frequency:400,envelope:{attack:.001,decay:.4,release:.1},harmonicity:5.1,modulationIndex:16,resonance:5e3,octaves:1});h.connect(n),s.drumSynths.set(43,h)}this.trackAudio.set(e.id,s)}disposeTrackAudio(e){var s,i,r;const n=this.trackAudio.get(e);if(n){if(n.part&&(n.part.stop(),n.part.dispose()),(s=n.synth)==null||s.releaseAll(),(i=n.synth)==null||i.dispose(),n.drumSynths)for(const a of n.drumSynths.values())a.dispose();(r=n.drumFilter)==null||r.dispose(),n.volume.dispose(),this.trackAudio.delete(e)}}scheduleAllTracks(){const e=this.arrangement.tracks.some(n=>n.solo);for(const n of this.arrangement.tracks){const s=this.trackAudio.get(n.id);if(!s||!(e?n.solo:!n.muted))continue;const r=[];for(const a of n.regions)for(const o of a.notes){const l=a.startBeat+o.startBeat;r.push({time:l*(60/this.arrangement.bpm),note:o})}r.length!==0&&(s.part=new Wl((a,o)=>{const{note:l}=o;if(n.instrument.type==="drums")this.playDrumNote(s,l.note,l.velocity,a);else if(s.synth){const c=ir(l.note),u=l.durationBeats*60/this.arrangement.bpm;s.synth.triggerAttackRelease(c,u,a,l.velocity)}},r.map(a=>({time:a.time,note:a.note}))),s.part.start(0))}}playDrumNote(e,n,s,i){if(!e.drumSynths)return;const r=e.drumSynths.get(n);if(!r)return;const a=s*.8+.2;if(r instanceof Fn){const o=n===36?"C1":"G1";r.triggerAttackRelease(o,"8n",i,a)}else if(r instanceof Pt){const o=n===38?"16n":n===39?"8n":"16n";r.triggerAttackRelease(o,i,a)}else if(r instanceof Ss){const o=n===42?"16n":"32n";r.triggerAttackRelease(o,i,a)}}updateSoloState(){const e=this.arrangement.tracks.some(n=>n.solo);for(const n of this.arrangement.tracks){const s=this.trackAudio.get(n.id);s&&(e?s.volume.mute=!n.solo:s.volume.mute=n.muted)}}startPositionUpdates(){const e=()=>{if(this.transportState==="stopped")return;const n=this.getPosition();for(const s of this.positionCallbacks)s(n);if(this.transportState==="playing"&&n>=this.arrangement.lengthBeats){this.stop();return}this.positionRAF=requestAnimationFrame(e)};this.positionRAF=requestAnimationFrame(e)}stopPositionUpdates(){cancelAnimationFrame(this.positionRAF);for(const e of this.positionCallbacks)e(0)}autoExtendLength(){let e=p1;for(const n of this.arrangement.tracks)for(const s of n.regions)e=Math.max(e,s.startBeat+s.lengthBeats+4);this.arrangement.lengthBeats=Math.ceil(e/4)*4}onStateChange(e){return this.stateCallbacks.push(e),()=>{this.stateCallbacks=this.stateCallbacks.filter(n=>n!==e)}}onPositionChange(e){return this.positionCallbacks.push(e),()=>{this.positionCallbacks=this.positionCallbacks.filter(n=>n!==e)}}emitStateChange(){for(const e of this.stateCallbacks)e()}saveToLocalStorage(){try{localStorage.setItem(d1,JSON.stringify(this.arrangement))}catch{}}loadFromLocalStorage(){try{const e=localStorage.getItem(d1);if(!e)return!1;const n=JSON.parse(e);this.arrangement=n;for(const s of this.arrangement.tracks)this.createTrackAudio(s);return this.emitStateChange(),!0}catch{return!1}}pushUndoSnapshot(e){Mn.pushUndo(e,structuredClone(this.arrangement))}beginUndoGroup(e){Mn.beginUndoGroup(e,structuredClone(this.arrangement))}endUndoGroup(){Mn.endUndoGroup()}restoreFromSnapshot(e){for(const n of this.trackAudio.keys())this.disposeTrackAudio(n);this.arrangement=structuredClone(e);for(const n of this.arrangement.tracks)this.createTrackAudio(n);this.emitStateChange()}performUndo(){const e=Mn.undo();e&&(Mn.pushRedo("Undo",structuredClone(this.arrangement)),this.restoreFromSnapshot(e))}performRedo(){const e=Mn.redo();e&&(Mn.pushUndo("Redo",structuredClone(this.arrangement)),this.restoreFromSnapshot(e))}updateRegionNotes(e,n,s){this.pushUndoSnapshot("Edit Notes");const i=this.findTrack(e);if(!i)return;const r=i.regions.find(a=>a.id===n);r&&(r.notes=s,this.emitStateChange())}resizeRegion(e,n,s,i){this.pushUndoSnapshot("Trim Region");const r=this.findTrack(e);if(!r)return;const a=r.regions.find(o=>o.id===n);if(a){if(s!==void 0){const o=Math.max(0,s),l=o-a.startBeat;l!==0&&(a.notes=a.notes.map(c=>({...c,startBeat:c.startBeat-l})).filter(c=>c.startBeat+c.durationBeats>0).map(c=>c.startBeat<0?{...c,durationBeats:c.durationBeats+c.startBeat,startBeat:0}:c),a.startBeat=o)}if(i!==void 0){const o=Math.max(.25,i);a.notes=a.notes.filter(l=>l.startBeat<o).map(l=>l.startBeat+l.durationBeats>o?{...l,durationBeats:o-l.startBeat}:l),a.lengthBeats=o}this.autoExtendLength(),this.emitStateChange()}}copyRegion(e,n){const s=this.findTrack(e);if(!s)return;const i=s.regions.find(r=>r.id===n);i&&(this.clipboard={region:structuredClone(i),trackId:e})}pasteRegion(e,n){if(!this.clipboard)return;this.pushUndoSnapshot("Paste Region");const s=this.findTrack(e);if(!s)return;const i={...structuredClone(this.clipboard.region),id:crypto.randomUUID(),startBeat:n};s.regions.push(i),this.autoExtendLength(),this.emitStateChange()}hasClipboard(){return this.clipboard!==null}findTrack(e){return this.arrangement.tracks.find(n=>n.id===e)}dispose(){var e;this.stopTransport();for(const n of this.trackAudio.keys())this.disposeTrackAudio(n);(e=this.metronomeSynth)==null||e.dispose(),this.metronomeSynth=null,this.stateCallbacks=[],this.positionCallbacks=[]}}const ce=new KF;function ZF({tracks:t,transportState:e,position:n,lengthBeats:s,recordingTrackId:i,armedTrackId:r,liveRegion:a,onAddTrack:o,onRemoveTrack:l,onSetTrackInstrument:c,onSetTrackVolume:u,onSetTrackMute:h,onSetTrackSolo:d,onMoveRegion:f,onResizeRegion:p,onRemoveRegion:g,onSplitRegion:v,onDuplicateRegion:m,onArmTrack:y,canUndo:b,canRedo:S,onUndo:w,onRedo:C,onEditRegion:E,onCopyRegion:T,onPasteRegion:O,hasClipboard:A,onExport:N}){const[D,I]=_.useState(NP),[V,L]=_.useState(1),[R,k]=_.useState("pointer"),[M,B]=_.useState(new Set),[z,X]=_.useState(null),ne=_.useRef(null),re=_.useRef(null),ie=200,K=_.useRef(new Map),[ee,j]=_.useState(null),P=_.useRef(null),le=_.useRef(!1),fe=_.useCallback((q,Y,ae)=>{B(we=>{const Xe=new Set(we);return ae?Xe.has(Y)?(Xe.delete(Y),K.current.delete(Y)):(Xe.add(Y),K.current.set(Y,q)):(Xe.clear(),K.current.clear(),Xe.add(Y),K.current.set(Y,q)),Xe})},[]),de=_.useCallback(()=>{B(new Set),K.current.clear()},[]);_.useEffect(()=>{if(e!=="playing"&&e!=="recording")return;const q=ne.current;if(!q)return;const Y=vn(n,D),ae=q.scrollLeft,we=q.clientWidth;(Y>ae+we-50||Y<ae)&&(q.scrollLeft=Y-100)},[n,D,e]),_.useEffect(()=>{const q=ne.current;if(!q)return;const Y=ae=>{if(!ae.ctrlKey&&!ae.metaKey)return;ae.preventDefault();const we=q.getBoundingClientRect(),An=(ae.clientX-we.left+q.scrollLeft)/D,fi=-ae.deltaY*.5,mr=Math.round(Math.max(sv,Math.min(iv,D+fi)));if(mr!==D){I(mr);const ia=An*mr;q.scrollLeft=ia-(ae.clientX-we.left)}};return q.addEventListener("wheel",Y,{passive:!1}),()=>q.removeEventListener("wheel",Y)},[D]),_.useEffect(()=>{const q=Y=>{if(!(Y.target instanceof HTMLInputElement||Y.target instanceof HTMLTextAreaElement)){if((Y.metaKey||Y.ctrlKey)&&Y.key==="a"){Y.preventDefault();const ae=new Set;K.current.clear();for(const we of t)for(const Xe of we.regions)ae.add(Xe.id),K.current.set(Xe.id,we.id);B(ae);return}if(!(Y.metaKey||Y.ctrlKey||Y.altKey)){if(Y.key==="Delete"||Y.key==="Backspace"){if(M.size>0){for(const ae of M){const we=K.current.get(ae);we&&g(we,ae)}de();return}z&&(g(z.trackId,z.regionId),X(null));return}if(Y.key==="Escape"){de();return}if(Y.key==="v"||Y.key==="V"){k("pointer");return}if(Y.key==="c"||Y.key==="C"){k("cut");return}}}};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[z,g,M,de,t]);const me=_.useCallback((q,Y,ae)=>{X({x:q.clientX,y:q.clientY,trackId:Y,regionId:ae})},[]),Rt=_.useCallback(q=>{if(q.button!==0||!re.current)return;const Y=re.current.getBoundingClientRect(),ae=q.clientX-Y.left,we=q.clientY-Y.top;P.current={x:ae,y:we,clientX:q.clientX,clientY:q.clientY},le.current=!1,q.currentTarget.setPointerCapture(q.pointerId)},[]),$t=_.useCallback(q=>{if(!P.current||!re.current)return;const Y=q.clientX-P.current.clientX,ae=q.clientY-P.current.clientY;if(!le.current&&(Math.abs(Y)>3||Math.abs(ae)>3)&&(le.current=!0),le.current){const we=re.current.getBoundingClientRect(),Xe=q.clientX-we.left,An=q.clientY-we.top;j({startX:P.current.x,startY:P.current.y,currentX:Xe,currentY:An})}},[]),W=_.useCallback(q=>{if(P.current){if(le.current&&ee){const Y=Math.min(ee.startX,ee.currentX),ae=Math.max(ee.startX,ee.currentX),we=Math.min(ee.startY,ee.currentY),Xe=Math.max(ee.startY,ee.currentY),An=new Set(q.shiftKey?M:[]);q.shiftKey||K.current.clear(),t.forEach((fi,mr)=>{const ia=mr*te;ia+te<=we||ia>=Xe||fi.regions.forEach(Po=>{const mM=vn(Po.startBeat,D);vn(Po.startBeat+Po.lengthBeats,D)>Y&&mM<ae&&(An.add(Po.id),K.current.set(Po.id,fi.id))})}),B(An)}else q.shiftKey||de();j(null),P.current=null,le.current=!1}},[ee,M,t,D,de]),te=64,Ue=t.length*te;return x.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[x.jsx(jF,{snapValue:V,pxPerBeat:D,canUndo:b,canRedo:S,tool:R,onSnapChange:L,onZoomChange:I,onAddSynthTrack:()=>o("synth"),onAddDrumTrack:()=>o("drums"),onUndo:w,onRedo:C,onExport:N,onToolChange:k}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsxs("div",{className:"shrink-0 overflow-y-auto border-r border-border",style:{width:ie},children:[x.jsx("div",{className:"h-6 border-b border-border"}),t.map(q=>x.jsx(zF,{track:q,isArmed:r===q.id,isRecording:i===q.id,onMuteToggle:()=>h(q.id,!q.muted),onSoloToggle:()=>d(q.id,!q.solo),onVolumeChange:Y=>u(q.id,Y),onInstrumentChange:Y=>c(q.id,Y),onDelete:()=>l(q.id),onArmToggle:()=>y(r===q.id?null:q.id)},q.id)),t.length===0&&x.jsx("div",{className:"flex h-32 items-center justify-center text-xs text-muted-foreground",children:"Add a track to begin"})]}),x.jsx("div",{ref:ne,className:"flex-1 overflow-auto",onClick:de,children:x.jsxs("div",{className:"relative",style:{width:vn(s,D)},children:[x.jsx(PF,{lengthBeats:s,pxPerBeat:D,snapValue:V,onSeek:q=>ce.setPosition(q)}),x.jsxs("div",{ref:re,className:"relative",onClick:q=>q.stopPropagation(),onPointerDown:Rt,onPointerMove:$t,onPointerUp:W,children:[t.map(q=>x.jsx(GF,{track:q,lengthBeats:s,pxPerBeat:D,snapValue:V,tool:R,selectedRegionIds:M,liveRegion:i===q.id?a:null,onMoveRegion:f,onResizeRegion:p?(Y,ae,we,Xe)=>p(Y,ae,we,Xe):void 0,onSplitRegion:v,onSelectRegion:fe,onRegionContextMenu:me,onEditRegion:E},q.id)),ee&&x.jsx("div",{className:"absolute pointer-events-none rounded-sm border border-primary/60 z-20",style:{left:Math.min(ee.startX,ee.currentX),top:Math.min(ee.startY,ee.currentY),width:Math.abs(ee.currentX-ee.startX),height:Math.abs(ee.currentY-ee.startY),backgroundColor:"oklch(0.60 0.15 265 / 0.15)"}})]}),(e==="playing"||e==="recording")&&x.jsx(YF,{position:n,pxPerBeat:D,height:24+Ue})]})})]}),z&&x.jsx(XF,{x:z.x,y:z.y,onSplit:()=>v(z.trackId,z.regionId,n),onDuplicate:()=>m(z.trackId,z.regionId),onDelete:()=>g(z.trackId,z.regionId),onClose:()=>X(null),onCopy:T?()=>T(z.trackId,z.regionId):void 0,onPaste:O?()=>O(z.trackId,n):void 0,canPaste:A})]})}const QF={.25:"1/16",.5:"1/8",1:"1/4",2:"1/2",4:"Bar"},$F=[{id:"pointer",icon:HE,label:"Pointer (V)"},{id:"draw",icon:FV,label:"Draw (D)"},{id:"eraser",icon:RV,label:"Eraser (E)"}];function JF({tool:t,snapValue:e,regionName:n,onToolChange:s,onSnapChange:i,onBack:r,onToolPointerDown:a,onToolPointerUp:o}){return x.jsxs("div",{className:"flex items-center gap-3 border-b border-border bg-card/60 backdrop-blur-sm px-3 py-1.5",children:[x.jsxs(et,{variant:"ghost",size:"sm",className:"h-6 gap-1 px-2 text-[11px]",onClick:r,children:[x.jsx(bV,{className:"h-3 w-3"}),"Back"]}),n&&x.jsx("span",{className:"text-xs font-medium text-muted-foreground truncate max-w-[120px]",children:n}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsx("div",{className:"flex items-center gap-0.5",children:$F.map(({id:l,icon:c,label:u})=>x.jsx(et,{variant:"ghost",size:"sm",className:Ne("h-6 w-6 p-0",t===l&&"bg-primary/20 text-primary ring-1 ring-primary/40 hover:bg-primary/30"),title:u,onClick:()=>s(l),onPointerDown:h=>{h.button===0&&a&&a(l)},onPointerUp:()=>{o&&o()},children:x.jsx(c,{className:"h-3.5 w-3.5"})},l))}),x.jsx("div",{className:"h-4 w-px bg-border/60"}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx(Xh,{className:"text-[11px] font-semibold text-muted-foreground",children:"Snap"}),x.jsxs(fc,{value:String(e),onValueChange:l=>i(Number(l)),children:[x.jsx(mc,{className:"h-6 w-16 border-0 bg-transparent text-[11px]",children:x.jsx(pc,{})}),x.jsx(gc,{children:nN.map(l=>x.jsx(qr,{value:String(l),children:QF[l]},l))})]})]})]})}const Wh=24,Qn=96,po=Rd.map(t=>({midiNote:t.midiNote,name:t.shortName,color:t.color}));po.length;const eH=.8,q1=1,G1=.25;function Ti(t,e){return t*e}function mp(t,e){return t/e}function Y1(t,e){return(Qn-t-1)*e}function tH(t,e){return Qn-Math.floor(t/e)-1}function X1(t,e){return t*e}function nH(t,e){return Math.floor(t/e)}function sH(t){var e;return((e=po[t])==null?void 0:e.midiNote)??36}function W1(t){return po.findIndex(e=>e.midiNote===t)}function Ko(t,e){return e<=0?t:Math.round(t/e)*e}function iH({rowHeight:t,scrollTop:e,visibleHeight:n}){const s=[],i=Math.max(Wh,Qn-Math.floor((e+n)/t)-2),r=Math.min(Qn,Qn-Math.floor(e/t)+2);for(let a=r-1;a>=i;a--){const o=Hl(a),l=ir(a),c=(Qn-a-1)*t,u=a%12===0;s.push(x.jsx("div",{className:"absolute right-0 left-0 flex items-center justify-end border-b px-1.5 select-none",style:{top:c,height:t,backgroundColor:o?"oklch(0.18 0.01 270)":"oklch(0.22 0.005 270)",borderColor:"oklch(0.30 0.01 270)"},children:x.jsx("span",{className:"font-mono text-[9px]",style:{color:u?"oklch(0.75 0.08 265)":"oklch(0.55 0.02 270)",fontWeight:u?600:400},children:l})},a))}return x.jsx("div",{className:"relative",style:{height:(Qn-Wh)*t},children:s})}function rH({rowHeight:t}){return x.jsx("div",{className:"relative",style:{height:po.length*t},children:po.map((e,n)=>x.jsx("div",{className:"absolute right-0 left-0 flex items-center justify-end border-b px-1.5 select-none",style:{top:n*t,height:t,backgroundColor:n%2===0?"oklch(0.20 0.01 270)":"oklch(0.18 0.01 270)",borderColor:"oklch(0.30 0.01 270)"},children:x.jsx("span",{className:"font-mono text-[9px] font-semibold",style:{color:e.color},children:e.name})},e.midiNote))})}const aH=_.memo(function({x:e,y:n,width:s,height:i,color:r,selected:a,velocity:o}){const l=.5+o*.5;return x.jsx("div",{className:"absolute rounded-[2px] border pointer-events-none",style:{left:e,top:n+1,width:Math.max(s,3),height:i-2,backgroundColor:r,opacity:l,borderColor:a?"white":"rgba(255,255,255,0.25)",borderWidth:a?2:1,boxShadow:a?"0 0 6px rgba(255,255,255,0.3)":void 0},children:x.jsx("div",{className:"absolute top-0 right-0 bottom-0 pointer-events-auto cursor-col-resize",style:{width:6}})})});function oH({notes:t,selectedIndices:e,regionLengthBeats:n,pxPerBeat:s,rowHeight:i,snapValue:r,tool:a,isDrum:o,trackColor:l,onNotesChange:c,onSelectionChange:u}){const h=_.useRef(null),[d,f]=_.useState(null),p=o?po.length:Qn-Wh,g=Ti(n,s),v=p*i,m=_.useCallback((A,N)=>{if(!h.current)return{beat:0,note:0,row:0};const D=h.current.getBoundingClientRect(),I=A-D.left+h.current.scrollLeft,V=N-D.top+h.current.scrollTop,L=mp(I,s);if(o){const R=nH(V,i);return{beat:L,note:sH(R),row:R}}return{beat:L,note:tH(V,i),row:0}},[s,i,o]),y=_.useCallback((A,N)=>{const{beat:D,note:I}=m(A,N);for(let V=t.length-1;V>=0;V--){const L=t[V];if(L.note===I&&D>=L.startBeat&&D<=L.startBeat+L.durationBeats){if(!h.current)return{index:V,edge:"body"};const R=h.current.getBoundingClientRect(),k=A-R.left+h.current.scrollLeft,M=Ti(L.startBeat,s),B=Ti(L.startBeat+L.durationBeats,s);return B-k<6&&B-k>=0?{index:V,edge:"right"}:k-M<6&&k-M>=0?{index:V,edge:"left"}:{index:V,edge:"body"}}}return null},[t,m,o,s]),b=_.useCallback(A=>{if(A.button!==0)return;A.preventDefault(),A.currentTarget.setPointerCapture(A.pointerId);const{beat:N,note:D}=m(A.clientX,A.clientY),I=y(A.clientX,A.clientY);if(a==="eraser"){if(I){const V=t.filter((L,R)=>R!==I.index);c(V),u(new Set)}return}if(a==="draw"){if(I&&I.edge==="body"){const V=t.filter((L,R)=>R!==I.index);c(V),u(new Set)}else if(I&&(I.edge==="left"||I.edge==="right")&&!o){const V=new Set([I.index]);u(V);const L=I.edge==="right"?"resize-right":"resize-left";f({type:L,startX:A.clientX,startY:A.clientY,originBeat:N,originNote:D,initialDurations:[t[I.index].durationBeats],initialPositions:[{startBeat:t[I.index].startBeat,note:t[I.index].note}]})}else if(!I){const V=Ko(N,r),L=o?G1:r||q1,R={note:D,velocity:eH,startBeat:Math.max(0,V),durationBeats:L,isDrum:o},k=[...t,R],M=k.length-1;c(k),u(new Set([M])),f({type:"draw-extend",startX:A.clientX,startY:A.clientY,originBeat:V,originNote:D,drawNoteIndex:M})}return}if(I){const V=A.shiftKey;let L;V?(L=new Set(e),L.has(I.index)?L.delete(I.index):L.add(I.index)):e.has(I.index)?L=e:L=new Set([I.index]),u(L);const R=Array.from(L);(I.edge==="right"||I.edge==="left")&&!o?f({type:I.edge==="right"?"resize-right":"resize-left",startX:A.clientX,startY:A.clientY,originBeat:N,originNote:D,initialDurations:R.map(k=>t[k].durationBeats),initialPositions:R.map(k=>({startBeat:t[k].startBeat,note:t[k].note}))}):f({type:"move",startX:A.clientX,startY:A.clientY,originBeat:N,originNote:D,initialPositions:R.map(k=>({startBeat:t[k].startBeat,note:t[k].note}))})}else A.shiftKey||u(new Set),f({type:"rubber-band",startX:A.clientX,startY:A.clientY,originBeat:N,originNote:D,currentX:A.clientX,currentY:A.clientY})},[a,t,e,m,y,c,u,r,o]),S=_.useCallback(A=>{if(!d){if(a==="pointer"&&h.current){const V=y(A.clientX,A.clientY);((V==null?void 0:V.edge)==="right"||(V==null?void 0:V.edge)==="left")&&!o?h.current.style.cursor="col-resize":V?h.current.style.cursor="grab":h.current.style.cursor="crosshair"}return}const{beat:N,note:D}=m(A.clientX,A.clientY),I=Array.from(e);if(d.type==="move"&&d.initialPositions){const V=Ko(N-d.originBeat,r),L=o?0:D-d.originNote,R=[...t];I.forEach((k,M)=>{const B=d.initialPositions[M];R[k]={...R[k],startBeat:Math.max(0,B.startBeat+V),note:o?R[k].note:Math.max(Wh,Math.min(Qn-1,B.note+L))}}),c(R)}else if(d.type==="resize-right"&&d.initialDurations){const V=Ko(N-d.originBeat,r),L=[...t];I.forEach((R,k)=>{const M=Math.max(r||.125,d.initialDurations[k]+V);L[R]={...L[R],durationBeats:M}}),c(L)}else if(d.type==="resize-left"&&d.initialDurations&&d.initialPositions){const V=Ko(N-d.originBeat,r),L=[...t];I.forEach((R,k)=>{const M=d.initialPositions[k].startBeat,B=d.initialDurations[k],z=Math.max(0,M+V),X=B-(z-M);X>=(r||.125)&&(L[R]={...L[R],startBeat:z,durationBeats:X})}),c(L)}else if(d.type==="draw-extend"&&d.drawNoteIndex!==void 0){const V=Ko(N,r),L=d.originBeat,R=o?G1:r||q1,k=Math.max(0,Math.min(L,V)),M=Math.max(L+R,V+R),B=d.drawNoteIndex;if(B<t.length){const z=[...t];z[B]={...z[B],startBeat:k,durationBeats:M-k},c(z)}}else d.type==="rubber-band"&&f(V=>V&&{...V,currentX:A.clientX,currentY:A.clientY})},[d,t,e,m,y,a,r,o,c]),w=_.useCallback(A=>{if((d==null?void 0:d.type)==="rubber-band"&&h.current){const N=h.current.getBoundingClientRect(),D=Math.min(d.startX,A.clientX)-N.left,I=Math.max(d.startX,A.clientX)-N.left,V=Math.min(d.startY,A.clientY)-N.top,L=Math.max(d.startY,A.clientY)-N.top,R=mp(D,s),k=mp(I,s),M=new Set(A.shiftKey?e:[]);t.forEach((B,z)=>{const X=B.startBeat+B.durationBeats;if(B.startBeat<k&&X>R){let ne;if(o){const re=W1(B.note);ne=X1(re,i)+i/2}else ne=Y1(B.note,i)+i/2;ne>=V&&ne<=L&&M.add(z)}}),u(M)}f(null)},[d,t,e,s,i,o,u]);_.useEffect(()=>{const A=N=>{if(!(N.target instanceof HTMLInputElement||N.target instanceof HTMLTextAreaElement)){if((N.key==="Delete"||N.key==="Backspace")&&e.size>0){N.preventDefault();const D=t.filter((I,V)=>!e.has(V));c(D),u(new Set);return}if((N.metaKey||N.ctrlKey)&&N.key==="a"){N.preventDefault(),u(new Set(t.map((D,I)=>I)));return}(N.key==="v"||N.key==="V")&&u(e)}};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[t,e,c,u]);const C=_.useMemo(()=>{const A=[];for(let N=0;N<=p;N++){const D=N*i;let I;if(o)I=N%2===0?"rgba(255,255,255,0.02)":"transparent";else{const V=Qn-N-1;I=Hl(V)?"rgba(255,255,255,0.03)":"transparent"}A.push(x.jsx("div",{className:"absolute w-full border-b",style:{top:D,height:i,backgroundColor:I,borderColor:"oklch(0.25 0.005 270)"}},`row-${N}`))}for(let N=0;N<=n;N+=r||.25){const D=Ti(N,s),I=N%4===0,V=N%1===0;A.push(x.jsx("div",{className:"absolute top-0 h-full",style:{left:D,width:1,backgroundColor:I?"oklch(0.35 0.01 270)":V?"oklch(0.28 0.005 270)":"oklch(0.22 0.003 270)"}},`vline-${N}`))}return A},[p,i,n,s,r,o]),E=_.useMemo(()=>t.map((A,N)=>{const D=Ti(A.startBeat,s),I=Ti(A.durationBeats,s);let V;if(o){const L=W1(A.note);V=X1(L>=0?L:0,i)}else V=Y1(A.note,i);return x.jsx(aH,{x:D,y:V,width:I,height:i,color:l,selected:e.has(N),velocity:A.velocity},N)}),[t,s,i,o,l,e]),T=_.useMemo(()=>{if(!d||d.type!=="rubber-band"||!d.currentX||!d.currentY||!h.current)return null;const A=h.current.getBoundingClientRect(),N=Math.min(d.startX,d.currentX)-A.left,D=Math.min(d.startY,d.currentY)-A.top,I=Math.abs(d.currentX-d.startX),V=Math.abs(d.currentY-d.startY);return x.jsx("div",{className:"absolute pointer-events-none rounded-sm border border-primary/60",style:{left:N,top:D,width:I,height:V,backgroundColor:"oklch(0.60 0.15 265 / 0.15)"}})},[d]),O=a==="draw"?"cursor-crosshair":a==="eraser"?"cursor-pointer":"cursor-default";return x.jsxs("div",{ref:h,className:`relative overflow-hidden ${O}`,style:{width:g,height:v},onPointerDown:b,onPointerMove:S,onPointerUp:w,children:[C,E,T]})}function lH({notes:t,selectedIndices:e,pxPerBeat:n,color:s,height:i,onVelocityChange:r}){const a=_.useRef(null),o=_.useRef(null),[l,c]=_.useState(null),u=_.useCallback(p=>{if(!o.current)return .8;const g=o.current.getBoundingClientRect(),v=p-g.top;return Math.max(.05,Math.min(1,1-v/g.height))},[]),h=_.useCallback((p,g)=>{p.stopPropagation(),p.target.setPointerCapture(p.pointerId),a.current=g;const v=u(p.clientY);r(g,v),c({index:g,value:v,x:p.clientX})},[r,u]),d=_.useCallback(p=>{if(a.current!==null){const g=u(p.clientY);r(a.current,g),c({index:a.current,value:g,x:p.clientX})}},[r,u]),f=_.useCallback(()=>{a.current=null,c(null)},[]);return x.jsxs("div",{ref:o,className:"relative border-t border-border bg-background/30 select-none",style:{height:i},onPointerMove:d,onPointerUp:f,children:[x.jsx("span",{className:"absolute top-1 left-1.5 text-[9px] font-medium text-muted-foreground/50 pointer-events-none z-10",children:"Vel"}),x.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[{pct:"25%",label:"75%"},{pct:"50%",label:"50%"},{pct:"75%",label:"25%"}].map(({pct:p,label:g})=>x.jsxs("div",{className:"absolute w-full",style:{top:p},children:[x.jsx("div",{className:"w-full border-b border-dashed border-border/30"}),x.jsx("span",{className:"absolute right-1.5 -top-2.5 text-[8px] text-muted-foreground/40",children:g})]},p))}),t.map((p,g)=>{const v=Ti(p.startBeat,n),m=Math.max(Ti(p.durationBeats,n),3),y=p.velocity*i,b=e.has(g);return l==null||l.index,x.jsx("div",{className:"absolute bottom-0 cursor-ns-resize rounded-t-sm",style:{left:v,width:Math.min(m,12),height:y,background:b?"linear-gradient(to top, rgba(255,255,255,0.7), rgba(255,255,255,0.95))":`linear-gradient(to top, ${s}B3, ${s}F0)`,opacity:b?.9:.7},onPointerDown:S=>h(S,g),children:x.jsx("div",{className:"absolute top-0 left-0 right-0 h-px rounded-t-sm",style:{backgroundColor:b?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.2)"}})},g)}),l&&o.current&&(()=>{const p=o.current.getBoundingClientRect(),g=l.x-p.left,v=(1-l.value)*i-18;return x.jsx("div",{className:"absolute pointer-events-none z-20 bg-popover text-popover-foreground text-[9px] font-mono px-1.5 py-0.5 rounded shadow-sm border border-border/60 whitespace-nowrap",style:{left:g,top:Math.max(0,v),transform:"translateX(-50%)"},children:l.value.toFixed(2)})})()]})}const cH=40,uH=60,hH=60,dH=200;function fH({trackId:t,regionId:e,arrangement:n,onClose:s,onUpdateNotes:i,onResizeRegion:r}){const[a,o]=_.useState("pointer"),[l,c]=_.useState(.25),[u,h]=_.useState(new Set),[d,f]=_.useState(cH),p=_.useRef(null),g=_.useRef(null),[v,m]=_.useState(0),[y,b]=_.useState(400),S=_.useRef(null),w=_.useRef(null),C=_.useRef(!1),E=_.useMemo(()=>n.tracks.find(k=>k.id===t),[n,t]),T=_.useMemo(()=>E==null?void 0:E.regions.find(k=>k.id===e),[E,e]),O=(E==null?void 0:E.instrument.type)==="drums",A=O?28:14,N=(T==null?void 0:T.notes)??[],D=_.useCallback(()=>{!p.current||!g.current||(g.current.scrollTop=p.current.scrollTop,m(p.current.scrollTop))},[]);_.useEffect(()=>{if(!p.current||O)return;const M=(Qn-60)*A-p.current.clientHeight/2;p.current.scrollTop=Math.max(0,M),b(p.current.clientHeight)},[A,O]),_.useEffect(()=>{if(!p.current)return;const k=new ResizeObserver(()=>{p.current&&b(p.current.clientHeight)});return k.observe(p.current),()=>k.disconnect()},[]);const I=_.useCallback(k=>{i(t,e,k)},[t,e,i]),V=_.useCallback((k,M)=>{const B=[...N];B[k]={...B[k],velocity:M},i(t,e,B)},[N,t,e,i]),L=_.useCallback(k=>{o(M=>M===k?M:(S.current=M,C.current=!1,w.current!==null&&clearTimeout(w.current),w.current=setTimeout(()=>{w.current=null,C.current=!0;const B=()=>{S.current!==null&&(o(S.current),S.current=null),C.current=!1,window.removeEventListener("pointerup",B)};window.addEventListener("pointerup",B)},dH),k))},[]),R=_.useCallback(()=>{w.current!==null&&(clearTimeout(w.current),w.current=null,S.current=null,C.current=!1)},[]);return _.useEffect(()=>{const k=M=>{if(!(M.target instanceof HTMLInputElement||M.target instanceof HTMLTextAreaElement)&&!(M.metaKey||M.ctrlKey||M.altKey))switch(M.key){case"v":case"V":o("pointer");break;case"d":case"D":o("draw");break;case"e":case"E":o("eraser");break}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[]),_.useEffect(()=>{const k=p.current;if(!k)return;const M=B=>{if(!B.ctrlKey&&!B.metaKey)return;B.preventDefault();const z=k.getBoundingClientRect(),ne=(B.clientX-z.left+k.scrollLeft)/d,re=-B.deltaY*.5,ie=Math.round(Math.max(sv,Math.min(iv,d+re)));if(ie!==d){f(ie);const K=ne*ie;k.scrollLeft=K-(B.clientX-z.left)}};return k.addEventListener("wheel",M,{passive:!1}),()=>k.removeEventListener("wheel",M)},[d]),_.useEffect(()=>()=>{w.current!==null&&clearTimeout(w.current)},[]),!E||!T?x.jsxs("div",{className:"flex flex-1 items-center justify-center text-muted-foreground text-sm",children:["Region not found.",x.jsx("button",{className:"ml-2 underline",onClick:s,children:"Go back"})]}):x.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[x.jsx(JF,{tool:a,snapValue:l,regionName:T.name,onToolChange:o,onSnapChange:c,onBack:s,onToolPointerDown:L,onToolPointerUp:R}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx("div",{ref:g,className:"shrink-0 overflow-hidden border-r border-border bg-card/60",style:{width:uH},children:O?x.jsx(rH,{rowHeight:A}):x.jsx(iH,{rowHeight:A,scrollTop:v,visibleHeight:y})}),x.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[x.jsx("div",{ref:p,className:"flex-1 overflow-auto",onScroll:D,children:x.jsx(oH,{notes:N,selectedIndices:u,regionLengthBeats:T.lengthBeats,pxPerBeat:d,rowHeight:A,snapValue:l,tool:a,isDrum:O,trackColor:E.color,onNotesChange:I,onSelectionChange:h})}),x.jsx(lH,{notes:N,selectedIndices:u,pxPerBeat:d,color:E.color,height:hH,onVelocityChange:V})]})]})]})}const pH="modulepreload",mH=function(t){return"/"+t},K1={},gH=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=mH(l),l in K1)return;K1[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":pH,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})};function yH(t){const e=t.numberOfChannels,n=t.sampleRate,s=16,i=s/8,r=e*i,a=t.length,o=a*r,l=44,c=new ArrayBuffer(l+o),u=new DataView(c);du(u,0,"RIFF"),u.setUint32(4,36+o,!0),du(u,8,"WAVE"),du(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,1,!0),u.setUint16(22,e,!0),u.setUint32(24,n,!0),u.setUint32(28,n*r,!0),u.setUint16(32,r,!0),u.setUint16(34,s,!0),du(u,36,"data"),u.setUint32(40,o,!0);const h=[];for(let f=0;f<e;f++)h.push(t.getChannelData(f));let d=l;for(let f=0;f<a;f++)for(let p=0;p<e;p++){const g=Math.max(-1,Math.min(1,h[p][f])),v=g<0?g*32768:g*32767;u.setInt16(d,v,!0),d+=2}return new Blob([c],{type:"audio/wav"})}function du(t,e,n){for(let s=0;s<n.length;s++)t.setUint8(e+s,n.charCodeAt(s))}function vH(t,e){const n=new Vs(t.volume);if(n.connect(e),t.muted&&(n.mute=!0),t.instrument.type==="synth"){const f=$n[t.instrument.presetIndex]||$n[0],p=new Oc(li,{maxPolyphony:nv,oscillator:f.oscillator,envelope:f.envelope});return p.connect(n),{synth:p,drumSynths:null,drumFilter:null,volume:n}}const s=new Map,i=new sa({frequency:8e3,type:"highpass"});i.connect(n);const r=new Fn({pitchDecay:.05,octaves:6,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}});r.connect(n),s.set(36,r);const a=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.15,sustain:0,release:.05}});a.connect(n),s.set(37,a);const o=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.05,sustain:0,release:.01}});o.connect(i),s.set(38,o);const l=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}});l.connect(i),s.set(39,l);const c=new Pt({noise:{type:"pink"},envelope:{attack:.001,decay:.12,sustain:0,release:.05}});c.connect(n),s.set(40,c);const u=new Fn({pitchDecay:.03,octaves:4,oscillator:{type:"sine"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}});u.connect(n),s.set(41,u);const h=new Ss({frequency:300,envelope:{attack:.001,decay:1.2,release:.3},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5});h.connect(n),s.set(42,h);const d=new Ss({frequency:400,envelope:{attack:.001,decay:.4,release:.1},harmonicity:5.1,modulationIndex:16,resonance:5e3,octaves:1});return d.connect(n),s.set(43,d),{synth:null,drumSynths:s,drumFilter:i,volume:n}}function bH(t,e,n,s){const i=t.get(e);if(!i)return;const r=n*.8+.2;if(i instanceof Fn){const a=e===36?"C1":"G1";i.triggerAttackRelease(a,"8n",s,r)}else if(i instanceof Pt){const a=e===38?"16n":e===39?"8n":"16n";i.triggerAttackRelease(a,s,r)}else if(i instanceof Ss){const a=e===42?"16n":"32n";i.triggerAttackRelease(a,s,r)}}function _H(t){let e=0;for(const n of t.tracks)if(!n.muted)for(const s of n.regions)for(const i of s.notes){const r=s.startBeat+i.startBeat+i.durationBeats;e=Math.max(e,r)}return e}async function xH(t){const e=_H(t);if(e<=0)throw new Error("Nothing to export");const n=e/t.bpm*60+1,s=await mF(({destination:i})=>{const r=Yn();r.bpm.value=t.bpm;for(const a of t.tracks){if(a.muted)continue;const o=vH(a,i),l=[];for(const u of a.regions)for(const h of u.notes){const d=u.startBeat+h.startBeat;l.push({time:d*(60/t.bpm),note:h})}if(l.length===0)continue;new Wl((u,h)=>{const{note:d}=h;if(a.instrument.type==="drums"&&o.drumSynths)bH(o.drumSynths,d.note,d.velocity,u);else if(o.synth){const f=ir(d.note),p=d.durationBeats*60/t.bpm;o.synth.triggerAttackRelease(f,p,u,d.velocity)}},l.map(u=>({time:u.time,note:u.note}))).start(0)}r.start(0)},n);return yH(s)}async function SH(t){const e=await gH(()=>import("./index-DpL1dPXj.js").then(l=>l.i),[]),n=[];for(const l of t.tracks){if(l.muted)continue;const c=new e.Track;c.setTempo(t.bpm),c.addTrackName(l.name);const u=l.instrument.type==="drums"?10:1,h=[];for(const d of l.regions)for(const f of d.notes)h.push({absoluteBeat:d.startBeat+f.startBeat,note:f});h.sort((d,f)=>d.absoluteBeat-f.absoluteBeat);for(const{absoluteBeat:d,note:f}of h){const p=Math.round(d*128),g=Math.max(1,Math.round(f.durationBeats*128));c.addEvent(new e.NoteEvent({pitch:[f.note],duration:`T${g}`,velocity:Math.round(f.velocity*100),startTick:p,channel:u}))}n.push(c)}if(n.length===0)throw new Error("Nothing to export");const r=new e.Writer(n).dataUri().split(",")[1],a=atob(r),o=new Uint8Array(a.length);for(let l=0;l<a.length;l++)o[l]=a.charCodeAt(l);return new Blob([o],{type:"audio/midi"})}function Z1(t,e){const n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}function wH({onClose:t}){const[e,n]=_.useState(null),[s,i]=_.useState(null),r=_.useCallback(async()=>{n("wav"),i(null);try{const o=ce.getArrangement(),l=await xH(o),c=o.name||"untitled";Z1(l,`${c}.wav`)}catch(o){i(o instanceof Error?o.message:"Export failed")}finally{n(null)}},[]),a=_.useCallback(async()=>{n("midi"),i(null);try{const o=ce.getArrangement(),l=await SH(o),c=o.name||"untitled";Z1(l,`${c}.mid`)}catch(o){i(o instanceof Error?o.message:"Export failed")}finally{n(null)}},[]);return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:x.jsxs("div",{className:"relative w-80 rounded-lg border border-border bg-card p-5 shadow-2xl",children:[x.jsx("button",{className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",onClick:t,children:x.jsx(aI,{className:"h-4 w-4"})}),x.jsx("h2",{className:"mb-4 text-sm font-bold",children:"Export"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs(et,{variant:"outline",className:"h-12 justify-start gap-3",onClick:r,disabled:e!==null,children:[e==="wav"?x.jsx(D_,{className:"h-5 w-5 animate-spin"}):x.jsx(OV,{className:"h-5 w-5 text-primary"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{className:"text-xs font-semibold",children:"WAV Audio"}),x.jsx("div",{className:"text-[10px] text-muted-foreground",children:"16-bit PCM, lossless"})]})]}),x.jsxs(et,{variant:"outline",className:"h-12 justify-start gap-3",onClick:a,disabled:e!==null,children:[e==="midi"?x.jsx(D_,{className:"h-5 w-5 animate-spin"}):x.jsx(zV,{className:"h-5 w-5 text-primary"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{className:"text-xs font-semibold",children:"MIDI"}),x.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Standard MIDI file"})]})]})]}),s&&x.jsx("p",{className:"mt-3 text-xs text-red-500",children:s})]})})}class fu extends _.Component{constructor(){super(...arguments);he(this,"state",{hasError:!1,error:null});he(this,"handleReset",()=>{var n,s;this.setState({hasError:!1,error:null}),(s=(n=this.props).onReset)==null||s.call(n)})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error(`[ErrorBoundary:${this.props.zoneName}]`,n,s.componentStack)}render(){var s;if(!this.state.hasError)return this.props.children;const n=((s=this.state.error)==null?void 0:s.message)||"Unknown error";return this.props.fallbackVariant==="inline"?x.jsxs("div",{className:"flex items-center gap-2 border-b border-border bg-card/60 px-4 py-2 text-sm text-muted-foreground",children:[x.jsx(I_,{className:"size-4 shrink-0 text-destructive"}),x.jsxs("span",{className:"truncate font-mono text-xs",children:[this.props.zoneName," encountered an error: ",n]}),x.jsx(et,{variant:"ghost",size:"xs",onClick:this.handleReset,className:"ml-auto shrink-0",children:"Retry"})]}):x.jsx("div",{className:"flex flex-1 items-center justify-center p-8",children:x.jsxs("div",{className:"flex max-w-md flex-col items-center gap-4 rounded-lg border border-border bg-card/60 p-8 text-center backdrop-blur-sm",children:[x.jsx(I_,{className:"size-8 text-destructive"}),x.jsxs("div",{children:[x.jsxs("p",{className:"text-sm font-medium text-foreground",children:[this.props.zoneName," encountered an error"]}),x.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:n})]}),x.jsx(et,{variant:"outline",size:"sm",onClick:this.handleReset,children:"Try Again"})]})})}}function TH(){const[t,e]=_.useState(!1),[n,s]=_.useState(JA),[i,r]=_.useState(0),a=_.useCallback(async()=>{await Dt.start(),e(!0)},[]),o=_.useCallback(c=>{Dt.setVolume(c),s(c)},[]),l=_.useCallback(c=>{Dt.setPreset(c),r(c)},[]);return{started:t,volume:n,presetIndex:i,start:a,changeVolume:o,changePreset:l}}class es{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,n,s={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==es.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const i=new Q1(e,this,n,s);return this.eventMap[e]||(this.eventMap[e]=[]),s.prepend?this.eventMap[e].unshift(i):this.eventMap[e].push(i),i}addOneTimeListener(e,n,s={}){s.remaining=1,this.addListener(e,n,s)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,n){return e===void 0?this.eventMap[es.ANY_EVENT]&&this.eventMap[es.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,s])=>s.length>0):this.eventMap[e]&&this.eventMap[e].length>0?n instanceof Q1?this.eventMap[e].filter(i=>i===n).length>0:typeof n=="function"?this.eventMap[e].filter(i=>i.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...n){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let s=[],i=this.eventMap[es.ANY_EVENT]||[];return this.eventMap[e]&&(i=i.concat(this.eventMap[e])),i.forEach(r=>{if(r.suspended)return;let a=[...n];Array.isArray(r.arguments)&&(a=a.concat(r.arguments)),r.remaining>0&&(s.push(r.callback.apply(r.context,a)),r.count++),--r.remaining<1&&r.remove()}),s}removeListener(e,n,s={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let i=this.eventMap[e].filter(r=>n&&r.callback!==n||s.remaining&&s.remaining!==r.remaining||s.context&&s.context!==r.context);i.length?this.eventMap[e]=i:delete this.eventMap[e]}async waitFor(e,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((s,i)=>{let r,a=this.addListener(e,()=>{clearTimeout(r),s()},{remaining:1});n.duration!==1/0&&(r=setTimeout(()=>{a.remove(),i("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class Q1{constructor(e,n,s,i={}){if(typeof e!="string"&&!(e instanceof String)&&e!==es.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof s!="function")throw new TypeError("The 'callback' must be a function.");i.arguments!==void 0&&!Array.isArray(i.arguments)&&(i.arguments=[i.arguments]),i=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},i),i.duration!==1/0&&setTimeout(()=>this.remove(),i.duration),this.arguments=i.arguments,this.callback=s,this.context=i.context,this.count=0,this.event=e,this.remaining=parseInt(i.remaining)>=1?parseInt(i.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class U{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),U.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),U.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),U.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),U.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Ba{constructor(e,n={}){this.duration=H.defaults.note.duration,this.attack=H.defaults.note.attack,this.release=H.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=G.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=G.from7bitToFloat(n.rawRelease)),Number.isInteger(e)?this.identifier=G.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const n=G.getNoteDetails(e);if(H.validation&&!e)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(e){if(H.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(H.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(H.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(H.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(H.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(H.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return G.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=G.from7bitToFloat(e)}get rawRelease(){return G.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=G.from7bitToFloat(e)}get number(){return G.toNoteNumber(this.identifier)}getOffsetNumber(e=0,n=0){return H.validation&&(e=parseInt(e)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+e*12+n,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class G{static toNoteNumber(e,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const s=this.getNoteDetails(e);if(!s)throw new TypeError("Invalid note identifier");const i={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let r=(s.octave+1+n)*12;if(r+=i[s.name],s.accidental&&(s.accidental.startsWith("b")?r-=s.accidental.length:r+=s.accidental.length),r<0||r>127)throw new RangeError("Invalid octaveOffset value");return r}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const n=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const s=n[1].toUpperCase(),i=parseInt(n[3]);let r=n[2].toLowerCase();return r=r===""?void 0:r,{accidental:r,identifier:s+(r||"")+i,name:s,octave:i}}static sanitizeChannels(e){let n;if(H.validation){if(e==="all")n=["all"];else if(e==="none")return[]}return Array.isArray(e)?n=e:n=[e],n.indexOf("all")>-1&&(n=U.MIDI_CHANNEL_NUMBERS),n.map(function(s){return parseInt(s)}).filter(function(s){return s>=1&&s<=16})}static toTimestamp(e){let n=!1;const s=parseFloat(e);return isNaN(s)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?s>=0&&(n=H.time+s):s>=0&&(n=s),n)}static guessNoteNumber(e,n){n=parseInt(n)||0;let s=!1;if(Number.isInteger(e)&&e>=0&&e<=127)s=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)s=parseInt(e);else if(typeof e=="string"||e instanceof String)try{s=this.toNoteNumber(e.trim(),n)}catch{return!1}return s}static toNoteIdentifier(e,n){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const s=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i=Math.floor(e/12-1)+n;return s[e%12]+i.toString()}static buildNote(e,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,e instanceof Ba)return e;let s=this.guessNoteNumber(e,n.octaveOffset);if(s===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return n.octaveOffset=void 0,new Ba(s,n)}static buildNoteArray(e,n={}){let s=[];return Array.isArray(e)||(e=[e]),e.forEach(i=>{s.push(this.buildNote(i,n))}),s}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,n=0){H.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const s=((e<<7)+n)/16383;return Math.min(Math.max(s,0),1)}static fromFloatToMsbLsb(e){H.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const n=Math.round(e*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(e,n=0,s=0){if(H.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");n=parseInt(n)||0,s=parseInt(s)||0}return Math.min(Math.max(e+n*12+s,0),127)}static getPropertyByValue(e,n){return Object.keys(e).find(s=>e[s]===n)}static getCcNameByNumber(e){if(!(H.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return U.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let n=U.CONTROL_CHANGE_MESSAGES.find(s=>s.name===e);return n?n.number:U.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let n in U.CHANNEL_MODE_MESSAGES)if(U.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&e===U.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class EH extends es{constructor(e,n){super(),this._output=e,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,n={time:0}){return this.output.send(e,n),this}sendKeyAftertouch(e,n,s={}){if(H.validation){if(s.useRawValue&&(s.rawValue=s.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(s.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}s.rawValue||(n=G.fromFloatTo7Bit(n));const i=H.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),G.buildNoteArray(e).forEach(r=>{this.send([(U.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),r.getOffsetNumber(i),n],{time:G.toTimestamp(s.time)})}),this}sendControlChange(e,n,s={}){if(typeof e=="string"&&(e=G.getCcNumberByName(e)),Array.isArray(n)||(n=[n]),H.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(i=>{const r=Math.min(Math.max(parseInt(i),0),127);if(isNaN(r))throw new TypeError("Values must be integers between 0 and 127");return r}),n.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((i,r)=>{this.send([(U.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+r*32,n[r]],{time:G.toTimestamp(s.time)})}),this}_selectNonRegisteredParameter(e,n={}){return this.sendControlChange(99,e[0],n),this.sendControlChange(98,e[1],n),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,n={}){return this.sendControlChange(101,e[0],n),this.sendControlChange(100,e[1],n),this}_setCurrentParameter(e,n={}){return e=[].concat(e),this.sendControlChange(6,e[0],n),e.length<2?this:(this.sendControlChange(38,e[1],n),this)}sendRpnDecrement(e,n={}){if(Array.isArray(e)||(e=U.REGISTERED_PARAMETERS[e]),H.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let s=!1;if(Object.getOwnPropertyNames(U.REGISTERED_PARAMETERS).forEach(i=>{U.REGISTERED_PARAMETERS[i][0]===e[0]&&U.REGISTERED_PARAMETERS[i][1]===e[1]&&(s=!0)}),!s)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(e,n={}){if(Array.isArray(e)||(e=U.REGISTERED_PARAMETERS[e]),H.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let s=!1;if(Object.getOwnPropertyNames(U.REGISTERED_PARAMETERS).forEach(i=>{U.REGISTERED_PARAMETERS[i][0]===e[0]&&U.REGISTERED_PARAMETERS[i][1]===e[1]&&(s=!0)}),!s)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(e,n={}){this.sendNoteOn(e,n);const s=Array.isArray(e)?e:[e];for(let i of s)if(parseInt(i.duration)>0){const r={time:(G.toTimestamp(n.time)||H.time)+parseInt(i.duration),release:i.release,rawRelease:i.rawRelease};this.sendNoteOff(i,r)}else if(parseInt(n.duration)>0){const r={time:(G.toTimestamp(n.time)||H.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(i,r)}return this}sendNoteOff(e,n={}){if(H.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let s=64;n.rawRelease!=null?s=n.rawRelease:isNaN(n.release)||(s=Math.round(n.release*127));const i=H.octaveOffset+this.output.octaveOffset+this.octaveOffset;return G.buildNoteArray(e,{rawRelease:parseInt(s)}).forEach(r=>{this.send([(U.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),r.getOffsetNumber(i),r.rawRelease],{time:G.toTimestamp(n.time)})}),this}stopNote(e,n={}){return this.sendNoteOff(e,n)}sendNoteOn(e,n={}){if(H.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let s=64;n.rawAttack!=null?s=n.rawAttack:isNaN(n.attack)||(s=Math.round(n.attack*127));const i=H.octaveOffset+this.output.octaveOffset+this.octaveOffset;return G.buildNoteArray(e,{rawAttack:s}).forEach(r=>{this.send([(U.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),r.getOffsetNumber(i),r.rawAttack],{time:G.toTimestamp(n.time)})}),this}sendChannelMode(e,n=0,s={}){if(typeof e=="string"&&(e=U.CHANNEL_MODE_MESSAGES[e]),H.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(U.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,n],{time:G.toTimestamp(s.time)}),this}sendOmniMode(e,n={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(e,n={}){if(H.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return n.rawValue||(e=G.fromFloatTo7Bit(e)),this.send([(U.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e)],{time:G.toTimestamp(n.time)}),this}sendMasterTuning(e,n={}){if(e=parseFloat(e)||0,H.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let s=Math.floor(e)+64,i=e-Math.floor(e);i=Math.round((i+1)/2*16383);let r=i>>7&127,a=i&127;return this.sendRpnValue("channelcoarsetuning",s,n),this.sendRpnValue("channelfinetuning",[r,a],n),this}sendModulationRange(e,n,s={}){if(H.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[e,n],s),this}sendNrpnValue(e,n,s={}){if(n=[].concat(n),H.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(i=>{if(!(i>=0&&i<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,s),this._setCurrentParameter(n,s),this._deselectNonRegisteredParameter(s),this}sendPitchBend(e,n={}){if(H.validation)if(n.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let s=0,i=0;if(n.rawValue&&Array.isArray(e))s=e[0],i=e[1];else if(n.rawValue&&!Array.isArray(e))s=e;else{const r=G.fromFloatToMsbLsb((e+1)/2);s=r.msb,i=r.lsb}return this.send([(U.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),i,s],{time:G.toTimestamp(n.time)}),this}sendPitchBendRange(e,n,s={}){if(H.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,n],s),this}sendProgramChange(e,n={}){if(e=parseInt(e)||0,H.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(U.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:G.toTimestamp(n.time)}),this}sendRpnValue(e,n,s={}){if(Array.isArray(e)||(e=U.REGISTERED_PARAMETERS[e]),H.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(i=>{if(!(i>=0&&i<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,s),this._setCurrentParameter(n,s),this._deselectRegisteredParameter(s),this}sendTuningBank(e,n={}){if(H.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,n),this}sendTuningProgram(e,n={}){if(H.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,n),this}sendLocalControl(e,n={}){return e?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,n={}){return e==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class lg extends es{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new EH(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let n={timestamp:H.time};e.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,n={time:0},s=0){if(e instanceof fM&&(e=G.isNode?e.data:e.rawData),e instanceof Uint8Array&&G.isNode&&(e=Array.from(e)),H.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(n)&&(e=e.concat(n)),n=isNaN(s)?{time:0}:{time:s}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(i=>{if(i=parseInt(i),!(i>=0&&i<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(e,G.toTimestamp(n.time)),this}sendSysex(e,n=[],s={}){if(e=[].concat(e),n instanceof Uint8Array){const i=new Uint8Array(1+e.length+n.length+1);i[0]=U.SYSTEM_MESSAGES.sysex,i.set(Uint8Array.from(e),1),i.set(n,1+e.length),i[i.length-1]=U.SYSTEM_MESSAGES.sysexend,this.send(i,{time:s.time})}else{const i=e.concat(n,U.SYSTEM_MESSAGES.sysexend);this.send([U.SYSTEM_MESSAGES.sysex].concat(i),{time:s.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():H.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,n={}){if(H.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([U.SYSTEM_MESSAGES.timecode,e],{time:n.time}),this}sendSongPosition(e=0,n={}){e=Math.floor(e)||0;var s=e>>7&127,i=e&127;return this.send([U.SYSTEM_MESSAGES.songposition,s,i],{time:n.time}),this}sendSongSelect(e=0,n={}){if(H.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([U.SYSTEM_MESSAGES.songselect,e],{time:n.time}),this}sendTuneRequest(e={}){return this.send([U.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([U.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([U.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([U.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([U.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([U.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([U.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return H.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,n,s={}){return s.channels==null&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).forEach(i=>{this.channels[i].sendKeyAftertouch(e,n,s)}),this}sendControlChange(e,n,s={},i={}){if(H.validation&&(Array.isArray(s)||Number.isInteger(s)||s==="all")){const r=s;s=i,s.channels=r,s.channels==="all"&&(s.channels=U.MIDI_CHANNEL_NUMBERS)}return s.channels==null&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).forEach(r=>{this.channels[r].sendControlChange(e,n,s)}),this}sendPitchBendRange(e=0,n=0,s={}){return s.channels==null&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).forEach(i=>{this.channels[i].sendPitchBendRange(e,n,s)}),this}setPitchBendRange(e=0,n=0,s="all",i={}){return H.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),i.channels=s,i.channels==="all"&&(i.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,n,i)}sendRpnValue(e,n,s={}){return s.channels==null&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).forEach(i=>{this.channels[i].sendRpnValue(e,n,s)}),this}setRegisteredParameter(e,n=[],s="all",i={}){return H.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),i.channels=s,i.channels==="all"&&(i.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,n,i)}sendChannelAftertouch(e,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendChannelAftertouch(e,n)}),this}sendPitchBend(e,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendPitchBend(e,n)}),this}sendProgramChange(e=0,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendProgramChange(e,n)}),this}sendModulationRange(e,n,s={}){return s.channels==null&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).forEach(i=>{this.channels[i].sendModulationRange(e,n,s)}),this}setModulationRange(e=0,n=0,s="all",i={}){return H.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),i.channels=s,i.channels==="all"&&(i.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,n,i)}sendMasterTuning(e,n={}){return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendMasterTuning(e,n)}),this}setMasterTuning(e,n={},s={}){return H.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),s.channels=n,s.channels==="all"&&(s.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,s)}sendTuningProgram(e,n={}){return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendTuningProgram(e,n)}),this}setTuningProgram(e,n="all",s={}){return H.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),s.channels=n,s.channels==="all"&&(s.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,s)}sendTuningBank(e=0,n={}){return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendTuningBank(e,n)}),this}setTuningBank(e,n="all",s={}){return H.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),s.channels=n,s.channels==="all"&&(s.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,s)}sendChannelMode(e,n=0,s={},i={}){if(H.validation&&(Array.isArray(s)||Number.isInteger(s)||s==="all")){const r=s;s=i,s.channels=r,s.channels==="all"&&(s.channels=U.MIDI_CHANNEL_NUMBERS)}return s.channels==null&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).forEach(r=>{this.channels[r].sendChannelMode(e,n,s)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},n={}){if(H.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const s=e;e=n,e.channels=s,e.channels==="all"&&(e.channels=U.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(e.channels).forEach(s=>{this.channels[s].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendPolyphonicMode(e,n)}),this}sendLocalControl(e,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendLocalControl(e,n)}),this}sendOmniMode(e,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendOmniMode(e,n)}),this}sendNrpnValue(e,n,s={}){return s.channels==null&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).forEach(i=>{this.channels[i].sendNrpnValue(e,n,s)}),this}setNonRegisteredParameter(e,n=[],s="all",i={}){return H.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),i.channels=s,i.channels==="all"&&(i.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,n,i)}sendRpnIncrement(e,n={}){return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendRpnIncrement(e,n)}),this}incrementRegisteredParameter(e,n="all",s={}){return H.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),s.channels=n,s.channels==="all"&&(s.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,s)}sendRpnDecrement(e,n={}){return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendRpnDecrement(e,n)}),this}decrementRegisteredParameter(e,n="all",s={}){return H.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),s.channels=n,s.channels==="all"&&(s.channels=U.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,s)}sendNoteOff(e,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendNoteOff(e,n)}),this}stopNote(e,n){return this.sendNoteOff(e,n)}playNote(e,n={},s={}){if(H.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].playNote(e,n)}),this}sendNoteOn(e,n={},s={}){if(H.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=s,n.channels=i,n.channels==="all"&&(n.channels=U.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendNoteOn(e,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class $1{constructor(e=[],n={}){this.destinations=[],this.types=[...Object.keys(U.SYSTEM_MESSAGES),...Object.keys(U.CHANNEL_MESSAGES)],this.channels=U.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),H.validation&&(e.forEach(s=>{if(!(s instanceof lg))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(s=>{if(!U.SYSTEM_MESSAGES.hasOwnProperty(s)&&!U.CHANNEL_MESSAGES.hasOwnProperty(s))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(s=>{if(!U.MIDI_CHANNEL_NUMBERS.includes(s))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(n=>{H.validation&&!(n instanceof lg)||n.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class CH extends es{constructor(e,n){super(),this._input=e,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const n=Object.assign({},e);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmessage";const s=e.message.dataBytes[0],i=e.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&i===0)this.notesState[s]=!1,n.type="noteoff",n.note=new Ba(G.offsetNumber(s,this.octaveOffset+this.input.octaveOffset+H.octaveOffset),{rawAttack:0,rawRelease:i}),n.value=G.from7bitToFloat(i),n.rawValue=i,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[s]=!0,n.note=new Ba(G.offsetNumber(s,this.octaveOffset+this.input.octaveOffset+H.octaveOffset),{rawAttack:i}),n.value=G.from7bitToFloat(i),n.rawValue=i,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new Ba(G.offsetNumber(s,this.octaveOffset+this.input.octaveOffset+H.octaveOffset)),n.value=G.from7bitToFloat(i),n.rawValue=i,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=s;else if(n.type==="controlchange"){n.controller={number:s,name:U.CONTROL_CHANGE_MESSAGES[s].name,description:U.CONTROL_CHANGE_MESSAGES[s].description,position:U.CONTROL_CHANGE_MESSAGES[s].position},n.subtype=n.controller.name||"controller"+s,n.value=G.from7bitToFloat(i),n.rawValue=i;const r=Object.assign({},n);r.type=`${n.type}-controller${s}`,delete r.subtype,this.emit(r.type,r);const a=Object.assign({},n);a.type=`${n.type}-`+U.CONTROL_CHANGE_MESSAGES[s].name,delete a.subtype,a.type.indexOf("controller")!==0&&this.emit(a.type,a),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=s,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=G.from7bitToFloat(s),n.rawValue=s):n.type==="pitchbend"?(n.value=((i<<7)+s-8192)/8192,n.rawValue=(i<<7)+s):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(e){const n=Object.assign({},e);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(e){const n=e.message.dataBytes[0],s=e.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[e.message]:s!==127&&(this._rpnBuffer=[e.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&s!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,n,s,i){e=e==="nrpn"?"nrpn":"rpn";const r={target:i.target,timestamp:i.timestamp,message:i.message,parameterMsb:n,parameterLsb:s,value:G.from7bitToFloat(i.message.dataBytes[1]),rawValue:i.message.dataBytes[1]};e==="rpn"?r.parameter=Object.keys(U.REGISTERED_PARAMETERS).find(l=>U.REGISTERED_PARAMETERS[l][0]===n&&U.REGISTERED_PARAMETERS[l][1]===s):r.parameter=(n<<7)+s;const a=U.CONTROL_CHANGE_MESSAGES[i.message.dataBytes[0]].name;r.type=`${e}-${a}`,this.emit(r.type,r);const o=Object.assign({},r);o.type==="nrpn-dataincrement"?o.type="nrpn-databuttonincrement":o.type==="nrpn-datadecrement"?o.type="nrpn-databuttondecrement":o.type==="rpn-dataincrement"?o.type="rpn-databuttonincrement":o.type==="rpn-datadecrement"&&(o.type="rpn-databuttondecrement"),this.emit(o.type,o),r.type=e,r.subtype=a,this.emit(r.type,r)}getChannelModeByNumber(e){return H.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),G.getChannelModeByNumber(e)}getCcNameByNumber(e){if(H.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return G.getCcNameByNumber(e)}getNoteState(e){e instanceof Ba&&(e=e.identifier);const n=G.guessNoteNumber(e,H.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class fM{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=G.getPropertyByValue(U.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=G.getPropertyByValue(U.SYSTEM_MESSAGES,this.command)),this.statusByte===U.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class AH extends es{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new CH(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let n={timestamp:H.time,target:this,port:this};e.port.connection==="open"?(n.type="opened",this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const n=new fM(e.data),s={port:this,target:this,message:n,timestamp:e.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",s),n.isSystemMessage?this._parseEvent(s):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(s),this._forwarders.forEach(i=>i.forward(n))}_parseEvent(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=e.data[1]+1,n.value=e.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){H.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,n,s={}){if(H.validation&&typeof s=="function"){let i=n!=null?[].concat(n):void 0;n=s,s={channels:i}}if(U.CHANNEL_EVENTS.includes(e)){s.channels===void 0&&(s.channels=U.MIDI_CHANNEL_NUMBERS);let i=[];return G.sanitizeChannels(s.channels).forEach(r=>{i.push(this.channels[r].addListener(e,n,s))}),i}else return super.addListener(e,n,s)}addOneTimeListener(e,n,s={}){return s.remaining=1,this.addListener(e,n,s)}on(e,n,s,i){return this.addListener(e,n,s,i)}hasListener(e,n,s={}){if(H.validation&&typeof s=="function"){let i=[].concat(n);n=s,s={channels:i}}return U.CHANNEL_EVENTS.includes(e)?(s.channels===void 0&&(s.channels=U.MIDI_CHANNEL_NUMBERS),G.sanitizeChannels(s.channels).every(i=>this.channels[i].hasListener(e,n))):super.hasListener(e,n)}removeListener(e,n,s={}){if(H.validation&&typeof s=="function"){let i=[].concat(n);n=s,s={channels:i}}if(s.channels===void 0&&(s.channels=U.MIDI_CHANNEL_NUMBERS),e==null)return G.sanitizeChannels(s.channels).forEach(i=>{this.channels[i]&&this.channels[i].removeListener()}),super.removeListener();U.CHANNEL_EVENTS.includes(e)?G.sanitizeChannels(s.channels).forEach(i=>{this.channels[i].removeListener(e,n,s)}):super.removeListener(e,n,s)}addForwarder(e,n={}){let s;return e instanceof $1?s=e:s=new $1(e,n),this._forwarders.push(s),s}removeForwarder(e){this._forwarders=this._forwarders.filter(n=>n!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return H.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class NH extends es{constructor(){super(),this.defaults={note:{attack:G.from7bitToFloat(64),release:G.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},n=!1){if(G.isNode){try{window.navigator}catch{let o=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();global.navigator||(global.navigator={}),Object.assign(global.navigator,o)}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:n}),n&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const s={timestamp:this.time,target:this,type:"error",error:void 0},i={timestamp:this.time,target:this,type:"midiaccessgranted"},r={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(a){return s.error=a,this.emit("error",s),typeof e.callback=="function"&&e.callback(a),Promise.reject(a)}this.emit("midiaccessgranted",i),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(a){return s.error=a,this.emit("error",s),typeof e.callback=="function"&&e.callback(a),Promise.reject(a)}return this.emit("enabled",r),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let s=0;s<this._disconnectedInputs.length;s++)if(this._disconnectedInputs[s]._midiInput&&this._disconnectedInputs[s].id===e.toString())return this._disconnectedInputs[s]}else for(let s=0;s<this.inputs.length;s++)if(this.inputs[s]._midiInput&&this.inputs[s].id===e.toString())return this.inputs[s]}getInputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let s=0;s<this._disconnectedInputs.length;s++)if(~this._disconnectedInputs[s].name.indexOf(e))return this._disconnectedInputs[s]}else for(let s=0;s<this.inputs.length;s++)if(~this.inputs[s].name.indexOf(e))return this.inputs[s]}getOutputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let s=0;s<this._disconnectedOutputs.length;s++)if(~this._disconnectedOutputs[s].name.indexOf(e))return this._disconnectedOutputs[s]}else for(let s=0;s<this.outputs.length;s++)if(~this.outputs[s].name.indexOf(e))return this.outputs[s]}getOutputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let s=0;s<this._disconnectedOutputs.length;s++)if(this._disconnectedOutputs[s]._midiOutput&&this._disconnectedOutputs[s].id===e.toString())return this._disconnectedOutputs[s]}else for(let s=0;s<this.outputs.length;s++)if(this.outputs[s]._midiOutput&&this.outputs[s].id===e.toString())return this.outputs[s]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),G.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?G.getNoteDetails(G.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),G.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),G.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),G.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),G.buildNoteArray(e,n)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),G.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(n=>e.push(n.destroy())),this.outputs.forEach(n=>e.push(n.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let n={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?n.port=this.getOutputById(e.port.id):e.port.type==="input"&&(n.port=this.getInputById(e.port.id)),this.emit(e.port.state,n);const s=Object.assign({},n);s.type="portschanged",this.emit(s.type,s)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?n.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(n.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,n);const s=Object.assign({},n);s.type="portschanged",this.emit(s.type,s)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const s=this._inputs[n];Array.from(this.interface.inputs.values()).find(r=>r===s._midiInput)||(this._disconnectedInputs.push(s),this._inputs.splice(n,1))}let e=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(s=>s._midiInput===n)){let s=this._disconnectedInputs.find(i=>i._midiInput===n);s||(s=new AH(n)),this._inputs.push(s),e.push(s.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const s=this._outputs[n];Array.from(this.interface.outputs.values()).find(r=>r===s._midiOutput)||(this._disconnectedOutputs.push(s),this._outputs.splice(n,1))}let e=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(s=>s._midiOutput===n)){let s=this._disconnectedOutputs.find(i=>i._midiOutput===n);s||(s=new lg(n)),this._outputs.push(s),e.push(s.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),G.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),G.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.14"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),U.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),U.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),U.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),U.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),U.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const H=new NH;H.constructor=null;class MH{constructor(){he(this,"enabled",!1);he(this,"activeInput",null);he(this,"callbacks",null);he(this,"deviceChangeCallbacks",[])}async enable(){this.enabled||(await H.enable(),this.enabled=!0,H.addListener("connected",()=>this.handleDeviceChange()),H.addListener("disconnected",()=>this.handleDeviceChange()),this.autoSelectDevice())}getDevices(){return this.enabled?H.inputs.map(e=>({id:e.id,name:e.name,manufacturer:e.manufacturer,connected:!0})):[]}selectDevice(e){this.detachListeners();const n=H.inputs.find(s=>s.id===e);n&&(this.activeInput=n,this.attachListeners())}getActiveDeviceId(){var e;return((e=this.activeInput)==null?void 0:e.id)??null}setCallbacks(e){this.callbacks=e}onDeviceChange(e){return this.deviceChangeCallbacks.push(e),()=>{this.deviceChangeCallbacks=this.deviceChangeCallbacks.filter(n=>n!==e)}}autoSelectDevice(){const e=H.inputs.find(n=>SP.test(n.name));e?this.selectDevice(e.id):H.inputs.length>0&&this.selectDevice(H.inputs[0].id)}handleDeviceChange(){const e=this.getDevices();this.activeInput&&!H.inputs.find(n=>n.id===this.activeInput.id)&&(this.activeInput=null,this.autoSelectDevice()),this.deviceChangeCallbacks.forEach(n=>n(e))}attachListeners(){this.activeInput&&(this.activeInput.addListener("noteon",e=>{var s;const n=bP(e.note.rawAttack);(s=this.callbacks)==null||s.onNoteOn(e.note.number,n,e.message.channel)}),this.activeInput.addListener("noteoff",e=>{var n;(n=this.callbacks)==null||n.onNoteOff(e.note.number,e.message.channel)}),this.activeInput.addListener("controlchange",e=>{var n;e.controller.number!==void 0&&e.rawValue!==void 0&&((n=this.callbacks)==null||n.onControlChange(e.controller.number,e.rawValue))}))}detachListeners(){this.activeInput&&(this.activeInput.removeListener("noteon"),this.activeInput.removeListener("noteoff"),this.activeInput.removeListener("controlchange"))}isEnabled(){return this.enabled}dispose(){this.detachListeners(),this.activeInput=null,this.callbacks=null,this.deviceChangeCallbacks=[],this.enabled&&(H.disable(),this.enabled=!1)}}const br=new MH;function RH(t){const[e,n]=_.useState([]),[s,i]=_.useState(null),[r,a]=_.useState(!1),o=_.useCallback(async()=>{await br.enable(),a(!0),n(br.getDevices()),i(br.getActiveDeviceId())},[]);_.useEffect(()=>{br.setCallbacks(t)},[t]),_.useEffect(()=>r?br.onDeviceChange(u=>{n(u),i(br.getActiveDeviceId())}):void 0,[r]);const l=_.useCallback(c=>{br.selectDevice(c),i(c)},[]);return{devices:e,activeDeviceId:s,enabled:r,enable:o,selectDevice:l}}class kH{constructor(){he(this,"volume",null);he(this,"started",!1);he(this,"kick",null);he(this,"snare",null);he(this,"closedHH",null);he(this,"openHH",null);he(this,"clap",null);he(this,"tom",null);he(this,"crash",null);he(this,"ride",null);he(this,"hhFilter",null)}async start(){this.started||(this.volume=new Vs(-6).toDestination(),this.hhFilter=new sa({frequency:8e3,type:"highpass"}),this.hhFilter.connect(this.volume),this.kick=new Fn({pitchDecay:.05,octaves:6,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}}),this.kick.connect(this.volume),this.snare=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.15,sustain:0,release:.05}}),this.snare.connect(this.volume),this.closedHH=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.05,sustain:0,release:.01}}),this.closedHH.connect(this.hhFilter),this.openHH=new Pt({noise:{type:"white"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}}),this.openHH.connect(this.hhFilter),this.clap=new Pt({noise:{type:"pink"},envelope:{attack:.001,decay:.12,sustain:0,release:.05}}),this.clap.connect(this.volume),this.tom=new Fn({pitchDecay:.03,octaves:4,oscillator:{type:"sine"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}}),this.tom.connect(this.volume),this.crash=new Ss({frequency:300,envelope:{attack:.001,decay:1.4,release:.4},harmonicity:5.1,modulationIndex:20,resonance:800,octaves:1.5}),this.crash.connect(this.volume),this.ride=new Ss({frequency:400,envelope:{attack:.001,decay:.5,release:.15},harmonicity:5.1,modulationIndex:14,resonance:1200,octaves:1}),this.ride.connect(this.volume),this.started=!0)}hit(e,n){var i,r,a,o,l,c,u,h;if(!this.started)return;const s=n*.8+.2;switch(e){case 0:(i=this.kick)==null||i.triggerAttackRelease("C1","8n",ds(),s);break;case 1:(r=this.snare)==null||r.triggerAttackRelease("8n",ds(),s);break;case 2:(a=this.closedHH)==null||a.triggerAttackRelease("16n",ds(),s);break;case 3:(o=this.openHH)==null||o.triggerAttackRelease("8n",ds(),s);break;case 4:(l=this.clap)==null||l.triggerAttackRelease("16n",ds(),s);break;case 5:(c=this.tom)==null||c.triggerAttackRelease("G1","8n",ds(),s);break;case 6:(u=this.crash)==null||u.triggerAttackRelease(300,"16n",ds(),s);break;case 7:(h=this.ride)==null||h.triggerAttackRelease(400,"32n",ds(),s);break}}hitByMidiNote(e,n){const s=Zm.get(e);return s===void 0?!1:(this.hit(s,n),!0)}setVolume(e){this.volume&&(this.volume.volume.value=e)}isStarted(){return this.started}dispose(){var e,n,s,i,r,a,o,l,c,u;(e=this.kick)==null||e.dispose(),(n=this.snare)==null||n.dispose(),(s=this.closedHH)==null||s.dispose(),(i=this.openHH)==null||i.dispose(),(r=this.clap)==null||r.dispose(),(a=this.tom)==null||a.dispose(),(o=this.crash)==null||o.dispose(),(l=this.ride)==null||l.dispose(),(c=this.hhFilter)==null||c.dispose(),(u=this.volume)==null||u.dispose(),this.kick=null,this.snare=null,this.closedHH=null,this.openHH=null,this.clap=null,this.tom=null,this.crash=null,this.ride=null,this.hhFilter=null,this.volume=null,this.started=!1}}const pM=new kH;function OH(t={}){const{onVolumeChange:e,onEffectChange:n,onDrumFlash:s}=t,[i,r]=_.useState(new Map),[a,o]=_.useState({reverbWet:0,chorusDepth:0,filterCutoff:18e3,filterResonance:1}),[l,c]=_.useState("auto"),u=_.useRef("auto"),h=_.useCallback(S=>{u.current=S,c(S)},[]),d=_.useCallback((S,w)=>u.current==="keys"?!1:w===EP?!0:Zm.has(S),[]),f=_.useCallback((S,w,C=1)=>{if(d(S,C)){const E=Zm.get(S);E!==void 0&&(pM.hit(E,w),s==null||s(E)),ce.getState()==="recording"&&ce.captureNoteOn(S,w,!0)}else Dt.noteOn(S,w),ce.getState()==="recording"&&ce.captureNoteOn(S,w,!1),r(E=>{const T=new Map(E);return T.set(S,{note:S,velocity:w}),T})},[d,s]),p=_.useCallback((S,w=1)=>{d(S,w)?ce.getState()==="recording"&&ce.captureNoteOff(S):(Dt.noteOff(S),ce.getState()==="recording"&&ce.captureNoteOff(S),r(C=>{const E=new Map(C);return E.delete(S),E}))},[d]),g=_.useRef(new Map),v=_.useCallback((S,w)=>{switch(S){case"reverbWet":return w.reverbWet;case"chorusDepth":return w.chorusDepth;case"filterCutoff":return Math.log(w.filterCutoff/60)/Math.log(18e3/60);case"filterResonance":return w.filterResonance/20}},[]),m=_.useCallback((S,w,C)=>{const E=w/127,T=g.current.get(S);if(T!=null&&T.pickedUp)return!0;const O=v(C,Dt.getEffectParams()),A=.05;if(!T){const I=Math.abs(E-O)<A;return g.current.set(S,{lastRaw:w,pickedUp:I}),I}const N=T.lastRaw/127,D=N<=O&&E>=O||N>=O&&E<=O||Math.abs(E-O)<A;return T.lastRaw=w,D&&(T.pickedUp=!0),D},[v]),y=_.useCallback((S,w)=>{if(TP.includes(S)){const E=Math.round(-40+w/127*40);Dt.setVolume(E),e==null||e(E);return}const C=wP.find(E=>E.cc===S);if(C){if(!m(S,w,C.effect))return;const E=w/127;switch(C.effect){case"reverbWet":Dt.setReverbWet(E);break;case"chorusDepth":Dt.setChorusDepth(E);break;case"filterCutoff":{const O=60*Math.pow(300,E);Dt.setFilterCutoff(O);break}case"filterResonance":Dt.setFilterResonance(E*20);break}const T=Dt.getEffectParams();o(T),n==null||n(T)}},[e,n,m]),b=_.useMemo(()=>({onNoteOn:(S,w,C)=>f(S,w,C),onNoteOff:(S,w)=>p(S,w),onControlChange:y}),[f,p,y]);return{activeNotes:i,noteOn:f,noteOff:p,callbacks:b,effectParams:a,setEffectParams:o,routingMode:l,setRoutingMode:h}}function DH(){const[t,e]=_.useState(new Set),n=_.useRef(new Map),s=_.useCallback(i=>{e(o=>{const l=new Set(o);return l.add(i),l});const r=n.current.get(i);r&&clearTimeout(r);const a=setTimeout(()=>{e(o=>{const l=new Set(o);return l.delete(i),l}),n.current.delete(i)},150);n.current.set(i,a)},[]);return{activePads:t,flashPad:s}}const VH=[{name:"Major",intervals:[0,2,4,5,7,9,11]},{name:"Natural Minor",intervals:[0,2,3,5,7,8,10]},{name:"Harmonic Minor",intervals:[0,2,3,5,7,8,11]},{name:"Dorian",intervals:[0,2,3,5,7,9,10]},{name:"Mixolydian",intervals:[0,2,4,5,7,9,10]},{name:"Pentatonic Major",intervals:[0,2,4,7,9]},{name:"Pentatonic Minor",intervals:[0,3,5,7,10]},{name:"Blues",intervals:[0,3,5,6,7,10]},{name:"Chromatic",intervals:[0,1,2,3,4,5,6,7,8,9,10,11]},{name:"Melodic Minor",intervals:[0,2,3,5,7,9,11]}];function IH(t,e){return new Set(e.intervals.map(n=>(t+n)%12))}const J1=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],BH=[[[0,4,7],"maj"],[[0,3,7],"m"],[[0,3,6],"dim"],[[0,4,8],"aug"],[[0,2,7],"sus2"],[[0,5,7],"sus4"],[[0,7],"5"],[[0,4,7,10],"7"],[[0,3,7,10],"m7"],[[0,4,7,11],"maj7"],[[0,3,6,9],"dim7"],[[0,3,6,10],"m7b5"]];function LH(t){if(t.length<2)return null;const e=[...new Set(t.map(n=>n%12))].sort((n,s)=>n-s);if(e.length<2)return null;for(const n of e){const s=e.map(i=>(i-n+12)%12).sort((i,r)=>i-r);for(const[i,r]of BH)if(jH(s,i))return{root:J1[n],quality:r,display:`${J1[n]}${r==="maj"?"":r}`}}return null}function jH(t,e){return t.length!==e.length?!1:t.every((n,s)=>n===e[s])}function PH(t){const[e,n]=_.useState(0),[s,i]=_.useState(null),r=_.useMemo(()=>{if(!s)return new Set;const o=VH.find(l=>l.name===s);return o?IH(e,o):new Set},[e,s]),a=_.useMemo(()=>{const o=Array.from(t.keys());return LH(o)},[t]);return{selectedRoot:e,setSelectedRoot:n,selectedScale:s,setSelectedScale:i,highlightedNotes:r,detectedChord:a}}function zH(){const[t,e]=_.useState([]),[n,s]=_.useState("stopped"),[i,r]=_.useState(0),[a,o]=_.useState(tN),[l,c]=_.useState(!1),[u,h]=_.useState(null),[d,f]=_.useState(null),[p,g]=_.useState(null),[v,m]=_.useState(64),y=_.useRef(!1),b=_.useCallback(()=>{const j=ce.getArrangement();e([...j.tracks]),s(ce.getState()),o(j.bpm),m(j.lengthBeats),h(ce.getArmedTrackId()),f(ce.getRecordingTrackId())},[]);_.useEffect(()=>{y.current||(ce.loadFromLocalStorage(),b(),y.current=!0);const j=ce.onStateChange(b),P=ce.onPositionChange(le=>{r(le),g(ce.getLiveRegion())});return()=>{j(),P()}},[b]),_.useEffect(()=>{y.current&&ce.saveToLocalStorage()},[t,a]);const S=_.useCallback((j="synth",P=0)=>{ce.addTrack(j,P)},[]),w=_.useCallback(j=>{ce.removeTrack(j)},[]),C=_.useCallback((j,P)=>{ce.setTrackInstrument(j,P)},[]),E=_.useCallback((j,P)=>{ce.setTrackVolume(j,P)},[]),T=_.useCallback((j,P)=>{ce.setTrackMute(j,P)},[]),O=_.useCallback((j,P)=>{ce.setTrackSolo(j,P)},[]),A=_.useCallback((j,P)=>{ce.addRegion(j,P)},[]),N=_.useCallback((j,P)=>{ce.removeRegion(j,P)},[]),D=_.useCallback((j,P,le)=>{ce.moveRegion(j,P,le)},[]),I=_.useCallback((j,P,le)=>{ce.moveRegionToTrack(j,P,le)},[]),V=_.useCallback((j,P,le)=>{ce.splitRegion(j,P,le)},[]),L=_.useCallback((j,P)=>{ce.duplicateRegion(j,P)},[]),R=_.useCallback(()=>{ce.play()},[]),k=_.useCallback(()=>{ce.stop()},[]),M=_.useCallback(j=>{ce.setBpm(j)},[]),B=_.useCallback(()=>{const j=!ce.isMetronomeEnabled();ce.setMetronomeEnabled(j),c(j)},[]),z=_.useCallback(j=>{ce.armTrackForRecording(j)},[]),X=_.useCallback(()=>{ce.startRecordingToTrack()},[]),ne=_.useCallback(()=>{ce.stopRecordingToTrack()},[]),re=_.useCallback((j,P,le)=>{ce.updateRegionNotes(j,P,le)},[]),ie=_.useCallback((j,P,le,fe)=>{ce.resizeRegion(j,P,le,fe)},[]),K=_.useCallback((j,P)=>{ce.copyRegion(j,P)},[]),ee=_.useCallback((j,P)=>{ce.pasteRegion(j,P)},[]);return{tracks:t,transportState:n,position:i,bpm:a,metronomeOn:l,armedTrackId:u,recordingTrackId:d,liveRegion:p,lengthBeats:v,addTrack:S,removeTrack:w,setTrackInstrument:C,setTrackVolume:E,setTrackMute:T,setTrackSolo:O,addRegion:A,removeRegion:N,moveRegion:D,moveRegionToTrack:I,splitRegion:V,duplicateRegion:L,play:R,stop:k,setBpm:M,toggleMetronome:B,armTrack:z,startRecording:X,stopRecording:ne,updateRegionNotes:re,resizeRegion:ie,copyRegion:K,pasteRegion:ee}}function UH(){const[t,e]=_.useState(!1),[n,s]=_.useState(!1),[i,r]=_.useState(),[a,o]=_.useState();_.useEffect(()=>{const u=()=>{e(Mn.canUndo()),s(Mn.canRedo()),r(Mn.undoLabel()),o(Mn.redoLabel())};return u(),Mn.onStateChange(u)},[]);const l=_.useCallback(()=>{ce.performUndo()},[]),c=_.useCallback(()=>{ce.performRedo()},[]);return{canUndo:t,canRedo:n,undoLabel:i,redoLabel:a,undo:l,redo:c}}function FH(){const t=TH(),e=DH(),n=zH(),s=UH(),[i,r]=_.useState(null),[a,o]=_.useState(!1),{activeNotes:l,noteOn:c,noteOff:u,callbacks:h,effectParams:d,setEffectParams:f,routingMode:p,setRoutingMode:g}=OH({onVolumeChange:t.changeVolume,onDrumFlash:e.flashPad}),v=RH(h),m=PH(l),y=_.useCallback(async()=>{await t.start(),await pM.start(),await v.enable()},[t,v]);return _.useEffect(()=>{if(!t.started)return;const b=S=>{if(S.target instanceof HTMLInputElement||S.target instanceof HTMLTextAreaElement)return;const w=S.metaKey||S.ctrlKey;if(w&&S.code==="KeyZ"){S.preventDefault(),S.shiftKey?s.redo():s.undo();return}if(w&&S.code==="KeyE"){S.preventDefault(),o(C=>!C);return}if(S.code==="Escape"&&i){S.preventDefault(),r(null);return}switch(S.code){case"Space":S.preventDefault(),n.transportState==="playing"||n.transportState==="recording"?n.stop():n.play();break;case"KeyR":S.preventDefault(),n.transportState==="recording"?n.stopRecording():n.transportState==="stopped"&&n.startRecording();break;case"KeyM":S.preventDefault(),n.toggleMetronome();break}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[t.started,n,s,i]),t.started?x.jsxs("div",{className:"flex h-full flex-col",children:[x.jsx(fu,{zoneName:"Controls",fallbackVariant:"inline",children:x.jsx(LP,{devices:v.devices,activeDeviceId:v.activeDeviceId,onSelectDevice:v.selectDevice,activeNotes:l,volume:t.volume,onVolumeChange:t.changeVolume,presetIndex:t.presetIndex,onPresetChange:t.changePreset,detectedChord:m.detectedChord,routingMode:p,onRoutingModeChange:g,canUndo:s.canUndo,canRedo:s.canRedo,onUndo:s.undo,onRedo:s.redo})}),x.jsxs(fu,{zoneName:"Transport",fallbackVariant:"inline",children:[x.jsx(MF,{effectParams:d,onEffectChange:f}),x.jsx(OF,{state:n.transportState==="recording"?"recording":n.transportState,bpm:n.bpm,metronomeOn:n.metronomeOn,positionBeats:n.position,recordDisabled:!n.armedTrackId,onRecord:n.startRecording,onStopRecording:n.stopRecording,onPlay:n.play,onStop:n.stop,onBpmChange:n.setBpm,onMetronomeToggle:n.toggleMetronome})]}),i?x.jsx(fu,{zoneName:"Piano Roll",fallbackVariant:"panel",onReset:()=>r(null),children:x.jsx(fH,{trackId:i.trackId,regionId:i.regionId,arrangement:ce.getArrangement(),onClose:()=>r(null),onUpdateNotes:n.updateRegionNotes,onResizeRegion:n.resizeRegion})}):x.jsxs(fu,{zoneName:"Arrangement",fallbackVariant:"panel",children:[x.jsx(ZF,{tracks:n.tracks,transportState:n.transportState,position:n.position,lengthBeats:n.lengthBeats,recordingTrackId:n.recordingTrackId,armedTrackId:n.armedTrackId,liveRegion:n.liveRegion,onAddTrack:n.addTrack,onRemoveTrack:n.removeTrack,onSetTrackInstrument:n.setTrackInstrument,onSetTrackVolume:n.setTrackVolume,onSetTrackMute:n.setTrackMute,onSetTrackSolo:n.setTrackSolo,onMoveRegion:n.moveRegion,onResizeRegion:n.resizeRegion,onRemoveRegion:n.removeRegion,onSplitRegion:n.splitRegion,onDuplicateRegion:n.duplicateRegion,onArmTrack:n.armTrack,canUndo:s.canUndo,canRedo:s.canRedo,onUndo:s.undo,onRedo:s.redo,onEditRegion:(b,S)=>r({trackId:b,regionId:S}),onCopyRegion:n.copyRegion,onPasteRegion:n.pasteRegion,hasClipboard:ce.hasClipboard(),onExport:()=>o(!0)}),x.jsx(BF,{activeNotes:l,onNoteOn:c,onNoteOff:u,highlightedNotes:m.highlightedNotes,activePads:e.activePads,onDrumHit:(b,S)=>{c(Rd[b].midiNote,S)}})]}),a&&x.jsx(wH,{onClose:()=>o(!1)})]}):x.jsx(dV,{onStart:y})}const HH=fk.createRoot(document.getElementById("root"));HH.render(_.createElement(FH));export{ex as g};
